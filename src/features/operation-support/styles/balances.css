/* ============================================
   OPERATION SUPPORT - BALANCES MODULE (SHORTAGES)
   Compact density — same visual style, tighter spacing
   ============================================ */

/* BASE CONTAINER */
.os-balances-container {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0;
}

/* HEADER (compact) */
.os-balances-container .os-balances-header {
  background: #fff;
  padding: 1rem;               /* ↓ from 1.5rem */
  border-radius: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  border: 1px solid #e5e7eb;
  margin-bottom: 1rem;         /* ↓ from 1.5rem */
}
.os-balances-container .os-balances-header-main {
  display: flex;
  align-items: center;
  gap: .75rem;                  /* ↓ from 1rem */
  margin-bottom: .375rem;       /* ↓ from .5rem */
}
.os-balances-container .os-balances-icon { font-size: 2rem; } /* ↓ from 2.25rem */
.os-balances-container .os-balances-title {
  font-size: 1.375rem;          /* ↓ from 1.5rem */
  font-weight: 700;
  background: linear-gradient(135deg, #02367B 0%, #0496C7 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 0 0 .2rem;
}
.os-balances-container .os-balances-subtitle {
  font-size: .8125rem;          /* ↓ from .875rem */
  color: #6b7280;
  margin: 0;
}

/* STATISTICS GRID (compact) */
.os-balances-container .os-stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: .75rem;                  /* ↓ from 1rem */
  margin-bottom: 1rem;          /* ↓ from 1.5rem */
}
.os-balances-container .os-stat-card {
  background: #fff;
  padding: 1rem;                /* ↓ from 1.25rem */
  border-radius: 12px;
  border: 1px solid #e5e7eb;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
.os-balances-container .os-stat-label {
  font-size: .7rem;             /* ↓ from .75rem */
  color: #6b7280;
  font-weight: 600;
  margin-bottom: .375rem;       /* ↓ from .5rem */
  text-transform: uppercase;
  letter-spacing: .05em;
}
.os-balances-container .os-stat-value {
  font-size: 1.5rem;            /* ↓ from 1.75rem */
  font-weight: 700;
}
.os-balances-container .os-stat-value.total{ color:#02367B; }
.os-balances-container .os-stat-value.amount{ color:#ef4444; }
.os-balances-container .os-stat-value.unpaid{ color:#f59e0b; }
.os-balances-container .os-stat-value.partial{ color:#0496C7; }

/* MAIN CARD */
.os-balances-container .os-balances-card {
  background:#fff;
  border-radius:16px;
  border:1px solid #e5e7eb;
  box-shadow:0 2px 8px rgba(0,0,0,.08);
  overflow:hidden;
}

/* FILTERS (compact inputs) */
.os-balances-container .os-balances-filters {
  display:flex;
  gap:.625rem;                  /* ↓ from .75rem */
  padding:.75rem;               /* ↓ from 1rem */
  background:#fff;
  border-bottom:1px solid #e5e7eb;
  flex-wrap:wrap;
}
.os-balances-container .os-search-wrapper { position:relative; flex:1; min-width:220px; } /* ↓ min width */
.os-balances-container .os-search-icon {
  position:absolute; left:.75rem; top:50%;
  transform:translateY(-50%); font-size:14px; color:#9ca3af; pointer-events:none;
}
.os-balances-container .os-search-input {
  width:100%; height:36px;      /* ↓ from 40px */
  padding:0 .75rem 0 2.25rem;   /* slightly tighter */
  background:#f9fafb; border:1px solid #e5e7eb; border-radius:8px;
  font-size:.8125rem;           /* ↓ from .875rem */
  font-family:inherit; outline:none; transition:all .2s ease;
}
.os-balances-container .os-search-input:focus { background:#fff; border-color:#0496C7; box-shadow:0 0 0 3px rgba(4,150,199,.1); }
.os-balances-container .os-filter-select {
  height:36px;                  /* ↓ from 40px */
  padding:0 1.5rem 0 .625rem;   /* tighter padding */
  background:#f9fafb; border:1px solid #e5e7eb; border-radius:8px;
  font-size:.8125rem;           /* ↓ from .875rem */
  font-weight:600; font-family:inherit; cursor:pointer; min-width:140px; outline:none; transition:all .2s ease;
}
.os-balances-container .os-filter-select:hover { border-color:#9ca3af; }
.os-balances-container .os-filter-select:focus { background:#fff; border-color:#0496C7; box-shadow:0 0 0 3px rgba(4,150,199,.1); }

/* CONTENT (compact) */
.os-balances-container .os-balances-content { padding:.75rem; max-height:560px; overflow-y:auto; } /* ↓ padding/height */
.os-balances-container .os-shortage-list { display:flex; flex-direction:column; gap:.75rem; }     /* ↓ gap */

/* EMPTY STATE (compact) */
.os-balances-container .os-empty-state { text-align:center; padding:2rem 1rem; color:#9ca3af; }   /* ↓ from 3rem */
.os-balances-container .os-empty-icon { font-size:2.5rem; margin-bottom:.75rem; display:block; }  /* ↓ sizes */
.os-balances-container .os-empty-text { font-size:.9375rem; font-weight:600; margin:0; }          /* ↓ from 1rem */

/* SHORTAGE CARD (compact) */
.os-balances-container .os-shortage-item {
  background:#fff; border:1px solid #e5e7eb; border-left-width:4px;
  border-radius:12px; padding:.875rem; transition:all .2s ease;      /* ↓ padding */
}
.os-balances-container .os-shortage-item.unpaid{ border-left-color:#ef4444; }
.os-balances-container .os-shortage-item.partial{ border-left-color:#f59e0b; }
.os-balances-container .os-shortage-item.paid{ border-left-color:#10b981; }
.os-balances-container .os-shortage-item:hover{ box-shadow:0 4px 12px rgba(0,0,0,.1); }
.os-balances-container .os-shortage-header{
  display:flex; justify-content:space-between; align-items:flex-start;
  margin-bottom:.75rem; gap:.75rem; flex-wrap:wrap;                   /* ↓ spacing */
}
.os-balances-container .os-shortage-info{ flex:1; min-width:200px; }
.os-balances-container .os-shortage-name{
  font-size:.9375rem;             /* ↓ from 1rem */
  font-weight:700; color:#02367B; margin-bottom:.2rem;
}
.os-balances-container .os-shortage-meta{ font-size:.8rem; color:#6b7280; font-weight:500; }

/* Status Badge (compact) */
.os-balances-container .os-status-badge{
  display:inline-flex; align-items:center; padding:.3125rem .625rem;  /* ↓ padding */
  border-radius:6px; font-size:.7rem; font-weight:700;                /* ↓ font */
}
.os-balances-container .os-status-badge.unpaid{ background:rgba(239,68,68,.1); color:#ef4444; border:1px solid rgba(239,68,68,.2); }
.os-balances-container .os-status-badge.partial{ background:rgba(245,158,11,.1); color:#f59e0b; border:1px solid rgba(245,158,11,.2); }
.os-balances-container .os-status-badge.paid{ background:rgba(16,185,129,.1); color:#10b981; border:1px solid rgba(16,185,129,.2); }

/* Stats Grid (compact) */
.os-balances-container .os-shortage-stats{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:.5rem; margin-bottom:.75rem; padding:.625rem;                    /* ↓ spacing */
  background:#f9fafb; border-radius:8px;
}
.os-balances-container .os-stat-item{ display:flex; flex-direction:column; }
.os-balances-container .os-stat-item-label{
  font-size:.675rem; color:#6b7280; font-weight:600; margin-bottom:.2rem; text-transform:uppercase; letter-spacing:.05em;
}
.os-balances-container .os-stat-item-value{ font-size:.84375rem; font-weight:700; color:#374151; } /* 13.5px-ish */
.os-balances-container .os-stat-item-value.highlight{ color:#f59e0b; }

/* Amount Box (compact) */
.os-balances-container .os-shortage-amount-box{
  padding:.75rem;                                                     /* ↓ from .875rem */
  background:linear-gradient(135deg, rgba(239,68,68,.08) 0%, rgba(239,68,68,.03) 100%);
  border:1px solid rgba(239,68,68,.2); border-radius:8px; margin-bottom:.75rem;
}
.os-balances-container .os-shortage-amount-row{ display:flex; justify-content:space-between; align-items:center; }
.os-balances-container .os-shortage-amount-row + .os-shortage-amount-row{ margin-top:.375rem; padding-top:.375rem; border-top:1px solid rgba(239,68,68,.1); }
.os-balances-container .os-shortage-amount-label{ font-size:.8rem; font-weight:600; color:#374151; }  /* ↓ font */
.os-balances-container .os-shortage-amount-label.small{ font-size:.725rem; color:#6b7280; }
.os-balances-container .os-shortage-amount-value{ font-size:1.125rem; font-weight:700; color:#ef4444; } /* ↓ from 1.25rem */
.os-balances-container .os-shortage-amount-value.paid{ font-size:.8125rem; color:#10b981; }

/* Contact + Notes (compact) */
.os-balances-container .os-contact-info{
  display:flex; align-items:center; gap:.5rem;
  padding:.5rem .75rem;                                              /* ↓ from .625/.875 */
  background:rgba(4,150,199,.08); border:1px solid rgba(4,150,199,.2); border-radius:8px; margin-bottom:.75rem;
}
.os-balances-container .os-contact-icon{ font-size:.95rem; }         /* ↓ from 1rem */
.os-balances-container .os-contact-phone{ font-size:.8125rem; font-weight:700; color:#02367B; }
.os-balances-container .os-notes-section{
  padding:.625rem; background:#f9fafb; border-radius:8px; margin-bottom:.75rem; font-size:.8rem;
}
.os-balances-container .os-note-item{ margin-bottom:.375rem; color:#6b7280; }
.os-balances-container .os-note-item:last-child{ margin-bottom:0; }
.os-balances-container .os-note-item strong{ color:#374151; }
.os-balances-container .os-note-item.main{ color:#374151; }

/* Actions + Buttons (compact) */
.os-balances-container .os-shortage-actions{ display:flex; gap:.5rem; flex-wrap:wrap; } /* ↓ gap */
.os-balances-container .os-btn{
  padding:.5rem .875rem;            /* ↓ from .625/1rem */
  border:none; border-radius:8px; font-size:.8rem;  /* ↓ from .8125rem */
  font-weight:600; cursor:pointer; font-family:inherit; display:flex; align-items:center; gap:.45rem; transition:all .2s ease;
}
.os-balances-container .os-btn-contact{ background:#0496C7; color:#fff; }
.os-balances-container .os-btn-contact:hover{ background:#006CA5; transform:translateY(-1px); }
.os-balances-container .os-btn-payment{ background:#10b981; color:#fff; }
.os-balances-container .os-btn-payment:hover{ background:#0ea06f; transform:translateY(-1px); }

/* MODAL (compact but centered) */
.os-balances-container .os-modal-overlay{
  position:fixed; inset:0; background:rgba(0,0,0,.5); backdrop-filter:blur(4px);
  z-index:1000; animation: fadeIn .2s ease-out;
  display:flex; align-items:center; justify-content:center; padding:1.5rem; /* ↓ from 2rem */
  overflow-y:auto;
}
@keyframes fadeIn{ from{opacity:0;} to{opacity:1;} }

.os-balances-container .os-modal{
  background:#fff; border-radius:16px; width:100%; max-width:540px;   /* ↓ from 560px */
  max-height:calc(100vh - 3rem);                                      /* tighter vertical */
  box-shadow:0 20px 25px -5px rgba(0,0,0,.1), 0 10px 10px -5px rgba(0,0,0,.04);
  position:relative; display:flex; flex-direction:column; animation: slideUp .25s ease-out; margin:auto;
}
@keyframes slideUp{ from{opacity:0; transform:scale(.97);} to{opacity:1; transform:scale(1);} }

.os-balances-container .os-modal-header{
  padding:1.25rem;                 /* ↓ from 1.5rem */
  border-bottom:1px solid #e5e7eb; display:flex; justify-content:space-between; align-items:center; flex-shrink:0;
}
.os-balances-container .os-modal-title{
  margin:0; font-size:1.125rem;    /* ↓ from 1.25rem */
  font-weight:700; color:#02367B;
}
.os-balances-container .os-modal-close{
  background:none; border:none; font-size:1.375rem; cursor:pointer; color:#6b7280; padding:0;
  width:30px; height:30px; display:flex; align-items:center; justify-content:center; transition:color .2s ease; flex-shrink:0;
}
.os-balances-container .os-modal-close:hover{ color:#374151; }

.os-balances-container .os-modal-body{
  padding:1.25rem;                 /* ↓ from 1.5rem */
  overflow-y:auto; flex:1; min-height:0;
}

.os-balances-container .os-summary-box{ padding:.875rem; background:#f9fafb; border-radius:8px; margin-bottom:1rem; }
.os-balances-container .os-summary-row{ display:flex; justify-content:space-between; margin-bottom:.375rem; }
.os-balances-container .os-summary-row:last-child{ margin-bottom:0; padding-top:.5rem; border-top:1px solid #e5e7eb; }
.os-balances-container .os-summary-label{ font-size:.8125rem; color:#6b7280; }
.os-balances-container .os-summary-label.strong{ font-weight:600; color:#374151; }
.os-balances-container .os-summary-value{ font-size:.8125rem; font-weight:700; }
.os-balances-container .os-summary-value.danger{ color:#ef4444; }
.os-balances-container .os-summary-value.success{ color:#10b981; }
.os-balances-container .os-summary-value.primary{ font-size:.9375rem; color:#02367B; }

/* Form (compact) */
.os-balances-container .os-form-group{ margin-bottom:1rem; }     /* ↓ from 1.25rem */
.os-balances-container .os-form-label{
  display:block; font-size:.8125rem;  /* ↓ from .875rem */
  font-weight:600; color:#374151; margin-bottom:.4rem;
}
.os-balances-container .os-form-input,
.os-balances-container .os-form-textarea{
  width:100%; padding:.625rem;         /* ↓ from .75rem */
  border:1px solid #e5e7eb; border-radius:8px; font-size:.8125rem; font-family:inherit; outline:none; transition:all .2s ease;
}
.os-balances-container .os-form-input:focus,
.os-balances-container .os-form-textarea:focus{ border-color:#0496C7; box-shadow:0 0 0 3px rgba(4,150,199,.1); }
.os-balances-container .os-form-textarea{ resize:vertical; min-height:90px; } /* ↓ from 100px */
.os-balances-container .os-form-help{ font-size:.725rem; color:#6b7280; margin-top:.3rem; }

/* Modal Footer + buttons (compact) */
.os-balances-container .os-modal-footer{
  padding:.875rem 1.25rem;           /* ↓ from 1rem 1.5rem */
  border-top:1px solid #e5e7eb; display:flex; justify-content:flex-end; gap:.625rem; flex-shrink:0;
}

.os-balances-container .os-btn-secondary{
  padding:.5rem 1rem;                /* ↓ from .625rem 1.25rem */
  background:#fff; border:1px solid #e5e7eb; border-radius:8px; font-size:.8125rem;
  font-weight:600; cursor:pointer; font-family:inherit; color:#374151; transition:all .2s ease;
}
.os-balances-container .os-btn-secondary:hover{ background:#f9fafb; border-color:#d1d5db; }
.os-balances-container .os-btn-primary{
  padding:.5rem 1rem;                /* ↓ */
  background:#0496C7; color:#fff; border:none; border-radius:8px; font-size:.8125rem;
  font-weight:600; cursor:pointer; font-family:inherit; transition:all .2s ease;
}
.os-balances-container .os-btn-primary:hover:not(:disabled){ background:#006CA5; }
.os-balances-container .os-btn-primary:disabled{ background:#d1d5db; cursor:not-allowed; }
.os-balances-container .os-btn-success{
  padding:.5rem 1rem;                /* ↓ */
  background:#10b981; color:#fff; border:none; border-radius:8px; font-size:.8125rem;
  font-weight:600; cursor:pointer; font-family:inherit; transition:all .2s ease;
}
.os-balances-container .os-btn-success:hover:not(:disabled){ background:#0ea06f; }
.os-balances-container .os-btn-success:disabled{ background:#d1d5db; cursor:not-allowed; }

/* RESPONSIVE */
@media (max-width: 768px){
  .os-balances-container .os-balances-header{ padding:1rem; }
  .os-balances-container .os-balances-title{ font-size:1.25rem; }
  .os-balances-container .os-stats-grid{ grid-template-columns:repeat(2,1fr); }
  .os-balances-container .os-shortage-stats{ grid-template-columns:1fr; }
  .os-balances-container .os-shortage-header{ flex-direction:column; align-items:flex-start; }
  .os-balances-container .os-shortage-actions{ width:100%; }
  .os-balances-container .os-btn{ flex:1; justify-content:center; }
  .os-balances-container .os-modal-overlay{ padding:1.25rem; } /* ↓ from 1.5rem */
  .os-balances-container .os-modal-header{ padding:1rem; }     /* ↓ */
  .os-balances-container .os-modal-body{ padding:1rem; }       /* ↓ */
  .os-balances-container .os-modal-footer{ padding:.75rem 1rem; } /* ↓ */
}

@media (max-width: 480px){
  .os-balances-container .os-stats-grid{ grid-template-columns:1fr; }
  .os-balances-container .os-balances-filters{ flex-direction:column; }
  .os-balances-container .os-search-wrapper{ min-width:100%; }
  .os-balances-container .os-filter-select{ width:100%; }
  .os-balances-container .os-modal-overlay{ padding:1rem; }
  .os-balances-container .os-modal{ max-height:calc(100vh - 2rem); border-radius:12px; }
  .os-balances-container .os-modal-header{ padding:.875rem; }
  .os-balances-container .os-modal-title{ font-size:1.0625rem; } /* ↓ a bit */
  .os-balances-container .os-modal-body{ padding:.875rem; }
  .os-balances-container .os-modal-footer{
    padding:.75rem .875rem;
    flex-direction:column;
  }
  .os-balances-container .os-btn-secondary,
  .os-balances-container .os-btn-primary,
  .os-balances-container .os-btn-success{
    width:100%; justify-content:center;
  }
}
