/* ============================================
   OPERATION SUPPORT - DAILY LEDGERS MODULE
   Compact & Optimized with Professional Print
   ============================================ */

/* ============================================
   BASE CONTAINER
   ============================================ */
.os-ledgers-container {
  font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', Roboto, sans-serif;
  color: var(--os-gray-700);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.os-balances-container *,
.os-balances-container *::before,
.os-balances-container *::after {
  box-sizing: border-box;
}
/* ============================================
   HEADER
   ============================================ */
.os-ledgers-header {
  background: var(--os-white);
  color: var(--os-navy);
  padding: 1.5rem;
  border-radius: var(--os-radius-lg);
  box-shadow: var(--os-shadow);
  border: 1px solid var(--os-gray-200);
  position: relative;
  overflow: hidden;
}
.os-ledgers-header-content { position: relative; z-index: 1; }
.os-ledgers-header-main { display: flex; align-items: center; gap: 0.875rem; }
.os-ledgers-icon { font-size: 2.25rem; line-height: 1; flex-shrink: 0; filter: drop-shadow(0 2px 4px var(--os-accent-glow)); }
.os-ledgers-header-text { flex: 1; }
.os-ledgers-title {
  font-size: 1.5rem; font-weight: 700; margin: 0 0 0.4rem;
  background: linear-gradient(135deg, var(--os-navy) 0%, var(--os-accent) 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  letter-spacing: -0.01em; line-height: 1.2;
}
.os-ledgers-subtitle { font-size: 0.875rem; color: var(--os-gray-600); margin: 0; font-weight: 500; line-height: 1.4; }

/* ============================================
   FILTERS CARD
   ============================================ */
.os-ledgers-filters-card {
  background: var(--os-white);
  border: 1px solid var(--os-gray-200);
  border-radius: var(--os-radius-md);
  padding: 1.25rem;
  box-shadow: var(--os-shadow);
}
.os-ledgers-filters {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 1rem; margin-bottom: 1.25rem;
}
.os-filter-group { display: flex; flex-direction: column; gap: 0.5rem; }
.os-filter-group.os-filter-search { grid-column: span 2; }
.os-filter-label {
  font-size: 0.7rem; font-weight: 600; color: var(--os-gray-600);
  text-transform: uppercase; letter-spacing: 0.05em;
}
.os-date-input,
.os-select-input {
  height: 38px; padding: 0 0.875rem; background: var(--os-gray-50);
  border: 1px solid var(--os-gray-200); border-radius: var(--os-radius-sm);
  color: var(--os-gray-700); font-size: 0.875rem; font-weight: 600; font-family: inherit;
  cursor: pointer; transition: all 0.2s var(--os-ease); outline: none;
}
.os-select-input {
  appearance: none;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'><path fill='%23374151' d='M6 8L2 4h8z'/></svg>");
  background-repeat: no-repeat; background-position: right 0.875rem center; background-size: 12px; padding-right: 2.5rem;
}
.os-date-input:focus, .os-select-input:focus { background: var(--os-white); border-color: var(--os-accent); box-shadow: 0 0 0 3px var(--os-accent-ring); }
.os-date-input:hover, .os-select-input:hover { border-color: var(--os-gray-400); }
.os-search-wrapper { position: relative; }
.os-search-icon {
  position: absolute; left: 0.875rem; top: 50%; transform: translateY(-50%);
  font-size: 14px; color: var(--os-gray-400); pointer-events: none;
}
.os-search-input {
  width: 100%; height: 38px; padding: 0 0.875rem 0 2.5rem;
  background: var(--os-gray-50); border: 1px solid var(--os-gray-200); border-radius: var(--os-radius-sm);
  color: var(--os-gray-700); font-size: 0.875rem; font-weight: 500; font-family: inherit;
  transition: all 0.2s var(--os-ease); outline: none;
}
.os-search-input:focus { background: var(--os-white); border-color: var(--os-accent); box-shadow: 0 0 0 3px var(--os-accent-ring); }
.os-search-input::placeholder { color: var(--os-gray-400); }

/* ============================================
   ACTION BUTTONS
   ============================================ */
.os-ledgers-actions {
  display: flex; gap: 0.75rem; flex-wrap: wrap;
  padding-top: 1rem; border-top: 1px solid var(--os-gray-200);
}
.os-btn-generate, .os-btn-manual, .os-btn-print, .os-btn-export {
  display: inline-flex; align-items: center; gap: 0.5rem;
  height: 38px; padding: 0 1rem; border-radius: var(--os-radius-sm);
  font-size: 0.875rem; font-weight: 600; font-family: inherit; cursor: pointer;
  transition: all 0.2s var(--os-ease); border: 1px solid; outline: none; white-space: nowrap;
}
.os-btn-generate { background: var(--os-accent); border-color: var(--os-accent); color: var(--os-white); box-shadow: 0 2px 4px var(--os-accent-glow); }
.os-btn-generate:hover:not(:disabled) { background: var(--os-accent-light); transform: translateY(-1px); box-shadow: 0 4px 8px var(--os-accent-glow); }
.os-btn-generate:disabled { opacity: 0.6; cursor: not-allowed; }
.os-btn-manual { background: var(--os-warning); border-color: var(--os-warning); color: var(--os-white); }
.os-btn-manual:hover { background: #d97706; transform: translateY(-1px); box-shadow: 0 4px 8px rgba(245,158,11,.3); }
.os-btn-print { background: var(--os-success); border-color: var(--os-success); color: var(--os-white); }
.os-btn-print:hover { background: #0ea06f; transform: translateY(-1px); box-shadow: 0 4px 8px rgba(16,185,129,.3); }
.os-btn-export { background: var(--os-white); border-color: var(--os-gray-300); color: var(--os-gray-700); }
.os-btn-export:hover { background: var(--os-gray-50); border-color: var(--os-gray-400); transform: translateY(-1px); }
.os-btn-generate span:first-child, .os-btn-manual span:first-child, .os-btn-print span:first-child, .os-btn-export span:first-child { font-size: 1rem; line-height: 1; }

/* ============================================
   PREVIEW CARD
   ============================================ */
.os-ledgers-preview-card {
  background: var(--os-white);
  border: 1px solid var(--os-gray-200);
  border-radius: var(--os-radius-md);
  box-shadow: var(--os-shadow);
  overflow: hidden;
}

/* ============================================
   SUMMARY SECTION
   ============================================ */
.os-ledgers-summary {
  padding: 1rem; background: var(--os-gray-50); border-bottom: 2px solid var(--os-gray-200);
}
.os-summary-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.875rem; }
.os-summary-title { font-size: 0.9375rem; font-weight: 700; color: var(--os-navy); margin: 0; letter-spacing: -0.01em; }
.os-summary-date { font-size: 0.8125rem; font-weight: 600; color: var(--os-gray-600); }
.os-summary-grid { display: grid; grid-template-columns: repeat(4,1fr); gap: 0.875rem; }
.os-summary-stat {
  display: flex; flex-direction: column; gap: 0.3rem; padding: 0.75rem;
  background: var(--os-white); border: 1px solid var(--os-gray-200); border-radius: var(--os-radius-sm);
}
.os-stat-label { font-size: 0.65rem; font-weight: 600; color: var(--os-gray-600); text-transform: uppercase; letter-spacing: 0.05em; }
.os-stat-value { font-size: 1.125rem; font-weight: 700; color: var(--os-navy); font-variant-numeric: tabular-nums; letter-spacing: -0.02em; }
.os-stat-value.debit { color: var(--os-danger); }
.os-stat-value.credit, .os-stat-value.positive { color: var(--os-success); }
.os-stat-value.negative { color: var(--os-danger); }

/* ============================================
   CONTENT AREA
   ============================================ */
.os-ledgers-content { padding: 1rem; display: flex; flex-direction: column; gap: 1.5rem; }

/* ============================================
   DAY SECTION
   ============================================ */
.os-day-section {
  background: var(--os-white); border: 1px solid var(--os-gray-200);
  border-radius: var(--os-radius-md); overflow: hidden; box-shadow: var(--os-shadow);
}
.os-day-header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 0.875rem 1rem;
  background: linear-gradient(135deg, var(--os-navy) 0%, var(--os-blue-dark) 100%);
  color: var(--os-white); border-bottom: 2px solid var(--os-accent);
}
.os-day-title { font-size: 0.9375rem; font-weight: 700; margin: 0; letter-spacing: -0.01em; }
.os-day-stats { display: flex; gap: 1.5rem; align-items: center; }
.os-day-stat { display: flex; align-items: center; gap: 0.5rem; }
.os-day-stat-label { font-size: 0.7rem; font-weight: 600; opacity: .9; text-transform: uppercase; letter-spacing: .05em; }

/* === Pill design for Opening / Closing amounts === */
.os-day-stat-value {
  font-size: 0.875rem; font-weight: 700; font-variant-numeric: tabular-nums;
  padding: 0.2rem 0.6rem;
  border-radius: 999px;         /* pill */
  background: rgba(255,255,255,.15);
  border: 1px solid rgba(255,255,255,.35);
  line-height: 1.2;
}
.os-day-stat-value.positive {
  color: var(--os-teal);
  background: rgba(16,185,129,.12);
  border-color: rgba(16,185,129,.35);
}
.os-day-stat-value.negative {
  color: var(--os-danger);
  background: rgb(255, 255, 255);
  border-color: rgb(255, 255, 255);
}

/* ============================================
   TABLE - COMPACT VERSION
   ============================================ */
.os-ledgers-table-wrapper { overflow-x: auto; padding: 0.5rem; }
.os-ledgers-table {
  width: 100%; border-collapse: collapse; background: var(--os-white); font-size: 0.75rem;
}

.os-ledgers-table.os-compact thead th {
  padding: 0.5rem 0.4rem; text-align: left; font-weight: 700; font-size: 0.65rem;
  color: var(--os-gray-600); text-transform: uppercase; letter-spacing: 0.05em;
  border-bottom: 2px solid var(--os-gray-200); white-space: nowrap; background: var(--os-gray-50);
}
.os-ledgers-table.os-compact tbody td {
  padding: 0.4rem; border-bottom: 1px solid var(--os-gray-200);
  font-size: 0.72rem; color: var(--os-gray-700); vertical-align: middle;
}
.os-ledgers-table tbody tr { transition: background 0.2s var(--os-ease); }
.os-ledgers-table tbody tr:hover { background: var(--os-gray-50); }
.os-ledgers-table tbody tr:last-child td { border-bottom: none; }

.os-ledgers-table tfoot { background: var(--os-gray-100); border-top: 2px solid var(--os-gray-300); }
.os-ledgers-table tfoot td { padding: 0.625rem 0.4rem; font-weight: 700; font-size: 0.8125rem; color: var(--os-navy); }

/* Opening Balance Row */
.os-opening-row { background: var(--os-accent-ghost) !important; font-weight: 700; }
.os-opening-label {
  text-align: right; color: var(--os-navy); font-weight: 700; font-size: 0.75rem;
  text-transform: uppercase; letter-spacing: 0.05em;
}

/* Compact Table Cells (screen) */
.os-td-time { font-weight: 600; color: var(--os-gray-700); font-variant-numeric: tabular-nums; font-size: 0.7rem; white-space: nowrap; }
.os-td-draw { font-weight: 600; color: var(--os-gray-600); font-size: 0.7rem; white-space: nowrap; }
.os-td-agent-compact {
  font-weight: 600; color: var(--os-gray-800); font-size: 0.7rem;
  max-width: 140px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
}
.os-td-trans { white-space: nowrap; }
.os-trans-badge {
  display: inline-flex; align-items: center; padding: 0.2rem 0.4rem; border-radius: 999px;
  font-size: 0.55rem; font-weight: 700; text-transform: uppercase; letter-spacing: .025em; border: 1px solid; white-space: nowrap;
}
.os-trans-badge.trans-sales      { background: var(--os-success-bg);  color: var(--os-success);  border-color: var(--os-success-border); }
.os-trans-badge.trans-net        { background: var(--os-info-bg);     color: var(--os-info);     border-color: var(--os-info-border); }
.os-trans-badge.trans-payout     { background: var(--os-danger-bg);   color: var(--os-danger);   border-color: var(--os-danger-border); }
.os-trans-badge.trans-remittance { background: var(--os-warning-bg);  color: var(--os-warning);  border-color: var(--os-warning-border); }
.os-trans-badge.trans-collection { background: var(--os-accent-ghost);color: var(--os-accent);   border-color: var(--os-accent-line); }
.os-trans-badge.trans-tapada     { background: rgba(168,85,247,.1);   color: #9333ea;            border-color: rgba(168,85,247,.3); }
.os-trans-badge.trans-force      { background: rgba(234,88,12,.1);    color: #ea580c;            border-color: rgba(234,88,12,.3); }

.os-td-desc { max-width: 180px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-size: 0.72rem; }
.os-td-hits { font-size: 0.7rem; color: var(--os-gray-600); font-weight: 600; white-space: nowrap; }

/* Numeric cells */
.os-td-debit, .os-td-credit, .os-td-balance {
  text-align: right; font-weight: 700; font-variant-numeric: tabular-nums; white-space: nowrap;
}
.os-td-debit { color: var(--os-danger); }    /* default debit color */
.os-td-credit { color: var(--os-success); }  /* default credit color */
.os-td-balance.positive { color: var(--os-success); }
.os-td-balance.negative { color: var(--os-danger); }

/* Global utility to ensure any negative-styled number shows red */
.negative { color: var(--os-danger) !important; }

.os-td-encoder { font-size: 0.7rem; color: var(--os-gray-600); font-weight: 500; white-space: nowrap; }

.os-totals-row { font-weight: 700; background: var(--os-gray-100); }
.os-totals-label {
  text-align: right; color: var(--os-navy); font-weight: 700; font-size: 0.75rem;
  text-transform: uppercase; letter-spacing: 0.05em;
}
.os-totals-debit, .os-totals-credit, .os-totals-balance {
  text-align: right; font-variant-numeric: tabular-nums; font-weight: 700; white-space: nowrap;
}
.os-totals-debit { color: var(--os-danger); }
.os-totals-credit { color: var(--os-success); }
.os-totals-balance { font-size: 0.9375rem; }

/* ============================================
   SIGNATURE SECTION (SCREEN HIDDEN)
   ============================================ */
.os-print-signatures {
  display: none; padding: 1rem 1.5rem; margin-top: 1rem; background: var(--os-white);
}
.os-signature-block { text-align: center; margin-bottom: 1rem; }
.os-signature-label {
  font-size: 0.75rem; font-weight: 600; color: var(--os-gray-600);
  text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.5rem;
}
.os-signature-line {
  font-size: 0.875rem; font-weight: 700; color: var(--os-navy);
  padding: 0.5rem 0; border-bottom: 2px solid var(--os-gray-900);
  margin: 0.5rem auto; max-width: 250px;
}
.os-signature-title { font-size: 0.75rem; font-weight: 500; color: var(--os-gray-600); margin-top: 0.25rem; }

/* ============================================
   GRAND TOTAL
   ============================================ */
.os-grand-total {
  background: linear-gradient(135deg, var(--os-navy) 0%, var(--os-blue-dark) 100%);
  color: var(--os-white); padding: 1.25rem 1.5rem; border-radius: var(--os-radius-md); box-shadow: var(--os-shadow-md);
}
.os-grand-total-label {
  font-size: 1rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.05em;
  margin-bottom: 1rem; text-align: center;
}
.os-grand-total-stats { display: grid; grid-template-columns: repeat(3,1fr); gap: 1.5rem; }
.os-grand-total-item {
  display: flex; flex-direction: column; align-items: center; gap: 0.5rem; padding: 1rem;
  background: rgba(255,255,255,.1); border-radius: var(--os-radius-sm); border: 1px solid rgba(255,255,255,.2);
}
.os-grand-label { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.05em; opacity: .9; }
.os-grand-value { font-size: 1.5rem; font-weight: 700; font-variant-numeric: tabular-nums; letter-spacing: -0.02em; }
.os-grand-value.debit, .os-grand-value.negative { color: #ff6b6b; }
.os-grand-value.credit, .os-grand-value.positive { color: var(--os-teal); }

/* ============================================
   PLACEHOLDER / EMPTY
   ============================================ */
.os-ledgers-placeholder {
  background: var(--os-white); border: 2px dashed var(--os-gray-300);
  border-radius: var(--os-radius-md); padding: 4rem 2rem;
  display: flex; align-items: center; justify-content: center;
}
.os-placeholder-content { text-align: center; max-width: 400px; }
.os-placeholder-icon { font-size: 4rem; margin-bottom: 1.5rem; opacity: .4; display: block; }
.os-placeholder-title { font-size: 1.125rem; font-weight: 700; color: var(--os-navy); margin: 0 0 .5rem; }
.os-placeholder-text { font-size: 0.875rem; color: var(--os-gray-500); margin: 0; line-height: 1.5; }

.os-empty-state { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 3rem 1rem; text-align: center; }
.os-empty-icon { font-size: 3rem; margin-bottom: 1rem; opacity: .5; }
.os-empty-text { font-size: 0.875rem; color: var(--os-gray-500); font-weight: 500; font-style: italic; }

/* ============================================
   MODALS
   ============================================ */
.os-modal-overlay {
  position: fixed; inset: 0; background: rgba(15,23,42,.6);
  backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
  z-index: 10001; opacity: 0; pointer-events: none; transition: opacity .2s var(--os-ease);
}
.os-modal-overlay.active { opacity: 1; pointer-events: all; }
.os-modal-container {
  position: fixed; inset: 0; z-index: 10002; display: flex; align-items: center; justify-content: center;
  padding: 1rem; opacity: 0; pointer-events: none; transition: opacity .2s var(--os-ease);
}
.os-modal-container.active { opacity: 1; pointer-events: all; }
.os-modal-content {
  width: 100%; max-width: 600px; max-height: 90vh; background: var(--os-white);
  border: 1px solid var(--os-gray-200); border-radius: var(--os-radius-md); box-shadow: var(--os-shadow-xl);
  display: flex; flex-direction: column; overflow: hidden; animation: modalIn .2s var(--os-ease);
}
@keyframes modalIn { from { opacity: 0; transform: scale(.95) translateY(20px);} to { opacity: 1; transform: scale(1) translateY(0);} }
.os-modal-header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 1.125rem 1.25rem; background: var(--os-gray-50); border-bottom: 1px solid var(--os-gray-200); flex-shrink: 0;
}
.os-modal-header h3 { margin: 0; font-size: 1.125rem; font-weight: 700; color: var(--os-navy); letter-spacing: -0.01em; }
.os-modal-close {
  width: 32px; height: 32px; border: 1px solid var(--os-gray-200); border-radius: var(--os-radius-sm);
  background: var(--os-white); color: var(--os-gray-500); font-size: 20px; line-height: 1; cursor: pointer;
  display: flex; align-items: center; justify-content: center; transition: all .2s var(--os-ease); flex-shrink: 0; font-family: inherit; outline: none;
}
.os-modal-close:hover { background: var(--os-gray-100); color: var(--os-gray-700); border-color: var(--os-gray-300); }
.os-modal-body { padding: 1.25rem; overflow-y: auto; flex: 1; }
.os-modal-footer { display: flex; justify-content: flex-end; gap: .625rem; padding: .875rem 1.25rem; background: var(--os-gray-50); border-top: 1px solid var(--os-gray-200); flex-shrink: 0; }

/* ============================================
   FORM ELEMENTS
   ============================================ */
.os-form-group { margin-bottom: 1.125rem; }
.os-form-group:last-child { margin-bottom: 0; }
.os-form-label {
  display: block; font-size: .75rem; font-weight: 600; color: var(--os-navy);
  margin-bottom: .5rem; text-transform: uppercase; letter-spacing: .05em;
}
.os-form-textarea, .os-form-input {
  width: 100%; padding: .75rem .875rem; background: var(--os-white);
  border: 1px solid var(--os-gray-200); border-radius: var(--os-radius-sm);
  color: var(--os-gray-700); font-size: .8125rem; font-weight: 500; font-family: inherit;
  transition: all .2s var(--os-ease); outline: none; resize: vertical;
}
.os-form-textarea:focus, .os-form-input:focus { background: var(--os-white); border-color: var(--os-accent); box-shadow: 0 0 0 3px var(--os-accent-ring); }
.os-form-textarea::placeholder, .os-form-input::placeholder { color: var(--os-gray-400); }
.os-form-help-text { margin-top: .375rem; font-size: .7rem; color: var(--os-gray-500); font-weight: 500; line-height: 1.3; }
.os-radio-group { display: flex; gap: 1rem; padding: .5rem 0; }
.os-radio-label { display: flex; align-items: center; gap: .5rem; cursor: pointer; font-size: .8125rem; color: var(--os-gray-700); font-weight: 500; }
.os-radio-label input[type="radio"] { width: 16px; height: 16px; cursor: pointer; accent-color: var(--os-accent); }

/* Buttons (modal) */
.os-btn-secondary, .os-btn-primary {
  display: inline-flex; align-items: center; justify-content: center; gap: .4rem; height: 38px; padding: 0 1rem;
  border-radius: var(--os-radius-sm); font-size: .875rem; font-weight: 600; font-family: inherit; cursor: pointer; transition: all .2s var(--os-ease); border: 1px solid; outline: none; white-space: nowrap;
}
.os-btn-secondary { background: var(--os-white); border-color: var(--os-gray-300); color: var(--os-gray-700); }
.os-btn-secondary:hover { background: var(--os-gray-50); border-color: var(--os-gray-400); }
.os-btn-primary { background: var(--os-accent); border-color: var(--os-accent); color: var(--os-white); }
.os-btn-primary:hover:not(:disabled) { background: var(--os-accent-light); transform: translateY(-1px); box-shadow: 0 4px 8px var(--os-accent-glow); }
.os-btn-primary:disabled { opacity: .5; cursor: not-allowed; }

/* Scrollbar */
.os-modal-body::-webkit-scrollbar { width: 6px; }
.os-modal-body::-webkit-scrollbar-track { background: var(--os-gray-100); border-radius: 3px; }
.os-modal-body::-webkit-scrollbar-thumb { background: var(--os-gray-300); border-radius: 3px; }
.os-modal-body::-webkit-scrollbar-thumb:hover { background: var(--os-gray-400); }

/* ============================================
   PRINT — SAFE FOR A4 & LETTER (REBALANCED)
   ============================================ */
@media print {
  /* UA reset & consistent top spacing on every page */
  html, body { margin: 0 !important; padding: 0 !important; }

  /* Printer can choose A4 or Letter; safe margins prevent clipping */
  @page { size: auto; margin: 8.5mm; }

  /* Give every page a uniform, non-collapsing top inset */
  .os-ledgers-container { padding-top: 0 !important; }
  .os-ledgers-container > *:first-child { margin-top: 0 !important; }
  .os-day-section, .os-day-header { margin-top: 0 !important; }

  /* Neutralize heavy visuals; keep crisp text */
  * {
    background: transparent !important; color: #000 !important;
    box-shadow: none !important; text-shadow: none !important;
    -webkit-print-color-adjust: exact; print-color-adjust: exact;
  }

  /* Hide on-screen UI */
  .os-ledgers-header, .os-ledgers-filters-card, .os-ledgers-summary, .no-print { display: none !important; }

  /* Resets */
  .os-ledgers-container { max-width: 100% !important; margin: 0 !important; gap: 0 !important; }
  .os-ledgers-preview-card { border: 0 !important; border-radius: 0 !important; box-shadow: none !important; overflow: visible !important; }
  .os-ledgers-content { padding: 0 !important; gap: 0 !important; }

  /* Start each day on a new page; avoid extra top gap on page 1 */
  .os-day-section {
    break-before: page;
    page-break-inside: avoid;
    border: 0 !important; border-radius: 0 !important; margin: 0 !important; padding: 0 !important;
  }
  .os-day-section:first-child { break-before: auto; }

  /* Header row: keep pill outline visible in print */
  .os-day-header {
    background: #fff !important; padding: 6pt 0 !important; border: 0 !important;
    border-bottom: 2px solid #000 !important; margin: 0 0 6pt !important; border-radius: 0 !important; break-after: avoid-page;
  }
  .os-day-title { font-size: 12pt !important; font-weight: 700 !important; }
  .os-day-stats { gap: 12pt !important; }
  .os-day-stat-label { font-size: 7.5pt !important; font-weight: 600 !important; }

  /* Pill styles in print: black keyline, subtle gray fill for readability */
  .os-day-stat-value {
    font-size: 9pt !important; font-weight: 700 !important;
    background: #fff !important; border: 1px solid #000 !important; color: #000 !important;
    padding: 2pt 6pt !important; border-radius: 999px !important;
  }
  .os-day-stat-value.positive { color: #000 !important; }
  .os-day-stat-value.negative { color: #000 !important; }

  /* Table wrapper */
  .os-ledgers-table-wrapper { overflow: visible !important; padding: 0 !important; }

  /* Table: fixed layout; borders on cells (survive page breaks) */
  .os-ledgers-table {
    width: 100% !important; max-width: 100% !important;
    table-layout: fixed !important; border-collapse: separate !important; border-spacing: 0 !important;
    font-family: Arial, sans-serif !important; font-size: 8pt !important; page-break-inside: auto !important; border: 0 !important;
  }
  .os-ledgers-table thead { display: table-header-group !important; }
  .os-ledgers-table tfoot { display: table-footer-group !important; }

  /* Tighter padding for more content per line */
  .os-ledgers-table thead th { padding: 4pt 3pt !important; font-size: 7.5pt !important; font-weight: 700 !important; text-transform: uppercase !important; letter-spacing: .03em !important; border: 1px solid #000 !important; border-bottom-width: 2px !important; background: #fff !important; white-space: nowrap !important; }
  .os-ledgers-table tbody td {
    padding: 3.5pt 3pt !important; font-size: 8pt !important; border: 1px solid #333 !important;
    white-space: normal !important; word-wrap: break-word !important; overflow-wrap: anywhere !important; line-height: 1.3 !important; box-sizing: border-box !important;
  }
  .os-ledgers-table tfoot td { padding: 5pt 4pt !important; font-size: 9pt !important; font-weight: 700 !important; border: 1px solid #000 !important; border-top-width: 2px !important; background: #fff !important; }
  .os-ledgers-table tbody tr, .os-ledgers-table thead tr, .os-ledgers-table tfoot tr { page-break-inside: avoid !important; page-break-after: auto !important; }

  /* Rebalanced widths (adds slack to rightmost columns) */
  .os-td-time           { width: 5.5% !important; white-space: nowrap !important; }
  .os-td-draw           { width: 4.5% !important; white-space: nowrap !important; }
  .os-td-agent-compact  { width: 14%  !important; white-space: normal !important; overflow: visible !important; }
  .os-td-trans          { width: 7.5% !important; }
  .os-td-desc           { width: 24%  !important; white-space: normal !important; overflow: visible !important; }
  .os-td-hits           { width: 4.5% !important; white-space: nowrap !important; }
  .os-td-debit          { width: 12%  !important; white-space: nowrap !important; }
  .os-td-credit         { width: 12%  !important; white-space: nowrap !important; }
  .os-td-balance        { width: 12%  !important; white-space: nowrap !important; }

  /* Numeric columns */
  .os-td-debit, .os-td-credit, .os-td-balance,
  .os-totals-debit, .os-totals-credit, .os-totals-balance {
    text-align: right !important; font-variant-numeric: tabular-nums !important; font-weight: 700 !important; white-space: nowrap !important; letter-spacing: -0.01em !important;
  }

  /* Ensure negative class prints as black (since red may be low-contrast on some printers) */
  .negative { color: #000 !important; }

  /* Badges */
  .os-trans-badge { font-size: 7pt !important; padding: 2pt 4pt !important; border: 1px solid #000 !important; border-radius: 4pt !important; background: #fff !important; white-space: nowrap !important; }

  /* Opening/totals */
  .os-opening-row { background: #fff !important; font-weight: 700 !important; }
  .os-opening-label, .os-totals-label { font-weight: 700 !important; text-transform: uppercase !important; }
  .os-totals-row { background: #fff !important; font-weight: 700 !important; }

  /* Signatures */
  .os-ledgers-table-wrapper::after { content: none !important; }
  .os-print-signatures {
    display: grid !important; grid-template-columns: repeat(3,1fr) !important; gap: 14pt !important; padding: 12pt !important;
    page-break-inside: avoid !important; border: 1px solid #000 !important; border-radius: 6pt !important; margin-top: 10pt !important;
  }
  .os-signature-label { font-size: 8pt !important; font-weight: 700 !important; margin-bottom: 10pt !important; }
  .os-signature-line  { font-size: 9pt !important; font-weight: 700 !important; padding: 10pt 0 4pt !important; border-bottom: 2px solid #000 !important; margin: 12pt auto 4pt !important; max-width: 180px !important; }
  .os-signature-title { font-size: 7.5pt !important; }
}

/* ============================================
   OPTIONAL: On-screen print preview helper
   ============================================ */
@media screen {
  .os-print-preview {
    width: 210mm; /* A4 width */
    margin: 0 auto; background: #fff;
    box-shadow: 0 0 0 1px rgba(0,0,0,.08), 0 6px 24px rgba(0,0,0,.08);
    padding: 12mm;
  }
  .os-print-preview.is-letter { width: 216mm; } /* 8.5 in */
}

/* ============================================
   RESPONSIVE
   ============================================ */
@media (max-width: 1024px) {
  .os-summary-grid { grid-template-columns: repeat(2,1fr); }
  .os-ledgers-filters { grid-template-columns: 1fr; }
  .os-filter-group.os-filter-search { grid-column: span 1; }
  .os-grand-total-stats { grid-template-columns: 1fr; }
}
@media (max-width: 768px) {
  .os-ledgers-container { gap: 1rem; padding: 0.5rem; }
  .os-ledgers-header { padding: 1.25rem; }
  .os-ledgers-icon { font-size: 2rem; }
  .os-ledgers-title { font-size: 1.25rem; }
  .os-ledgers-subtitle { font-size: 0.8125rem; }
  .os-ledgers-filters-card { padding: 1rem; }
  .os-summary-grid { grid-template-columns: 1fr; }
  .os-ledgers-actions { flex-direction: column; }
  .os-ledgers-actions button { width: 100%; justify-content: center; }
  .os-ledgers-table-wrapper { overflow-x: scroll; }
  .os-ledgers-table { min-width: 1100px; }
  .os-day-header { flex-direction: column; align-items: flex-start; gap: 0.75rem; }
  .os-day-stats { width: 100%; justify-content: space-between; }
}
@media (max-width: 480px) {
  .os-ledgers-header { padding: 0.875rem; }
  .os-ledgers-title { font-size: 1.125rem; }
  .os-placeholder-icon { font-size: 3rem; }
  .os-modal-content { max-width: 95vw; }
  .os-day-stats { flex-direction: column; align-items: flex-start; gap: 0.5rem; }
}

/* ============================================
   ACCESSIBILITY
   ============================================ */
.os-date-input:focus-visible,
.os-select-input:focus-visible,
.os-search-input:focus-visible,
.os-btn-generate:focus-visible,
.os-btn-manual:focus-visible,
.os-btn-print:focus-visible,
.os-btn-export:focus-visible,
.os-btn-secondary:focus-visible,
.os-btn-primary:focus-visible,
.os-modal-close:focus-visible,
.os-form-textarea:focus-visible,
.os-form-input:focus-visible { outline: 2px solid var(--os-accent); outline-offset: 2px; }
@media (prefers-contrast: high) {
  .os-ledgers-filters-card, .os-ledgers-preview-card, .os-modal-content, .os-day-section { border-width: 2px; }
}

/* ============================================
   PERFORMANCE
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  .os-btn-generate, .os-btn-manual, .os-btn-print, .os-btn-export,
  .os-btn-secondary, .os-btn-primary, .os-modal-close,
  .os-ledgers-table tbody tr, .os-modal-content, .os-modal-overlay { transition: none; animation: none; }
}
