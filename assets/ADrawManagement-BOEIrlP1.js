import{r as n,j as s}from"./index-BNB87u39.js";const L=()=>{const o=()=>new Date().toISOString().split("T")[0],[d,b]=n.useState(o()),[m,w]=n.useState(""),[j,M]=n.useState("all"),[P,x]=n.useState(!1),[c,S]=n.useState(null),p={pares:{name:"STL Pares",icon:"🎲",times:["10:30 AM","3:00 PM","7:00 PM"]},swer2:{name:"STL Swer2",icon:"🎯",times:["11:00 AM","4:00 PM","9:00 PM"]},swer3:{name:"STL Swer3",icon:"🎰",times:["10:00 AM","2:00 PM","6:00 PM","10:00 PM"]},l2:{name:"Last 2",icon:"2️⃣",times:["11:00 AM","4:00 PM","9:00 PM"]},l3:{name:"Last 3",icon:"3️⃣",times:["11:00 AM","4:00 PM","9:00 PM"]}},[g]=n.useState({[`${o()}_pares_10:30 AM`]:{result:"05-23",winners:12,payout:84e3},[`${o()}_pares_3:00 PM`]:{result:"17-32",winners:8,payout:56e3},[`${o()}_swer3_10:00 AM`]:{result:"427",winners:15,payout:75e3},[`${o()}_l2_11:00 AM`]:{result:"42",winners:23,payout:92e3}}),v=n.useMemo(()=>{const e=[];return Object.entries(p).forEach(([a,t])=>{t.times.forEach(i=>{const l=`${d}_${a}_${i}`,r=g[l];e.push({key:l,gameId:a,gameName:t.name,gameIcon:t.icon,time:i,result:r?.result||"—",winners:r?.winners||0,payout:r?.payout||0,hasResult:!!r})})}),e},[d,g]),N=n.useMemo(()=>v.filter(e=>{const a=j==="all"||e.gameId===j,t=m===""||e.gameName.toLowerCase().includes(m.toLowerCase())||e.time.toLowerCase().includes(m.toLowerCase())||e.result.toLowerCase().includes(m.toLowerCase());return a&&t}),[v,j,m]),h=n.useMemo(()=>{const e=v.filter(l=>l.key.startsWith(d)),a=e.filter(l=>l.hasResult),t=a.reduce((l,r)=>l+r.winners,0),i=a.reduce((l,r)=>l+r.payout,0);return{total:e.length,completed:a.length,pending:e.length-a.length,totalWinners:t,totalPayout:i}},[v,d]),u=e=>"₱"+e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),f=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),y=e=>{if(!e.hasResult)return;const a=[],t=e.winners;for(let i=0;i<t;i++)a.push({id:i+1,ticketNo:`T${Math.random().toString(36).substring(2,10).toUpperCase()}`,teller:`T-000${Math.floor(Math.random()*9)+1}`,betAmount:[10,20,50,100][Math.floor(Math.random()*4)],prize:e.payout/t,status:Math.random()>.3?"Paid":"Pending"});S({...e,winnersList:a}),x(!0)},D=n.useMemo(()=>{const e={};return N.forEach(a=>{e[a.gameId]||(e[a.gameId]={name:a.gameName,icon:a.gameIcon,draws:[]}),e[a.gameId].draws.push(a)}),e},[N]);return s.jsxs("div",{className:"draw-mgmt",children:[s.jsx("div",{className:"draw-header",children:s.jsxs("div",{children:[s.jsx("h1",{className:"draw-title",children:"Draw Management"}),s.jsx("p",{className:"draw-subtitle",children:"View draw schedules and results"})]})}),s.jsxs("div",{className:"draw-stats",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon stat-blue",children:"📅"}),s.jsxs("div",{children:[s.jsx("div",{className:"stat-value",children:h.total}),s.jsx("div",{className:"stat-label",children:"Total Draws"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon stat-green",children:"✓"}),s.jsxs("div",{children:[s.jsx("div",{className:"stat-value",children:h.completed}),s.jsx("div",{className:"stat-label",children:"Completed"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon stat-orange",children:"⏳"}),s.jsxs("div",{children:[s.jsx("div",{className:"stat-value",children:h.pending}),s.jsx("div",{className:"stat-label",children:"Pending"})]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-icon stat-purple",children:"🏆"}),s.jsxs("div",{children:[s.jsx("div",{className:"stat-value",children:h.totalWinners}),s.jsx("div",{className:"stat-label",children:"Winners"})]})]}),s.jsxs("div",{className:"stat-card stat-wide",children:[s.jsx("div",{className:"stat-icon stat-red",children:"💰"}),s.jsxs("div",{children:[s.jsx("div",{className:"stat-value",children:u(h.totalPayout)}),s.jsx("div",{className:"stat-label",children:"Total Payout"})]})]})]}),s.jsxs("div",{className:"draw-filters",children:[s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"Date"}),s.jsx("input",{type:"date",value:d,onChange:e=>b(e.target.value)})]}),s.jsxs("div",{className:"filter-group",children:[s.jsx("label",{children:"Game"}),s.jsxs("select",{value:j,onChange:e=>M(e.target.value),children:[s.jsx("option",{value:"all",children:"All Games"}),Object.entries(p).map(([e,a])=>s.jsx("option",{value:e,children:a.name},e))]})]}),s.jsxs("div",{className:"filter-group filter-search",children:[s.jsx("label",{children:"Search"}),s.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:e=>w(e.target.value)})]})]}),s.jsx("div",{className:"draw-tables",children:Object.entries(D).map(([e,a])=>s.jsxs("div",{className:"game-section",children:[s.jsxs("div",{className:"game-header",children:[s.jsxs("h2",{children:[s.jsx("span",{className:"game-icon",children:a.icon}),a.name]}),s.jsxs("span",{className:"game-date",children:["Draw Date: ",f(d)]})]}),s.jsxs("table",{className:"draw-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Time"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Results"}),s.jsx("th",{children:"Payout"}),s.jsx("th",{children:"Winners"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:a.draws.map(t=>s.jsxs("tr",{children:[s.jsx("td",{className:"td-time",children:t.time}),s.jsx("td",{children:s.jsx("span",{className:`status-badge ${t.hasResult?"status-complete":"status-pending"}`,children:t.hasResult?"COMPLETED":"PENDING"})}),s.jsx("td",{children:s.jsx("span",{className:"result-badge",children:t.result})}),s.jsx("td",{className:"td-payout",children:t.hasResult?u(t.payout):"—"}),s.jsx("td",{children:s.jsxs("button",{className:"winners-btn",onClick:()=>y(t),disabled:!t.hasResult,children:["👥 ",t.winners]})}),s.jsx("td",{className:"td-actions",children:t.hasResult?s.jsx("button",{className:"action-btn",onClick:()=>y(t),children:"View"}):s.jsx("span",{className:"action-msg",children:"Waiting for result"})})]},t.key))})]})]},e))}),N.length===0&&s.jsxs("div",{className:"empty-state",children:[s.jsx("span",{className:"empty-icon",children:"🎲"}),s.jsx("h3",{children:"No draws found"}),s.jsx("p",{children:"Try adjusting your filters"})]}),P&&c&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"modal-backdrop",onClick:()=>x(!1)}),s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal",children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h3",{children:["🏆 Winners - ",c.gameName," (",c.time,")"]}),s.jsx("button",{className:"modal-close",onClick:()=>x(!1),children:"×"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"winners-summary",children:[s.jsxs("div",{className:"summary-item",children:[s.jsx("div",{className:"summary-value large",children:c.result}),s.jsx("div",{className:"summary-label",children:"Winning Number"})]}),s.jsxs("div",{className:"summary-item",children:[s.jsx("div",{className:"summary-value",children:c.winners}),s.jsx("div",{className:"summary-label",children:"Winners"})]}),s.jsxs("div",{className:"summary-item",children:[s.jsx("div",{className:"summary-value",children:u(c.payout)}),s.jsx("div",{className:"summary-label",children:"Total Payout"})]})]}),s.jsxs("div",{className:"winners-list",children:[s.jsxs("div",{className:"winners-header",children:[s.jsx("div",{children:"Ticket"}),s.jsx("div",{children:"Teller"}),s.jsx("div",{children:"Bet"}),s.jsx("div",{children:"Prize"}),s.jsx("div",{children:"Status"})]}),c.winnersList.map(e=>s.jsxs("div",{className:"winner-row",children:[s.jsx("div",{className:"winner-ticket",children:e.ticketNo}),s.jsx("div",{children:e.teller}),s.jsx("div",{children:u(e.betAmount)}),s.jsx("div",{className:"winner-prize",children:u(e.prize)}),s.jsx("div",{children:s.jsx("span",{className:`status-badge ${e.status==="Paid"?"status-paid":"status-pending"}`,children:e.status==="Paid"?"✓ PAID":"⏳ PENDING"})})]},e.id))]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{className:"btn btn-secondary",onClick:()=>x(!1),children:"Close"}),s.jsx("button",{className:"btn btn-primary",children:"🖨️ Print"})]})]})})]})]})};export{L as default};
