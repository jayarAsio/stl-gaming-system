import{a as O,r as i,j as e}from"./index-DiIR2jkv.js";const F=()=>{O();const[t,p]=i.useState([{id:"SA-0001",username:"superadmin",fullName:"Super Administrator",email:"superadmin@stl.com",role:"super-admin",module:"Super Admin",status:"active",lastLogin:"2024-10-24 09:30 AM",createdDate:"2024-01-15",createdBy:"System"},{id:"GA-0001",username:"gameadmin01",fullName:"Juan Dela Cruz",email:"juan.delacruz@stl.com",role:"game-admin",module:"Game Administrator",status:"active",lastLogin:"2024-10-24 08:45 AM",createdDate:"2024-02-10",createdBy:"Super Admin"},{id:"GA-0002",username:"gameadmin02",fullName:"Maria Santos",email:"maria.santos@stl.com",role:"game-admin",module:"Game Administrator",status:"active",lastLogin:"2024-10-23 05:20 PM",createdDate:"2024-03-05",createdBy:"Super Admin"},{id:"OS-0001",username:"opsupport01",fullName:"Pedro Reyes",email:"pedro.reyes@stl.com",role:"ops-support",module:"Operation Support",status:"active",lastLogin:"2024-10-24 07:15 AM",createdDate:"2024-02-20",createdBy:"Super Admin"},{id:"GA-0003",username:"gameadmin03",fullName:"Ana Lopez",email:"ana.lopez@stl.com",role:"game-admin",module:"Game Administrator",status:"suspended",lastLogin:"2024-10-20 02:30 PM",createdDate:"2024-04-12",createdBy:"Super Admin"}]),[S,d]=i.useState(!1),[C,c]=i.useState(!1),[w,o]=i.useState(!1),[r,x]=i.useState(null),[s,m]=i.useState({username:"",fullName:"",email:"",role:"",password:"",confirmPassword:""}),[n,y]=i.useState(""),[j,A]=i.useState("all"),[N,D]=i.useState("all"),b=[{value:"game-admin",label:"Game Administrator",icon:"🎮"},{value:"ops-support",label:"Operation Support",icon:"⚙️"}],k=a=>({"super-admin":{label:"Super Admin",icon:"👑",color:"red"},"game-admin":{label:"Game Administrator",icon:"🎮",color:"purple"},"ops-support":{label:"Operation Support",icon:"⚙️",color:"cyan"}})[a]||{label:a,icon:"👤",color:"gray"},g=i.useMemo(()=>t.filter(a=>{const l=n===""||a.fullName.toLowerCase().includes(n.toLowerCase())||a.username.toLowerCase().includes(n.toLowerCase())||a.email.toLowerCase().includes(n.toLowerCase())||a.id.toLowerCase().includes(n.toLowerCase()),v=j==="all"||a.role===j,f=N==="all"||a.status===N;return l&&v&&f}),[t,n,j,N]),u=i.useMemo(()=>({total:t.length,active:t.filter(a=>a.status==="active").length,suspended:t.filter(a=>a.status==="suspended").length,gameAdmins:t.filter(a=>a.role==="game-admin").length,opsSupport:t.filter(a=>a.role==="ops-support").length}),[t]),M=a=>{if(a.preventDefault(),s.password!==s.confirmPassword){alert("Passwords do not match!");return}const l=s.role==="game-admin"?"GA":"OS",v=t.filter(h=>h.id.startsWith(l)).map(h=>parseInt(h.id.split("-")[1])).filter(Boolean),f=v.length?Math.max(...v)+1:1,q={id:`${l}-${String(f).padStart(4,"0")}`,username:s.username,fullName:s.fullName,email:s.email,role:s.role,module:b.find(h=>h.value===s.role)?.label||"",status:"active",lastLogin:"Never",createdDate:new Date().toISOString().split("T")[0],createdBy:"Super Admin"};p([...t,q]),d(!1),m({username:"",fullName:"",email:"",role:"",password:"",confirmPassword:""})},P=a=>{a.preventDefault(),p(t.map(l=>l.id===r.id?{...l,...s}:l)),c(!1),x(null),m({username:"",fullName:"",email:"",role:"",password:"",confirmPassword:""})},L=()=>{p(t.filter(a=>a.id!==r.id)),o(!1),x(null)},U=a=>{p(t.map(l=>l.id===a?{...l,status:l.status==="active"?"suspended":"active"}:l))},E=a=>{x(a),m({username:a.username,fullName:a.fullName,email:a.email,role:a.role,password:"",confirmPassword:""}),c(!0)},G=a=>{x(a),o(!0)};return e.jsxs("div",{className:"um-container",children:[e.jsxs("div",{className:"um-header",children:[e.jsxs("div",{className:"um-header-left",children:[e.jsx("h1",{className:"um-title",children:"User Management"}),e.jsx("p",{className:"um-subtitle",children:"Create and manage system administrator accounts"})]}),e.jsx("div",{className:"um-header-right",children:e.jsxs("button",{className:"um-btn um-btn-primary",onClick:()=>d(!0),children:[e.jsx("span",{className:"um-btn-icon",children:"➕"}),e.jsx("span",{className:"um-btn-text",children:"Create New User"})]})})]}),e.jsxs("div",{className:"um-stats-grid",children:[e.jsxs("div",{className:"um-stat-card",children:[e.jsx("div",{className:"um-stat-icon um-stat-blue",children:"👥"}),e.jsxs("div",{className:"um-stat-info",children:[e.jsx("div",{className:"um-stat-value",children:u.total}),e.jsx("div",{className:"um-stat-label",children:"Total Users"})]})]}),e.jsxs("div",{className:"um-stat-card",children:[e.jsx("div",{className:"um-stat-icon um-stat-green",children:"✓"}),e.jsxs("div",{className:"um-stat-info",children:[e.jsx("div",{className:"um-stat-value",children:u.active}),e.jsx("div",{className:"um-stat-label",children:"Active"})]})]}),e.jsxs("div",{className:"um-stat-card",children:[e.jsx("div",{className:"um-stat-icon um-stat-orange",children:"⏸"}),e.jsxs("div",{className:"um-stat-info",children:[e.jsx("div",{className:"um-stat-value",children:u.suspended}),e.jsx("div",{className:"um-stat-label",children:"Suspended"})]})]}),e.jsxs("div",{className:"um-stat-card",children:[e.jsx("div",{className:"um-stat-icon um-stat-purple",children:"🎮"}),e.jsxs("div",{className:"um-stat-info",children:[e.jsx("div",{className:"um-stat-value",children:u.gameAdmins}),e.jsx("div",{className:"um-stat-label",children:"Game Admins"})]})]}),e.jsxs("div",{className:"um-stat-card",children:[e.jsx("div",{className:"um-stat-icon um-stat-cyan",children:"⚙️"}),e.jsxs("div",{className:"um-stat-info",children:[e.jsx("div",{className:"um-stat-value",children:u.opsSupport}),e.jsx("div",{className:"um-stat-label",children:"Ops Support"})]})]})]}),e.jsxs("div",{className:"um-filters",children:[e.jsxs("div",{className:"um-search-box",children:[e.jsx("span",{className:"um-search-icon",children:"🔍"}),e.jsx("input",{type:"text",className:"um-search-input",placeholder:"Search by name, username, email, or ID...",value:n,onChange:a=>y(a.target.value)})]}),e.jsxs("select",{className:"um-filter-select",value:j,onChange:a=>A(a.target.value),children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"super-admin",children:"Super Admin"}),e.jsx("option",{value:"game-admin",children:"Game Administrator"}),e.jsx("option",{value:"ops-support",children:"Operation Support"})]}),e.jsxs("select",{className:"um-filter-select",value:N,onChange:a=>D(a.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})]}),e.jsxs("div",{className:"um-table-container",children:[e.jsxs("table",{className:"um-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Username"}),e.jsx("th",{children:"Full Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Last Login"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:g.map(a=>{const l=k(a.role);return e.jsxs("tr",{children:[e.jsx("td",{className:"um-cell-id",children:a.id}),e.jsx("td",{className:"um-cell-username",children:a.username}),e.jsx("td",{className:"um-cell-name",children:a.fullName}),e.jsx("td",{className:"um-cell-email",children:a.email}),e.jsx("td",{children:e.jsxs("span",{className:`um-role-badge um-role-${l.color}`,children:[e.jsx("span",{className:"um-role-icon",children:l.icon}),e.jsx("span",{className:"um-role-text",children:l.label})]})}),e.jsx("td",{children:e.jsx("span",{className:`um-status-badge um-status-${a.status}`,children:a.status==="active"?"✓ Active":"⏸ Suspended"})}),e.jsx("td",{className:"um-cell-date",children:a.lastLogin}),e.jsx("td",{children:e.jsxs("div",{className:"um-actions",children:[a.role!=="super-admin"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"um-action-btn um-action-edit",onClick:()=>E(a),title:"Edit",children:"✏️"}),e.jsx("button",{className:`um-action-btn ${a.status==="active"?"um-action-suspend":"um-action-activate"}`,onClick:()=>U(a.id),title:a.status==="active"?"Suspend":"Activate",children:a.status==="active"?"⏸":"▶"}),e.jsx("button",{className:"um-action-btn um-action-delete",onClick:()=>G(a),title:"Delete",children:"🗑️"})]}),a.role==="super-admin"&&e.jsx("span",{className:"um-protected",children:"Protected"})]})})]},a.id)})})]}),g.length===0&&e.jsxs("div",{className:"um-empty-state",children:[e.jsx("span",{className:"um-empty-icon",children:"👤"}),e.jsx("p",{className:"um-empty-text",children:"No users found"})]})]}),S&&e.jsx("div",{className:"um-modal-overlay",onClick:()=>d(!1),children:e.jsxs("div",{className:"um-modal",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"um-modal-header",children:[e.jsx("h3",{className:"um-modal-title",children:"Create New User"}),e.jsx("button",{className:"um-modal-close",onClick:()=>d(!1),children:"×"})]}),e.jsxs("form",{onSubmit:M,children:[e.jsxs("div",{className:"um-modal-body",children:[e.jsxs("div",{className:"um-form-row",children:[e.jsxs("div",{className:"um-form-field",children:[e.jsx("label",{className:"um-form-label",children:"Username *"}),e.jsx("input",{type:"text",className:"um-form-input",value:s.username,onChange:a=>m({...s,username:a.target.value}),required:!0})]}),e.jsxs("div",{className:"um-form-field",children:[e.jsx("label",{className:"um-form-label",children:"Full Name *"}),e.jsx("input",{type:"text",className:"um-form-input",value:s.fullName,onChange:a=>m({...s,fullName:a.target.value}),required:!0})]})]}),e.jsxs("div",{className:"um-form-field",children:[e.jsx("label",{className:"um-form-label",children:"Email *"}),e.jsx("input",{type:"email",className:"um-form-input",value:s.email,onChange:a=>m({...s,email:a.target.value}),required:!0})]}),e.jsxs("div",{className:"um-form-field",children:[e.jsx("label",{className:"um-form-label",children:"Role *"}),e.jsxs("select",{className:"um-form-input",value:s.role,onChange:a=>m({...s,role:a.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select role..."}),b.map(a=>e.jsxs("option",{value:a.value,children:[a.icon," ",a.label]},a.value))]})]}),e.jsxs("div",{className:"um-form-row",children:[e.jsxs("div",{className:"um-form-field",children:[e.jsx("label",{className:"um-form-label",children:"Password *"}),e.jsx("input",{type:"password",className:"um-form-input",value:s.password,onChange:a=>m({...s,password:a.target.value}),required:!0})]}),e.jsxs("div",{className:"um-form-field",children:[e.jsx("label",{className:"um-form-label",children:"Confirm Password *"}),e.jsx("input",{type:"password",className:"um-form-input",value:s.confirmPassword,onChange:a=>m({...s,confirmPassword:a.target.value}),required:!0})]})]})]}),e.jsxs("div",{className:"um-modal-footer",children:[e.jsx("button",{type:"button",className:"um-btn um-btn-secondary",onClick:()=>d(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"um-btn um-btn-primary",children:"Create User"})]})]})]})}),C&&r&&e.jsx("div",{className:"um-modal-overlay",onClick:()=>c(!1),children:e.jsxs("div",{className:"um-modal",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"um-modal-header",children:[e.jsx("h3",{className:"um-modal-title",children:"Edit User"}),e.jsx("button",{className:"um-modal-close",onClick:()=>c(!1),children:"×"})]}),e.jsxs("form",{onSubmit:P,children:[e.jsxs("div",{className:"um-modal-body",children:[e.jsxs("div",{className:"um-form-row",children:[e.jsxs("div",{className:"um-form-field",children:[e.jsx("label",{className:"um-form-label",children:"Username *"}),e.jsx("input",{type:"text",className:"um-form-input",value:s.username,onChange:a=>m({...s,username:a.target.value}),required:!0})]}),e.jsxs("div",{className:"um-form-field",children:[e.jsx("label",{className:"um-form-label",children:"Full Name *"}),e.jsx("input",{type:"text",className:"um-form-input",value:s.fullName,onChange:a=>m({...s,fullName:a.target.value}),required:!0})]})]}),e.jsxs("div",{className:"um-form-field",children:[e.jsx("label",{className:"um-form-label",children:"Email *"}),e.jsx("input",{type:"email",className:"um-form-input",value:s.email,onChange:a=>m({...s,email:a.target.value}),required:!0})]}),e.jsxs("div",{className:"um-form-field",children:[e.jsx("label",{className:"um-form-label",children:"New Password (leave blank to keep current)"}),e.jsx("input",{type:"password",className:"um-form-input",value:s.password,onChange:a=>m({...s,password:a.target.value})})]})]}),e.jsxs("div",{className:"um-modal-footer",children:[e.jsx("button",{type:"button",className:"um-btn um-btn-secondary",onClick:()=>c(!1),children:"Cancel"}),e.jsx("button",{type:"submit",className:"um-btn um-btn-primary",children:"Save Changes"})]})]})]})}),w&&r&&e.jsx("div",{className:"um-modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"um-modal um-modal-small",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"um-modal-header",children:[e.jsx("h3",{className:"um-modal-title",children:"Delete User"}),e.jsx("button",{className:"um-modal-close",onClick:()=>o(!1),children:"×"})]}),e.jsxs("div",{className:"um-modal-body",children:[e.jsxs("p",{className:"um-delete-message",children:["Are you sure you want to delete ",e.jsx("strong",{children:r.fullName})," (",r.username,")?"]}),e.jsx("p",{className:"um-delete-warning",children:"⚠️ This action cannot be undone. The user will lose all access immediately."})]}),e.jsxs("div",{className:"um-modal-footer",children:[e.jsx("button",{className:"um-btn um-btn-secondary",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{className:"um-btn um-btn-danger",onClick:L,children:"Delete User"})]})]})})]})};export{F as default};
