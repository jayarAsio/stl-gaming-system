import{r as n,j as e}from"./index-DiIR2jkv.js";const T=()=>{const o=()=>new Date().toISOString().split("T")[0],[d,w]=n.useState(o()),[m,b]=n.useState(""),[j,M]=n.useState("all"),[p,x]=n.useState(!1),[c,P]=n.useState(null),g={pares:{name:"STL Pares",icon:"🎲",times:["10:30 AM","3:00 PM","7:00 PM"]},swer2:{name:"STL Swer2",icon:"🎯",times:["11:00 AM","4:00 PM","9:00 PM"]},swer3:{name:"STL Swer3",icon:"🎰",times:["10:00 AM","2:00 PM","6:00 PM","10:00 PM"]},l2:{name:"Last 2",icon:"2️⃣",times:["11:00 AM","4:00 PM","9:00 PM"]},l3:{name:"Last 3",icon:"3️⃣",times:["11:00 AM","4:00 PM","9:00 PM"]}},[y]=n.useState({[`${o()}_pares_10:30 AM`]:{result:"05-23",winners:12,payout:84e3},[`${o()}_pares_3:00 PM`]:{result:"17-32",winners:8,payout:56e3},[`${o()}_swer3_10:00 AM`]:{result:"427",winners:15,payout:75e3},[`${o()}_l2_11:00 AM`]:{result:"42",winners:23,payout:92e3}}),v=n.useMemo(()=>{const s=[];return Object.entries(g).forEach(([a,t])=>{t.times.forEach(i=>{const l=`${d}_${a}_${i}`,r=y[l];s.push({key:l,gameId:a,gameName:t.name,gameIcon:t.icon,time:i,result:r?.result||"—",winners:r?.winners||0,payout:r?.payout||0,hasResult:!!r})})}),s},[d,y]),N=n.useMemo(()=>v.filter(s=>{const a=j==="all"||s.gameId===j,t=m===""||s.gameName.toLowerCase().includes(m.toLowerCase())||s.time.toLowerCase().includes(m.toLowerCase())||s.result.toLowerCase().includes(m.toLowerCase());return a&&t}),[v,j,m]),h=n.useMemo(()=>{const s=v.filter(l=>l.key.startsWith(d)),a=s.filter(l=>l.hasResult),t=a.reduce((l,r)=>l+r.winners,0),i=a.reduce((l,r)=>l+r.payout,0);return{total:s.length,completed:a.length,pending:s.length-a.length,totalWinners:t,totalPayout:i}},[v,d]),u=s=>"₱"+s.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),S=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),f=s=>{if(!s.hasResult)return;const a=[],t=s.winners;for(let i=0;i<t;i++)a.push({id:i+1,ticketNo:`T${Math.random().toString(36).substring(2,10).toUpperCase()}`,teller:`T-000${Math.floor(Math.random()*9)+1}`,betAmount:[10,20,50,100][Math.floor(Math.random()*4)],prize:s.payout/t,status:Math.random()>.3?"Paid":"Pending"});P({...s,winnersList:a}),x(!0)},D=n.useMemo(()=>{const s={};return N.forEach(a=>{s[a.gameId]||(s[a.gameId]={name:a.gameName,icon:a.gameIcon,draws:[]}),s[a.gameId].draws.push(a)}),s},[N]);return e.jsxs("div",{className:"draw-mgmt",children:[e.jsx("div",{className:"draw-header",children:e.jsxs("div",{children:[e.jsx("h1",{className:"draw-title",children:"Draw Management"}),e.jsx("p",{className:"draw-subtitle",children:"View draw schedules and results"})]})}),e.jsxs("div",{className:"draw-stats",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon stat-blue",children:"📅"}),e.jsxs("div",{children:[e.jsx("div",{className:"stat-value",children:h.total}),e.jsx("div",{className:"stat-label",children:"Total Draws"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon stat-green",children:"✓"}),e.jsxs("div",{children:[e.jsx("div",{className:"stat-value",children:h.completed}),e.jsx("div",{className:"stat-label",children:"Completed"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon stat-orange",children:"⏳"}),e.jsxs("div",{children:[e.jsx("div",{className:"stat-value",children:h.pending}),e.jsx("div",{className:"stat-label",children:"Pending"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon stat-purple",children:"🏆"}),e.jsxs("div",{children:[e.jsx("div",{className:"stat-value",children:h.totalWinners}),e.jsx("div",{className:"stat-label",children:"Winners"})]})]}),e.jsxs("div",{className:"stat-card stat-wide",children:[e.jsx("div",{className:"stat-icon stat-red",children:"💰"}),e.jsxs("div",{children:[e.jsx("div",{className:"stat-value",children:u(h.totalPayout)}),e.jsx("div",{className:"stat-label",children:"Total Payout"})]})]})]}),e.jsxs("div",{className:"draw-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Date"}),e.jsx("input",{type:"date",value:d,onChange:s=>w(s.target.value)})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Game"}),e.jsxs("select",{value:j,onChange:s=>M(s.target.value),children:[e.jsx("option",{value:"all",children:"All Games"}),Object.entries(g).map(([s,a])=>e.jsx("option",{value:s,children:a.name},s))]})]}),e.jsxs("div",{className:"filter-group filter-search",children:[e.jsx("label",{children:"Search"}),e.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:s=>b(s.target.value)})]})]}),e.jsx("div",{className:"draw-tables",children:Object.entries(D).map(([s,a])=>e.jsxs("div",{className:"game-section",children:[e.jsxs("div",{className:"game-header",children:[e.jsxs("h2",{children:[e.jsx("span",{className:"game-icon",children:a.icon}),a.name]}),e.jsxs("span",{className:"game-date",children:["Draw Date: ",S(d)]})]}),e.jsxs("table",{className:"draw-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Results"}),e.jsx("th",{children:"Payout"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:a.draws.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"td-time",children:t.time}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${t.hasResult?"status-complete":"status-pending"}`,children:t.hasResult?"COMPLETED":"PENDING"})}),e.jsx("td",{children:e.jsx("span",{className:"result-badge",children:t.result})}),e.jsx("td",{className:"td-payout",children:t.hasResult?u(t.payout):"—"}),e.jsx("td",{className:"td-actions",children:t.hasResult?e.jsxs("button",{className:"action-btn",onClick:()=>f(t),children:["View (",t.winners,")"]}):e.jsx("span",{className:"action-msg",children:"Waiting for result"})})]},t.key))})]})]},s))}),N.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("span",{className:"empty-icon",children:"🎲"}),e.jsx("h3",{children:"No draws found"}),e.jsx("p",{children:"Try adjusting your filters"})]}),p&&c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"drawer-scrim",onClick:()=>x(!1)}),e.jsxs("div",{className:`winners-drawer ${p?"open":""}`,children:[e.jsxs("div",{className:"drawer-header",children:[e.jsxs("h3",{children:["🏆 Winners - ",c.gameName," (",c.time,")"]}),e.jsx("button",{className:"drawer-close",onClick:()=>x(!1),children:"×"})]}),e.jsxs("div",{className:"drawer-body",children:[e.jsxs("div",{className:"winners-summary",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("div",{className:"summary-value large",children:c.result}),e.jsx("div",{className:"summary-label",children:"Winning Number"})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("div",{className:"summary-value",children:c.winners}),e.jsx("div",{className:"summary-label",children:"Winners"})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("div",{className:"summary-value",children:u(c.payout)}),e.jsx("div",{className:"summary-label",children:"Total Payout"})]})]}),e.jsxs("div",{className:"winners-list",children:[e.jsxs("div",{className:"winners-header",children:[e.jsx("div",{children:"Ticket"}),e.jsx("div",{children:"Teller"}),e.jsx("div",{children:"Bet"}),e.jsx("div",{children:"Prize"}),e.jsx("div",{children:"Status"})]}),c.winnersList.map(s=>e.jsxs("div",{className:"winner-row",children:[e.jsx("div",{className:"winner-ticket","data-label":"Ticket",children:s.ticketNo}),e.jsx("div",{"data-label":"Teller",children:s.teller}),e.jsx("div",{"data-label":"Bet",children:u(s.betAmount)}),e.jsx("div",{className:"winner-prize","data-label":"Prize",children:u(s.prize)}),e.jsx("div",{"data-label":"Status",children:e.jsx("span",{className:`status-badge ${s.status==="Paid"?"status-paid":"status-pending"}`,children:s.status==="Paid"?"✓ PAID":"⏳ PENDING"})})]},s.id))]})]}),e.jsxs("div",{className:"drawer-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>x(!1),children:"Close"}),e.jsx("button",{className:"btn btn-primary",children:"🖨️ Print"})]})]})]})]})};export{T as default};
