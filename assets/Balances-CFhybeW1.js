import{r as i,j as s}from"./index-CoWCfioA.js";const T=()=>{const[c,y]=i.useState("verification"),[d,k]=i.useState(""),[t,v]=i.useState("all"),[B,r]=i.useState(!1),[O,w]=i.useState(!1),[a,m]=i.useState(null),[g,h]=i.useState(""),[b,x]=i.useState(""),[f,U]=i.useState([{id:"VB001",tellerName:"Maria Santos",tellerId:"TEL-001",date:"Oct 16, 2025",sales:85e3,payouts:25e3,expected:11e4,actual:11e4,status:"balanced",phone:"0917-123-4567",verified:!1},{id:"VB002",tellerName:"Juan Cruz",tellerId:"TEL-002",date:"Oct 16, 2025",sales:67e3,payouts:18e3,expected:99e3,actual:98500,status:"short",phone:"0917-234-5678",verified:!1,discrepancy:-500},{id:"VB003",tellerName:"Ana Reyes",tellerId:"TEL-003",date:"Oct 16, 2025",sales:92e3,payouts:31e3,expected:123e3,actual:123e3,status:"balanced",phone:"0917-345-6789",verified:!0}]),[p,S]=i.useState([{id:"PB001",name:"Juan Cruz",role:"Teller",roleId:"TEL-002",amount:15e3,pendingSince:"Oct 10, 2025",daysPending:6,lastContact:"Oct 14, 2025",followUpDate:"Oct 18, 2025",phone:"0917-234-5678",status:"pending",notes:"Promised to pay by Oct 18",priority:"medium"},{id:"PB002",name:"Pedro Reyes",role:"Collector",roleId:"COL-001",amount:8500,pendingSince:"Oct 5, 2025",daysPending:11,lastContact:"Oct 15, 2025",followUpDate:"Oct 17, 2025",phone:"0915-987-6543",status:"overdue",notes:"Setting up payment plan",priority:"high"},{id:"PB003",name:"Lisa Garcia",role:"Teller",roleId:"TEL-005",amount:5e3,pendingSince:"Oct 14, 2025",daysPending:2,lastContact:"Oct 15, 2025",followUpDate:"Oct 19, 2025",phone:"0917-456-7890",status:"pending",notes:"Will pay partial tomorrow",priority:"low"}]),$=e=>{U(f.map(l=>l.id===e?{...l,verified:!0}:l))},I=e=>{m(e),r(!0)},V=e=>{m(e),h(""),x(e.followUpDate||""),r(!0)},C=e=>{m(e),w(!0)},F=()=>{c==="pending"&&S(p.map(e=>e.id===a.id?{...e,notes:g,followUpDate:b,lastContact:new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}:e)),r(!1),h(""),x("")},M=e=>{S(p.map(l=>l.id===e?{...l,status:"paid"}:l))},o=()=>{r(!1),w(!1),m(null),h(""),x("")},u=e=>{switch(e){case"balanced":case"paid":return"verified";case"short":case"overdue":return"short";case"pending":return"pending";default:return""}},j=e=>{switch(e){case"balanced":return"✓ Balanced";case"short":return"❌ Short";case"pending":return"⏳ Pending";case"overdue":return"🚨 Overdue";case"paid":return"✓ Paid";default:return e}},D=e=>{switch(e){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return""}},N=e=>{if(!e)return!1;const l=new Date;l.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n<=l},L=f.filter(e=>{const l=e.tellerName.toLowerCase().includes(d.toLowerCase())||e.tellerId.toLowerCase().includes(d.toLowerCase());let n=!0;return t==="verified"?n=e.verified===!0:t==="unverified"?n=e.verified===!1:t!=="all"&&(n=e.status===t),l&&n}),P=p.filter(e=>{const l=e.name.toLowerCase().includes(d.toLowerCase())||e.roleId.toLowerCase().includes(d.toLowerCase()),n=t==="all"||e.status===t;return l&&n});return s.jsxs("div",{className:"os-balances-container",children:[s.jsx("div",{className:"os-balances-header",children:s.jsx("div",{className:"os-balances-header-content",children:s.jsxs("div",{className:"os-balances-header-main",children:[s.jsx("div",{className:"os-balances-icon",children:"💰"}),s.jsxs("div",{className:"os-balances-header-text",children:[s.jsx("h1",{className:"os-balances-title",children:"Balances Management"}),s.jsx("p",{className:"os-balances-subtitle",children:"Daily verification and pending payment tracking"})]})]})})}),s.jsxs("div",{className:"os-balances-card",children:[s.jsxs("div",{className:"os-tabs-bar",children:[s.jsxs("button",{className:`os-tab ${c==="verification"?"active":""}`,onClick:()=>{y("verification"),v("all")},children:[s.jsx("span",{className:"os-tab-icon",children:"✓"}),s.jsx("span",{className:"os-tab-label",children:"Daily Verification"}),s.jsx("span",{className:"os-tab-count",children:f.length})]}),s.jsxs("button",{className:`os-tab ${c==="pending"?"active":""}`,onClick:()=>{y("pending"),v("all")},children:[s.jsx("span",{className:"os-tab-icon",children:"⏳"}),s.jsx("span",{className:"os-tab-label",children:"Pending/Outstanding"}),s.jsx("span",{className:"os-tab-count",children:p.filter(e=>e.status!=="paid").length})]})]}),s.jsxs("div",{className:"os-balances-filters",children:[s.jsxs("div",{className:"os-search-wrapper",children:[s.jsx("span",{className:"os-search-icon",children:"🔍"}),s.jsx("input",{type:"text",className:"os-search-input",placeholder:"Search by name or ID...",value:d,onChange:e=>k(e.target.value)})]}),s.jsxs("select",{className:"os-filter-select",value:t,onChange:e=>v(e.target.value),children:[s.jsx("option",{value:"all",children:"All Status"}),c==="verification"?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"balanced",children:"Balanced"}),s.jsx("option",{value:"short",children:"Short"}),s.jsx("option",{value:"verified",children:"Verified"}),s.jsx("option",{value:"unverified",children:"Unverified"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"overdue",children:"Overdue"}),s.jsx("option",{value:"paid",children:"Paid"})]})]})]}),s.jsx("div",{className:"os-balances-content",children:c==="verification"?s.jsx("div",{className:"os-verification-list",children:L.length===0?s.jsxs("div",{className:"os-empty-state",children:[s.jsx("span",{className:"os-empty-icon",children:"📋"}),s.jsx("p",{className:"os-empty-text",children:"No balances found"})]}):L.map(e=>s.jsxs("div",{className:"os-balance-item",children:[s.jsxs("div",{className:"os-balance-header",children:[s.jsxs("div",{className:"os-balance-main-info",children:[s.jsx("div",{className:"os-balance-avatar",children:e.tellerName.split(" ").map(l=>l[0]).join("")}),s.jsxs("div",{className:"os-balance-details",children:[s.jsx("div",{className:"os-balance-name",children:e.tellerName}),s.jsxs("div",{className:"os-balance-meta",children:[e.tellerId," • ",e.date]})]})]}),s.jsx("div",{className:`os-status-badge ${u(e.status)}`,children:j(e.status)})]}),s.jsxs("div",{className:"os-balance-summary",children:[s.jsxs("div",{className:"os-summary-row",children:[s.jsxs("div",{className:"os-summary-item",children:[s.jsx("span",{className:"os-summary-label",children:"Sales:"}),s.jsxs("span",{className:"os-summary-value",children:["₱",e.sales.toLocaleString()]})]}),s.jsxs("div",{className:"os-summary-item",children:[s.jsx("span",{className:"os-summary-label",children:"Payouts:"}),s.jsxs("span",{className:"os-summary-value",children:["₱",e.payouts.toLocaleString()]})]})]}),s.jsxs("div",{className:"os-summary-row",children:[s.jsxs("div",{className:"os-summary-item",children:[s.jsx("span",{className:"os-summary-label",children:"Expected:"}),s.jsxs("span",{className:"os-summary-value highlight",children:["₱",e.expected.toLocaleString()]})]}),s.jsxs("div",{className:"os-summary-item",children:[s.jsx("span",{className:"os-summary-label",children:"Actual:"}),s.jsxs("span",{className:`os-summary-value highlight ${e.status==="short"?"error":"success"}`,children:["₱",e.actual.toLocaleString()]})]})]}),e.discrepancy&&s.jsxs("div",{className:"os-discrepancy-alert",children:["⚠️ Discrepancy: ₱",Math.abs(e.discrepancy).toLocaleString()," short"]})]}),s.jsxs("div",{className:"os-balance-contact",children:[s.jsx("span",{className:"os-contact-icon",children:"📱"}),s.jsx("span",{className:"os-contact-number",children:e.phone}),s.jsx("span",{className:"os-contact-label",children:"Call manually to verify"})]}),s.jsxs("div",{className:"os-balance-actions",children:[s.jsx("button",{className:"os-btn-secondary",onClick:()=>C(e),children:"View Details"}),e.status==="short"&&s.jsxs("button",{className:"os-btn-call",onClick:()=>I(e),children:[s.jsx("span",{children:"📱"}),s.jsx("span",{children:"Add Call Notes"})]}),e.verified?s.jsx("span",{className:"os-verified-badge",children:"✓ Verified"}):s.jsxs("button",{className:"os-btn-verify",onClick:()=>$(e.id),children:[s.jsx("span",{children:"✓"}),s.jsx("span",{children:"Mark Verified"})]})]})]},e.id))}):s.jsx("div",{className:"os-pending-list",children:P.length===0?s.jsxs("div",{className:"os-empty-state",children:[s.jsx("span",{className:"os-empty-icon",children:"💰"}),s.jsx("p",{className:"os-empty-text",children:"No pending payments found"})]}):P.map(e=>s.jsxs("div",{className:`os-pending-item ${e.status}`,children:[s.jsxs("div",{className:"os-pending-header",children:[s.jsxs("div",{className:"os-pending-main-info",children:[s.jsx("div",{className:"os-pending-avatar",children:e.name.split(" ").map(l=>l[0]).join("")}),s.jsxs("div",{className:"os-pending-details",children:[s.jsx("div",{className:"os-pending-name",children:e.name}),s.jsxs("div",{className:"os-pending-meta",children:[e.role," • ",e.roleId]})]})]}),s.jsxs("div",{className:"os-pending-badges",children:[s.jsx("div",{className:`os-priority-badge ${D(e.priority)}`,children:e.priority}),s.jsx("div",{className:`os-status-badge ${u(e.status)}`,children:j(e.status)})]})]}),s.jsxs("div",{className:"os-pending-amount-section",children:[s.jsxs("div",{className:"os-amount-card",children:[s.jsx("span",{className:"os-amount-label",children:"Outstanding Amount"}),s.jsxs("span",{className:"os-amount-value",children:["₱",e.amount.toLocaleString()]})]}),s.jsxs("div",{className:"os-pending-timeline",children:[s.jsxs("div",{className:"os-timeline-item",children:[s.jsx("span",{className:"os-timeline-label",children:"Pending Since:"}),s.jsx("span",{className:"os-timeline-value",children:e.pendingSince})]}),s.jsxs("div",{className:"os-timeline-item",children:[s.jsx("span",{className:"os-timeline-label",children:"Days Pending:"}),s.jsxs("span",{className:`os-timeline-value ${e.daysPending>7?"urgent":""}`,children:[e.daysPending," days"]})]}),s.jsxs("div",{className:"os-timeline-item",children:[s.jsx("span",{className:"os-timeline-label",children:"Last Contact:"}),s.jsx("span",{className:"os-timeline-value",children:e.lastContact})]}),e.followUpDate&&s.jsxs("div",{className:"os-timeline-item",children:[s.jsx("span",{className:"os-timeline-label",children:"Follow-up Date:"}),s.jsxs("span",{className:`os-timeline-value ${N(e.followUpDate)?"urgent":""}`,children:[e.followUpDate,N(e.followUpDate)&&" 🔔"]})]})]})]}),e.notes&&s.jsxs("div",{className:"os-notes-section",children:[s.jsx("span",{className:"os-notes-icon",children:"📝"}),s.jsx("span",{className:"os-notes-text",children:e.notes})]}),s.jsxs("div",{className:"os-pending-contact",children:[s.jsx("span",{className:"os-contact-icon",children:"📱"}),s.jsx("span",{className:"os-contact-number",children:e.phone}),s.jsx("span",{className:"os-contact-label",children:"Call manually for follow-up"})]}),s.jsxs("div",{className:"os-pending-actions",children:[s.jsx("button",{className:"os-btn-secondary",onClick:()=>C(e),children:"View Details"}),s.jsxs("button",{className:"os-btn-call",onClick:()=>V(e),children:[s.jsx("span",{children:"📱"}),s.jsx("span",{children:"Log Call"})]}),e.status!=="paid"&&s.jsxs("button",{className:"os-btn-paid",onClick:()=>M(e.id),children:[s.jsx("span",{children:"💰"}),s.jsx("span",{children:"Mark Paid"})]})]})]},e.id))})})]}),B&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"os-modal-overlay active",onClick:o}),s.jsx("div",{className:"os-modal-container active",children:s.jsxs("div",{className:"os-modal-content",children:[s.jsxs("div",{className:"os-modal-header",children:[s.jsx("h3",{children:"Log Call Notes"}),s.jsx("button",{className:"os-modal-close",onClick:o,children:"×"})]}),s.jsx("div",{className:"os-modal-body",children:a&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"os-modal-info",children:[s.jsxs("div",{className:"os-modal-info-row",children:[s.jsx("span",{className:"os-modal-label",children:"Name:"}),s.jsx("span",{className:"os-modal-value",children:a.tellerName||a.name})]}),s.jsxs("div",{className:"os-modal-info-row",children:[s.jsx("span",{className:"os-modal-label",children:"Phone:"}),s.jsx("span",{className:"os-modal-value",children:a.phone})]}),a.amount&&s.jsxs("div",{className:"os-modal-info-row",children:[s.jsx("span",{className:"os-modal-label",children:"Amount:"}),s.jsxs("span",{className:"os-modal-value",children:["₱",a.amount.toLocaleString()]})]})]}),s.jsxs("div",{className:"os-form-group",children:[s.jsx("label",{className:"os-form-label",children:"Call Notes"}),s.jsx("textarea",{className:"os-form-textarea",rows:"4",placeholder:"Enter call outcome, payment commitment, or any relevant information...",value:g,onChange:e=>h(e.target.value)})]}),s.jsxs("div",{className:"os-form-group",children:[s.jsx("label",{className:"os-form-label",children:"Follow-up Date"}),s.jsx("input",{type:"date",className:"os-form-input",value:b,onChange:e=>x(e.target.value)}),s.jsx("p",{className:"os-form-help-text",children:"Set a reminder date for next follow-up call"})]})]})}),s.jsxs("div",{className:"os-modal-footer",children:[s.jsx("button",{className:"os-btn-secondary",onClick:o,children:"Cancel"}),s.jsx("button",{className:"os-btn-primary",onClick:F,disabled:!g.trim(),children:"Save Notes"})]})]})})]}),O&&a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"os-modal-overlay active",onClick:o}),s.jsx("div",{className:"os-modal-container active",children:s.jsxs("div",{className:"os-modal-content",children:[s.jsxs("div",{className:"os-modal-header",children:[s.jsx("h3",{children:"Balance Details"}),s.jsx("button",{className:"os-modal-close",onClick:o,children:"×"})]}),s.jsx("div",{className:"os-modal-body",children:s.jsxs("div",{className:"os-details-card",children:[s.jsx("h4",{className:"os-details-section-title",children:a.tellerName||a.name}),c==="verification"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Teller ID:"}),s.jsx("span",{className:"os-details-value",children:a.tellerId})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Date:"}),s.jsx("span",{className:"os-details-value",children:a.date})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Sales:"}),s.jsxs("span",{className:"os-details-value",children:["₱",a.sales.toLocaleString()]})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Payouts:"}),s.jsxs("span",{className:"os-details-value",children:["₱",a.payouts.toLocaleString()]})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Expected Balance:"}),s.jsxs("span",{className:"os-details-value highlight",children:["₱",a.expected.toLocaleString()]})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Actual Balance:"}),s.jsxs("span",{className:`os-details-value highlight ${a.status==="short"?"error":"success"}`,children:["₱",a.actual.toLocaleString()]})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Status:"}),s.jsx("span",{className:`os-status-badge ${u(a.status)}`,children:j(a.status)})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Verification Status:"}),s.jsx("span",{className:`os-status-badge ${a.verified?"verified":"pending"}`,children:a.verified?"✓ Verified":"⏳ Unverified"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Role:"}),s.jsx("span",{className:"os-details-value",children:a.role})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Role ID:"}),s.jsx("span",{className:"os-details-value",children:a.roleId})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Outstanding Amount:"}),s.jsxs("span",{className:"os-details-value highlight error",children:["₱",a.amount.toLocaleString()]})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Pending Since:"}),s.jsx("span",{className:"os-details-value",children:a.pendingSince})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Days Pending:"}),s.jsxs("span",{className:`os-details-value ${a.daysPending>7?"urgent":""}`,children:[a.daysPending," days"]})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Last Contact:"}),s.jsx("span",{className:"os-details-value",children:a.lastContact})]}),a.followUpDate&&s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Follow-up Date:"}),s.jsxs("span",{className:`os-details-value ${N(a.followUpDate)?"urgent":""}`,children:[a.followUpDate,N(a.followUpDate)&&" 🔔"]})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Priority:"}),s.jsx("span",{className:`os-priority-badge ${D(a.priority)}`,children:a.priority})]}),s.jsxs("div",{className:"os-details-row",children:[s.jsx("span",{className:"os-details-label",children:"Status:"}),s.jsx("span",{className:`os-status-badge ${u(a.status)}`,children:j(a.status)})]}),a.notes&&s.jsxs("div",{className:"os-details-notes",children:[s.jsx("span",{className:"os-details-label",children:"Notes:"}),s.jsx("p",{className:"os-details-notes-text",children:a.notes})]})]}),s.jsxs("div",{className:"os-details-contact",children:[s.jsx("span",{className:"os-details-label",children:"Contact:"}),s.jsxs("div",{className:"os-contact-display",children:[s.jsx("span",{className:"os-contact-icon",children:"📱"}),s.jsx("span",{className:"os-contact-number",children:a.phone})]})]})]})}),s.jsx("div",{className:"os-modal-footer",children:s.jsx("button",{className:"os-btn-secondary",onClick:o,children:"Close"})})]})})]})]})};export{T as default};
