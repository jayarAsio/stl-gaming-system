import{r as m,j as e}from"./index-DANIss5C.js";const T=()=>{const o=()=>new Date().toISOString().split("T")[0],[i,b]=m.useState(o()),[c,y]=m.useState(""),[u,M]=m.useState("all"),[N,w]=m.useState(!1),[n,f]=m.useState(null),v={pares:{name:"STL Pares",icon:"🎲",times:["10:30 AM","3:00 PM","7:00 PM"]},swer2:{name:"STL Swer2",icon:"🎯",times:["11:00 AM","4:00 PM","9:00 PM"]},swer3:{name:"STL Swer3",icon:"🎰",times:["10:00 AM","2:00 PM","6:00 PM","10:00 PM"]},l2:{name:"Last 2",icon:"2️⃣",times:["11:00 AM","4:00 PM","9:00 PM"]},l3:{name:"Last 3",icon:"3️⃣",times:["11:00 AM","4:00 PM","9:00 PM"]}},[p]=m.useState({[`${o()}_pares_10:30 AM`]:{result:"05-23",winners:12,payout:84e3},[`${o()}_pares_3:00 PM`]:{result:"17-32",winners:8,payout:56e3},[`${o()}_swer3_10:00 AM`]:{result:"427",winners:15,payout:75e3},[`${o()}_l2_11:00 AM`]:{result:"42",winners:23,payout:92e3}}),x=m.useMemo(()=>{const s=[];return Object.entries(v).forEach(([a,t])=>{t.times.forEach(l=>{const r=`${i}_${a}_${l}`,d=p[r];s.push({key:r,gameId:a,gameName:t.name,gameIcon:t.icon,time:l,result:d?.result||"—",winners:d?.winners||0,payout:d?.payout||0,hasResult:!!d})})}),s},[i,p]),j=m.useMemo(()=>x.filter(s=>{const a=u==="all"||s.gameId===u,t=c===""||s.gameName.toLowerCase().includes(c.toLowerCase())||s.time.toLowerCase().includes(c.toLowerCase())||s.result.toLowerCase().includes(c.toLowerCase());return a&&t}),[x,u,c]),h=m.useMemo(()=>{const s=x.filter(r=>r.key.startsWith(i)),a=s.filter(r=>r.hasResult),t=a.reduce((r,d)=>r+d.winners,0),l=a.reduce((r,d)=>r+d.payout,0);return{total:s.length,completed:a.length,pending:s.length-a.length,totalWinners:t,totalPayout:l}},[x,i]),g=s=>"₱"+s.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),P=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),S=s=>{if(!s.hasResult)return;const a=[],t=s.winners;for(let l=0;l<t;l++)a.push({id:l+1,ticketNo:`T${Math.random().toString(36).substring(2,10).toUpperCase()}`,teller:`T-000${Math.floor(Math.random()*9)+1}`,betAmount:[10,20,50,100][Math.floor(Math.random()*4)],prize:s.payout/t,status:Math.random()>.3?"Paid":"Pending"});f({...s,winnersList:a}),w(!0)},D=m.useMemo(()=>{const s={};return j.forEach(a=>{s[a.gameId]||(s[a.gameId]={name:a.gameName,icon:a.gameIcon,draws:[]}),s[a.gameId].draws.push(a)}),s},[j]);return e.jsxs("div",{className:"drawmgmt-container",children:[e.jsx("div",{className:"drawmgmt-page-header",children:e.jsxs("div",{className:"drawmgmt-header-text",children:[e.jsx("h1",{className:"drawmgmt-page-title",children:"Draw Management"}),e.jsx("p",{className:"drawmgmt-page-subtitle",children:"View draw schedules and results"})]})}),e.jsxs("div",{className:"drawmgmt-stats-grid",children:[e.jsxs("div",{className:"drawmgmt-stat-box",children:[e.jsx("div",{className:"drawmgmt-stat-icon drawmgmt-icon-blue",children:"📅"}),e.jsxs("div",{className:"drawmgmt-stat-content",children:[e.jsx("div",{className:"drawmgmt-stat-number",children:h.total}),e.jsx("div",{className:"drawmgmt-stat-text",children:"Total Draws"})]})]}),e.jsxs("div",{className:"drawmgmt-stat-box",children:[e.jsx("div",{className:"drawmgmt-stat-icon drawmgmt-icon-green",children:"✓"}),e.jsxs("div",{className:"drawmgmt-stat-content",children:[e.jsx("div",{className:"drawmgmt-stat-number",children:h.completed}),e.jsx("div",{className:"drawmgmt-stat-text",children:"Completed"})]})]}),e.jsxs("div",{className:"drawmgmt-stat-box",children:[e.jsx("div",{className:"drawmgmt-stat-icon drawmgmt-icon-orange",children:"⏳"}),e.jsxs("div",{className:"drawmgmt-stat-content",children:[e.jsx("div",{className:"drawmgmt-stat-number",children:h.pending}),e.jsx("div",{className:"drawmgmt-stat-text",children:"Pending"})]})]}),e.jsxs("div",{className:"drawmgmt-stat-box",children:[e.jsx("div",{className:"drawmgmt-stat-icon drawmgmt-icon-purple",children:"🏆"}),e.jsxs("div",{className:"drawmgmt-stat-content",children:[e.jsx("div",{className:"drawmgmt-stat-number",children:h.totalWinners}),e.jsx("div",{className:"drawmgmt-stat-text",children:"Winners"})]})]}),e.jsxs("div",{className:"drawmgmt-stat-box drawmgmt-stat-wide",children:[e.jsx("div",{className:"drawmgmt-stat-icon drawmgmt-icon-red",children:"💰"}),e.jsxs("div",{className:"drawmgmt-stat-content",children:[e.jsx("div",{className:"drawmgmt-stat-number",children:g(h.totalPayout)}),e.jsx("div",{className:"drawmgmt-stat-text",children:"Total Payout"})]})]})]}),e.jsxs("div",{className:"drawmgmt-filters-bar",children:[e.jsxs("div",{className:"drawmgmt-filter-item",children:[e.jsx("label",{className:"drawmgmt-filter-label",children:"Date"}),e.jsx("input",{type:"date",className:"drawmgmt-filter-input",value:i,onChange:s=>b(s.target.value)})]}),e.jsxs("div",{className:"drawmgmt-filter-item",children:[e.jsx("label",{className:"drawmgmt-filter-label",children:"Game"}),e.jsxs("select",{className:"drawmgmt-filter-select",value:u,onChange:s=>M(s.target.value),children:[e.jsx("option",{value:"all",children:"All Games"}),Object.entries(v).map(([s,a])=>e.jsx("option",{value:s,children:a.name},s))]})]}),e.jsxs("div",{className:"drawmgmt-filter-item drawmgmt-search-filter",children:[e.jsx("label",{className:"drawmgmt-filter-label",children:"Search"}),e.jsx("input",{type:"text",className:"drawmgmt-filter-input",placeholder:"Search...",value:c,onChange:s=>y(s.target.value)})]})]}),e.jsx("div",{className:"drawmgmt-tables-container",children:Object.entries(D).map(([s,a])=>e.jsxs("div",{className:"drawmgmt-game-section",children:[e.jsxs("div",{className:"drawmgmt-game-header",children:[e.jsxs("h2",{className:"drawmgmt-game-title",children:[e.jsx("span",{className:"drawmgmt-game-icon",children:a.icon}),a.name]}),e.jsxs("span",{className:"drawmgmt-game-date",children:["Draw Date: ",P(i)]})]}),e.jsxs("table",{className:"drawmgmt-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Results"}),e.jsx("th",{children:"Payout"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:a.draws.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"drawmgmt-td-time",children:t.time}),e.jsx("td",{children:e.jsx("span",{className:`drawmgmt-status-badge ${t.hasResult?"drawmgmt-status-complete":"drawmgmt-status-pending"}`,children:t.hasResult?"COMPLETED":"PENDING"})}),e.jsx("td",{children:e.jsx("span",{className:"drawmgmt-result-badge",children:t.result})}),e.jsx("td",{className:"drawmgmt-td-payout",children:t.hasResult?g(t.payout):"—"}),e.jsx("td",{className:"drawmgmt-td-actions",children:t.hasResult?e.jsxs("button",{className:"drawmgmt-action-btn",onClick:()=>S(t),children:["View (",t.winners,")"]}):e.jsx("span",{className:"drawmgmt-action-msg",children:"Waiting for result"})})]},t.key))})]})]},s))}),j.length===0&&e.jsxs("div",{className:"drawmgmt-empty-state",children:[e.jsx("span",{className:"drawmgmt-empty-icon",children:"🎲"}),e.jsx("h3",{className:"drawmgmt-empty-title",children:"No draws found"}),e.jsx("p",{className:"drawmgmt-empty-text",children:"Try adjusting your filters"})]}),N&&n&&e.jsxs("div",{className:"drawmgmt-modal-overlay",children:[e.jsx("div",{className:"drawmgmt-modal-backdrop",onClick:()=>w(!1)}),e.jsxs("div",{className:`drawmgmt-winners-drawer ${N?"drawmgmt-drawer-open":""}`,children:[e.jsxs("div",{className:"drawmgmt-drawer-header",children:[e.jsxs("h3",{className:"drawmgmt-drawer-title",children:["🏆 Winners - ",n.gameName," (",n.time,")"]}),e.jsx("button",{className:"drawmgmt-drawer-close",onClick:()=>w(!1),children:"×"})]}),e.jsxs("div",{className:"drawmgmt-drawer-body",children:[e.jsxs("div",{className:"drawmgmt-winners-summary",children:[e.jsxs("div",{className:"drawmgmt-summary-item",children:[e.jsx("div",{className:"drawmgmt-summary-value drawmgmt-value-large",children:n.result}),e.jsx("div",{className:"drawmgmt-summary-label",children:"Winning Number"})]}),e.jsxs("div",{className:"drawmgmt-summary-item",children:[e.jsx("div",{className:"drawmgmt-summary-value",children:n.winners}),e.jsx("div",{className:"drawmgmt-summary-label",children:"Winners"})]}),e.jsxs("div",{className:"drawmgmt-summary-item",children:[e.jsx("div",{className:"drawmgmt-summary-value",children:g(n.payout)}),e.jsx("div",{className:"drawmgmt-summary-label",children:"Total Payout"})]})]}),e.jsxs("div",{className:"drawmgmt-winners-list",children:[e.jsxs("div",{className:"drawmgmt-winners-header",children:[e.jsx("div",{children:"Ticket"}),e.jsx("div",{children:"Teller"}),e.jsx("div",{children:"Bet"}),e.jsx("div",{children:"Prize"}),e.jsx("div",{children:"Status"})]}),n.winnersList.map(s=>e.jsxs("div",{className:"drawmgmt-winner-row",children:[e.jsx("div",{className:"drawmgmt-winner-ticket","data-label":"Ticket",children:s.ticketNo}),e.jsx("div",{"data-label":"Teller",children:s.teller}),e.jsx("div",{"data-label":"Bet",children:g(s.betAmount)}),e.jsx("div",{className:"drawmgmt-winner-prize","data-label":"Prize",children:g(s.prize)}),e.jsx("div",{"data-label":"Status",children:e.jsx("span",{className:`drawmgmt-status-badge ${s.status==="Paid"?"drawmgmt-status-paid":"drawmgmt-status-pending"}`,children:s.status==="Paid"?"✓ PAID":"⏳ PENDING"})})]},s.id))]})]}),e.jsxs("div",{className:"drawmgmt-drawer-footer",children:[e.jsx("button",{className:"drawmgmt-action-btn drawmgmt-btn-secondary",onClick:()=>w(!1),children:"Close"}),e.jsx("button",{className:"drawmgmt-action-btn drawmgmt-btn-primary",children:"🖨️ Print"})]})]})]})]})};export{T as default};
