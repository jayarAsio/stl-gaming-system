import{a,u as w,j as e,L as u,O as S}from"./index-AXjc9jp2.js";const k=[{key:"dashboard",label:"Dashboard",icon:"ðŸ“Š",path:"/operation-support"},{key:"balances",label:"Balances",icon:"ðŸ’°",path:"/operation-support/balances"},{key:"daily-ledgers",label:"Daily Ledgers",icon:"ðŸ“‹",path:"/operation-support/daily-ledgers"},{key:"reports",label:"Reports",icon:"ðŸ“ˆ",path:"/operation-support/reports"}],L=()=>{const[n,t]=a.useState(!1),[o,i]=a.useState(!1),[v,h]=a.useState(!0),[m,x]=a.useState(0),l=w(),c=a.useRef(null),j=a.useRef(null),[d]=a.useState({initials:"OS",name:"Operations Staff",role:"Operation Support Staff"});a.useEffect(()=>{const s=()=>{const r=window.scrollY;r>m&&r>50?h(!1):h(!0),x(r)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[m]),a.useEffect(()=>{t(!1),i(!1),window.scrollTo(0,0)},[l.pathname]),a.useEffect(()=>(n&&window.innerWidth<=768?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%"):(document.body.style.overflow="",document.body.style.position="",document.body.style.width=""),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width=""}),[n]),a.useEffect(()=>{const s=r=>{r.key==="Escape"&&(o?i(!1):n&&t(!1))};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[n,o]),a.useEffect(()=>{const s=r=>{c.current&&!c.current.contains(r.target)&&i(!1)};return o&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[o]);const p=s=>s==="/operation-support"?l.pathname===s:l.pathname.startsWith(s),y=()=>{t(s=>!s)},N=()=>{t(!1)},f=()=>{t(!1),i(!1)},b=()=>{i(s=>!s)},g=()=>{const s=l.pathname;return s==="/operation-support"?"Dashboard":s.includes("balances")?"Balances":s.includes("daily-ledgers")?"Daily Ledgers":s.includes("reports")?"Reports":"Operation Support"};return e.jsxs("div",{className:`os-layout ${n?"sidebar-open":""}`,children:[!n&&e.jsx("header",{className:`os-header ${v?"os-header-visible":"os-header-hidden"}`,children:e.jsxs("div",{className:"os-header-container",children:[e.jsxs("button",{className:"os-header-menu-btn",onClick:y,"aria-label":"Toggle menu",children:[e.jsx("span",{className:"os-hamburger-line"}),e.jsx("span",{className:"os-hamburger-line"}),e.jsx("span",{className:"os-hamburger-line"})]}),e.jsxs("div",{className:"os-header-content",children:[e.jsx("h1",{className:"os-header-title",children:g()}),e.jsx("p",{className:"os-header-subtitle",children:"Operation Support"})]})]})}),n&&e.jsx("div",{className:"os-scrim",onClick:N,"aria-hidden":"true"}),e.jsxs("aside",{ref:j,className:`os-sidebar ${n?"is-open":""}`,id:"osSidebar","aria-hidden":!n&&window.innerWidth<=768,children:[e.jsx("div",{className:"os-sidebar-header",children:e.jsxs(u,{to:"/operation-support",className:"os-brand",onClick:f,children:[e.jsx("div",{className:"os-brand-glow"}),e.jsx("span",{className:"os-brand-text",children:"Operation Support"})]})}),e.jsx("nav",{className:"os-nav","aria-label":"Primary navigation",children:e.jsx("ul",{className:"os-nav-menu",children:k.map(s=>e.jsx("li",{className:"os-nav-item",children:e.jsxs(u,{to:s.path,className:`os-nav-link ${p(s.path)?"active":""}`,"aria-current":p(s.path)?"page":void 0,onClick:f,children:[e.jsx("span",{className:"os-nav-icon",children:s.icon}),e.jsx("span",{className:"os-nav-label",children:s.label}),p(s.path)&&e.jsx("span",{className:"os-nav-indicator"})]})},s.key))})}),e.jsx("div",{className:"os-sidebar-footer",children:e.jsxs("div",{ref:c,className:`os-sidebar-profile ${o?"menu-open":""}`,onClick:b,role:"button",tabIndex:0,"aria-expanded":o,"aria-label":"User profile menu",onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),b())},children:[e.jsxs("div",{className:"os-profile-main",children:[e.jsxs("div",{className:"os-profile-avatar",children:[e.jsx("span",{children:d.initials}),e.jsx("div",{className:"os-avatar-ring"})]}),e.jsxs("div",{className:"os-profile-info",children:[e.jsx("div",{className:"os-profile-name",children:d.name}),e.jsx("div",{className:"os-profile-role",children:d.role})]}),e.jsx("span",{className:"os-profile-chevron",children:o?"â–²":"â–¼"})]}),o&&e.jsx("div",{className:"os-profile-menu",children:e.jsxs(u,{to:"/",className:"os-profile-menu-item logout",children:[e.jsx("span",{children:"ðŸšª"}),e.jsx("span",{children:"Logout"})]})})]})})]}),e.jsx("main",{className:"os-main",children:e.jsx(S,{})})]})};export{L as default};
