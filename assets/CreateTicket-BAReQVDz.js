import{g as Et,r as B,j as s,L as vt}from"./index-CYe3miYN.js";import{r as ue}from"./index-cG9f2OCl.js";/* empty css               */var ee={},fe,Ue;function St(){return Ue||(Ue=1,fe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),fe}var he={},Y={},Oe;function $(){if(Oe)return Y;Oe=1;let r;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Y.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},Y.getSymbolTotalCodewords=function(t){return i[t]},Y.getBCHDigit=function(o){let t=0;for(;o!==0;)t++,o>>>=1;return t},Y.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');r=t},Y.isKanjiModeEnabled=function(){return typeof r<"u"},Y.toSJIS=function(t){return r(t)},Y}var me={},_e;function Le(){return _e||(_e=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function i(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+o)}}r.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},r.from=function(t,e){if(r.isValid(t))return t;try{return i(t)}catch{return e}}})(me)),me}var ge,He;function Rt(){if(He)return ge;He=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(i){const o=Math.floor(i/8);return(this.buffer[o]>>>7-i%8&1)===1},put:function(i,o){for(let t=0;t<o;t++)this.putBit((i>>>o-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),i&&(this.buffer[o]|=128>>>this.length%8),this.length++}},ge=r,ge}var pe,Ve;function It(){if(Ve)return pe;Ve=1;function r(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}return r.prototype.set=function(i,o,t,e){const n=i*this.size+o;this.data[n]=t,e&&(this.reservedBit[n]=!0)},r.prototype.get=function(i,o){return this.data[i*this.size+o]},r.prototype.xor=function(i,o,t){this.data[i*this.size+o]^=t},r.prototype.isReserved=function(i,o){return this.reservedBit[i*this.size+o]},pe=r,pe}var we={},Ge;function jt(){return Ge||(Ge=1,(function(r){const i=$().getSymbolSize;r.getRowColCoords=function(t){if(t===1)return[];const e=Math.floor(t/7)+2,n=i(t),a=n===145?26:Math.ceil((n-13)/(2*e-2))*2,l=[n-7];for(let c=1;c<e-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},r.getPositions=function(t){const e=[],n=r.getRowColCoords(t),a=n.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||e.push([n[l],n[c]]);return e}})(we)),we}var ye={},Ke;function xt(){if(Ke)return ye;Ke=1;const r=$().getSymbolSize,i=7;return ye.getPositions=function(t){const e=r(t);return[[0,0],[e-i,0],[0,e-i]]},ye}var be={},Ye;function At(){return Ye||(Ye=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const i={N1:3,N2:3,N3:40,N4:10};r.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},r.from=function(e){return r.isValid(e)?parseInt(e,10):void 0},r.getPenaltyN1=function(e){const n=e.size;let a=0,l=0,c=0,f=null,g=null;for(let S=0;S<n;S++){l=c=0,f=g=null;for(let b=0;b<n;b++){let h=e.get(S,b);h===f?l++:(l>=5&&(a+=i.N1+(l-5)),f=h,l=1),h=e.get(b,S),h===g?c++:(c>=5&&(a+=i.N1+(c-5)),g=h,c=1)}l>=5&&(a+=i.N1+(l-5)),c>=5&&(a+=i.N1+(c-5))}return a},r.getPenaltyN2=function(e){const n=e.size;let a=0;for(let l=0;l<n-1;l++)for(let c=0;c<n-1;c++){const f=e.get(l,c)+e.get(l,c+1)+e.get(l+1,c)+e.get(l+1,c+1);(f===4||f===0)&&a++}return a*i.N2},r.getPenaltyN3=function(e){const n=e.size;let a=0,l=0,c=0;for(let f=0;f<n;f++){l=c=0;for(let g=0;g<n;g++)l=l<<1&2047|e.get(f,g),g>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|e.get(g,f),g>=10&&(c===1488||c===93)&&a++}return a*i.N3},r.getPenaltyN4=function(e){let n=0;const a=e.data.length;for(let c=0;c<a;c++)n+=e.data[c];return Math.abs(Math.ceil(n*100/a/5)-10)*i.N4};function o(t,e,n){switch(t){case r.Patterns.PATTERN000:return(e+n)%2===0;case r.Patterns.PATTERN001:return e%2===0;case r.Patterns.PATTERN010:return n%3===0;case r.Patterns.PATTERN011:return(e+n)%3===0;case r.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2===0;case r.Patterns.PATTERN101:return e*n%2+e*n%3===0;case r.Patterns.PATTERN110:return(e*n%2+e*n%3)%2===0;case r.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}r.applyMask=function(e,n){const a=n.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)n.isReserved(c,l)||n.xor(c,l,o(e,c,l))},r.getBestMask=function(e,n){const a=Object.keys(r.Patterns).length;let l=0,c=1/0;for(let f=0;f<a;f++){n(f),r.applyMask(f,e);const g=r.getPenaltyN1(e)+r.getPenaltyN2(e)+r.getPenaltyN3(e)+r.getPenaltyN4(e);r.applyMask(f,e),g<c&&(c=g,l=f)}return l}})(be)),be}var ce={},ze;function mt(){if(ze)return ce;ze=1;const r=Le(),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return ce.getBlocksCount=function(e,n){switch(n){case r.L:return i[(e-1)*4+0];case r.M:return i[(e-1)*4+1];case r.Q:return i[(e-1)*4+2];case r.H:return i[(e-1)*4+3];default:return}},ce.getTotalCodewordsCount=function(e,n){switch(n){case r.L:return o[(e-1)*4+0];case r.M:return o[(e-1)*4+1];case r.Q:return o[(e-1)*4+2];case r.H:return o[(e-1)*4+3];default:return}},ce}var Ne={},ie={},Je;function Mt(){if(Je)return ie;Je=1;const r=new Uint8Array(512),i=new Uint8Array(256);return(function(){let t=1;for(let e=0;e<255;e++)r[e]=t,i[t]=e,t<<=1,t&256&&(t^=285);for(let e=255;e<512;e++)r[e]=r[e-255]})(),ie.log=function(t){if(t<1)throw new Error("log("+t+")");return i[t]},ie.exp=function(t){return r[t]},ie.mul=function(t,e){return t===0||e===0?0:r[i[t]+i[e]]},ie}var Qe;function Bt(){return Qe||(Qe=1,(function(r){const i=Mt();r.mul=function(t,e){const n=new Uint8Array(t.length+e.length-1);for(let a=0;a<t.length;a++)for(let l=0;l<e.length;l++)n[a+l]^=i.mul(t[a],e[l]);return n},r.mod=function(t,e){let n=new Uint8Array(t);for(;n.length-e.length>=0;){const a=n[0];for(let c=0;c<e.length;c++)n[c]^=i.mul(e[c],a);let l=0;for(;l<n.length&&n[l]===0;)l++;n=n.slice(l)}return n},r.generateECPolynomial=function(t){let e=new Uint8Array([1]);for(let n=0;n<t;n++)e=r.mul(e,new Uint8Array([1,i.exp(n)]));return e}})(Ne)),Ne}var Ce,$e;function Pt(){if($e)return Ce;$e=1;const r=Bt();function i(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}return i.prototype.initialize=function(t){this.degree=t,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(t.length+this.degree);e.set(t);const n=r.mod(e,this.genPoly),a=this.degree-n.length;if(a>0){const l=new Uint8Array(this.degree);return l.set(n,a),l}return n},Ce=i,Ce}var Te={},Ee={},ve={},We;function gt(){return We||(We=1,ve.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}),ve}var V={},Ze;function pt(){if(Ze)return V;Ze=1;const r="[0-9]+",i="[A-Z $%*+\\-./:]+";let o="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";o=o.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+o+`)(?:.|[\r
]))+`;V.KANJI=new RegExp(o,"g"),V.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),V.BYTE=new RegExp(t,"g"),V.NUMERIC=new RegExp(r,"g"),V.ALPHANUMERIC=new RegExp(i,"g");const e=new RegExp("^"+o+"$"),n=new RegExp("^"+r+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return V.testKanji=function(c){return e.test(c)},V.testNumeric=function(c){return n.test(c)},V.testAlphanumeric=function(c){return a.test(c)},V}var Xe;function W(){return Xe||(Xe=1,(function(r){const i=gt(),o=pt();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(n,a){if(!n.ccBits)throw new Error("Invalid mode: "+n);if(!i.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?n.ccBits[0]:a<27?n.ccBits[1]:n.ccBits[2]},r.getBestModeForData=function(n){return o.testNumeric(n)?r.NUMERIC:o.testAlphanumeric(n)?r.ALPHANUMERIC:o.testKanji(n)?r.KANJI:r.BYTE},r.toString=function(n){if(n&&n.id)return n.id;throw new Error("Invalid mode")},r.isValid=function(n){return n&&n.bit&&n.ccBits};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}r.from=function(n,a){if(r.isValid(n))return n;try{return t(n)}catch{return a}}})(Ee)),Ee}var et;function kt(){return et||(et=1,(function(r){const i=$(),o=mt(),t=Le(),e=W(),n=gt(),a=7973,l=i.getBCHDigit(a);function c(b,h,x){for(let M=1;M<=40;M++)if(h<=r.getCapacity(M,x,b))return M}function f(b,h){return e.getCharCountIndicator(b,h)+4}function g(b,h){let x=0;return b.forEach(function(M){const k=f(M.mode,h);x+=k+M.getBitsLength()}),x}function S(b,h){for(let x=1;x<=40;x++)if(g(b,x)<=r.getCapacity(x,h,e.MIXED))return x}r.from=function(h,x){return n.isValid(h)?parseInt(h,10):x},r.getCapacity=function(h,x,M){if(!n.isValid(h))throw new Error("Invalid QR Code version");typeof M>"u"&&(M=e.BYTE);const k=i.getSymbolTotalCodewords(h),j=o.getTotalCodewordsCount(h,x),P=(k-j)*8;if(M===e.MIXED)return P;const I=P-f(M,h);switch(M){case e.NUMERIC:return Math.floor(I/10*3);case e.ALPHANUMERIC:return Math.floor(I/11*2);case e.KANJI:return Math.floor(I/13);case e.BYTE:default:return Math.floor(I/8)}},r.getBestVersionForData=function(h,x){let M;const k=t.from(x,t.M);if(Array.isArray(h)){if(h.length>1)return S(h,k);if(h.length===0)return 1;M=h[0]}else M=h;return c(M.mode,M.getLength(),k)},r.getEncodedBits=function(h){if(!n.isValid(h)||h<7)throw new Error("Invalid QR Code version");let x=h<<12;for(;i.getBCHDigit(x)-l>=0;)x^=a<<i.getBCHDigit(x)-l;return h<<12|x}})(Te)),Te}var Se={},tt;function Lt(){if(tt)return Se;tt=1;const r=$(),i=1335,o=21522,t=r.getBCHDigit(i);return Se.getEncodedBits=function(n,a){const l=n.bit<<3|a;let c=l<<10;for(;r.getBCHDigit(c)-t>=0;)c^=i<<r.getBCHDigit(c)-t;return(l<<10|c)^o},Se}var Re={},Ie,nt;function Dt(){if(nt)return Ie;nt=1;const r=W();function i(o){this.mode=r.NUMERIC,this.data=o.toString()}return i.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){let e,n,a;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),a=parseInt(n,10),t.put(a,10);const l=this.data.length-e;l>0&&(n=this.data.substr(e),a=parseInt(n,10),t.put(a,l*3+1))},Ie=i,Ie}var je,rt;function Ft(){if(rt)return je;rt=1;const r=W(),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(t){this.mode=r.ALPHANUMERIC,this.data=t}return o.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let a=i.indexOf(this.data[n])*45;a+=i.indexOf(this.data[n+1]),e.put(a,11)}this.data.length%2&&e.put(i.indexOf(this.data[n]),6)},je=o,je}var xe,it;function qt(){if(it)return xe;it=1;const r=W();function i(o){this.mode=r.BYTE,typeof o=="string"?this.data=new TextEncoder().encode(o):this.data=new Uint8Array(o)}return i.getBitsLength=function(t){return t*8},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(o){for(let t=0,e=this.data.length;t<e;t++)o.put(this.data[t],8)},xe=i,xe}var Ae,st;function Ut(){if(st)return Ae;st=1;const r=W(),i=$();function o(t){this.mode=r.KANJI,this.data=t}return o.getBitsLength=function(e){return e*13},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=i.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}},Ae=o,Ae}var Me={exports:{}},ot;function Ot(){return ot||(ot=1,(function(r){var i={single_source_shortest_paths:function(o,t,e){var n={},a={};a[t]=0;var l=i.PriorityQueue.make();l.push(t,0);for(var c,f,g,S,b,h,x,M,k;!l.empty();){c=l.pop(),f=c.value,S=c.cost,b=o[f]||{};for(g in b)b.hasOwnProperty(g)&&(h=b[g],x=S+h,M=a[g],k=typeof a[g]>"u",(k||M>x)&&(a[g]=x,l.push(g,x),n[g]=f))}if(typeof e<"u"&&typeof a[e]>"u"){var j=["Could not find a path from ",t," to ",e,"."].join("");throw new Error(j)}return n},extract_shortest_path_from_predecessor_list:function(o,t){for(var e=[],n=t;n;)e.push(n),o[n],n=o[n];return e.reverse(),e},find_path:function(o,t,e){var n=i.single_source_shortest_paths(o,t,e);return i.extract_shortest_path_from_predecessor_list(n,e)},PriorityQueue:{make:function(o){var t=i.PriorityQueue,e={},n;o=o||{};for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e.queue=[],e.sorter=o.sorter||t.default_sorter,e},default_sorter:function(o,t){return o.cost-t.cost},push:function(o,t){var e={value:o,cost:t};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=i})(Me)),Me.exports}var at;function _t(){return at||(at=1,(function(r){const i=W(),o=Dt(),t=Ft(),e=qt(),n=Ut(),a=pt(),l=$(),c=Ot();function f(j){return unescape(encodeURIComponent(j)).length}function g(j,P,I){const R=[];let D;for(;(D=j.exec(I))!==null;)R.push({data:D[0],index:D.index,mode:P,length:D[0].length});return R}function S(j){const P=g(a.NUMERIC,i.NUMERIC,j),I=g(a.ALPHANUMERIC,i.ALPHANUMERIC,j);let R,D;return l.isKanjiModeEnabled()?(R=g(a.BYTE,i.BYTE,j),D=g(a.KANJI,i.KANJI,j)):(R=g(a.BYTE_KANJI,i.BYTE,j),D=[]),P.concat(I,R,D).sort(function(C,v){return C.index-v.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function b(j,P){switch(P){case i.NUMERIC:return o.getBitsLength(j);case i.ALPHANUMERIC:return t.getBitsLength(j);case i.KANJI:return n.getBitsLength(j);case i.BYTE:return e.getBitsLength(j)}}function h(j){return j.reduce(function(P,I){const R=P.length-1>=0?P[P.length-1]:null;return R&&R.mode===I.mode?(P[P.length-1].data+=I.data,P):(P.push(I),P)},[])}function x(j){const P=[];for(let I=0;I<j.length;I++){const R=j[I];switch(R.mode){case i.NUMERIC:P.push([R,{data:R.data,mode:i.ALPHANUMERIC,length:R.length},{data:R.data,mode:i.BYTE,length:R.length}]);break;case i.ALPHANUMERIC:P.push([R,{data:R.data,mode:i.BYTE,length:R.length}]);break;case i.KANJI:P.push([R,{data:R.data,mode:i.BYTE,length:f(R.data)}]);break;case i.BYTE:P.push([{data:R.data,mode:i.BYTE,length:f(R.data)}])}}return P}function M(j,P){const I={},R={start:{}};let D=["start"];for(let p=0;p<j.length;p++){const C=j[p],v=[];for(let w=0;w<C.length;w++){const E=C[w],T=""+p+w;v.push(T),I[T]={node:E,lastCount:0},R[T]={};for(let N=0;N<D.length;N++){const y=D[N];I[y]&&I[y].node.mode===E.mode?(R[y][T]=b(I[y].lastCount+E.length,E.mode)-b(I[y].lastCount,E.mode),I[y].lastCount+=E.length):(I[y]&&(I[y].lastCount=E.length),R[y][T]=b(E.length,E.mode)+4+i.getCharCountIndicator(E.mode,P))}}D=v}for(let p=0;p<D.length;p++)R[D[p]].end=0;return{map:R,table:I}}function k(j,P){let I;const R=i.getBestModeForData(j);if(I=i.from(P,R),I!==i.BYTE&&I.bit<R.bit)throw new Error('"'+j+'" cannot be encoded with mode '+i.toString(I)+`.
 Suggested mode is: `+i.toString(R));switch(I===i.KANJI&&!l.isKanjiModeEnabled()&&(I=i.BYTE),I){case i.NUMERIC:return new o(j);case i.ALPHANUMERIC:return new t(j);case i.KANJI:return new n(j);case i.BYTE:return new e(j)}}r.fromArray=function(P){return P.reduce(function(I,R){return typeof R=="string"?I.push(k(R,null)):R.data&&I.push(k(R.data,R.mode)),I},[])},r.fromString=function(P,I){const R=S(P,l.isKanjiModeEnabled()),D=x(R),p=M(D,I),C=c.find_path(p.map,"start","end"),v=[];for(let w=1;w<C.length-1;w++)v.push(p.table[C[w]].node);return r.fromArray(h(v))},r.rawSplit=function(P){return r.fromArray(S(P,l.isKanjiModeEnabled()))}})(Re)),Re}var ct;function Ht(){if(ct)return he;ct=1;const r=$(),i=Le(),o=Rt(),t=It(),e=jt(),n=xt(),a=At(),l=mt(),c=Pt(),f=kt(),g=Lt(),S=W(),b=_t();function h(p,C){const v=p.size,w=n.getPositions(C);for(let E=0;E<w.length;E++){const T=w[E][0],N=w[E][1];for(let y=-1;y<=7;y++)if(!(T+y<=-1||v<=T+y))for(let A=-1;A<=7;A++)N+A<=-1||v<=N+A||(y>=0&&y<=6&&(A===0||A===6)||A>=0&&A<=6&&(y===0||y===6)||y>=2&&y<=4&&A>=2&&A<=4?p.set(T+y,N+A,!0,!0):p.set(T+y,N+A,!1,!0))}}function x(p){const C=p.size;for(let v=8;v<C-8;v++){const w=v%2===0;p.set(v,6,w,!0),p.set(6,v,w,!0)}}function M(p,C){const v=e.getPositions(C);for(let w=0;w<v.length;w++){const E=v[w][0],T=v[w][1];for(let N=-2;N<=2;N++)for(let y=-2;y<=2;y++)N===-2||N===2||y===-2||y===2||N===0&&y===0?p.set(E+N,T+y,!0,!0):p.set(E+N,T+y,!1,!0)}}function k(p,C){const v=p.size,w=f.getEncodedBits(C);let E,T,N;for(let y=0;y<18;y++)E=Math.floor(y/3),T=y%3+v-8-3,N=(w>>y&1)===1,p.set(E,T,N,!0),p.set(T,E,N,!0)}function j(p,C,v){const w=p.size,E=g.getEncodedBits(C,v);let T,N;for(T=0;T<15;T++)N=(E>>T&1)===1,T<6?p.set(T,8,N,!0):T<8?p.set(T+1,8,N,!0):p.set(w-15+T,8,N,!0),T<8?p.set(8,w-T-1,N,!0):T<9?p.set(8,15-T-1+1,N,!0):p.set(8,15-T-1,N,!0);p.set(w-8,8,1,!0)}function P(p,C){const v=p.size;let w=-1,E=v-1,T=7,N=0;for(let y=v-1;y>0;y-=2)for(y===6&&y--;;){for(let A=0;A<2;A++)if(!p.isReserved(E,y-A)){let O=!1;N<C.length&&(O=(C[N]>>>T&1)===1),p.set(E,y-A,O),T--,T===-1&&(N++,T=7)}if(E+=w,E<0||v<=E){E-=w,w=-w;break}}}function I(p,C,v){const w=new o;v.forEach(function(A){w.put(A.mode.bit,4),w.put(A.getLength(),S.getCharCountIndicator(A.mode,p)),A.write(w)});const E=r.getSymbolTotalCodewords(p),T=l.getTotalCodewordsCount(p,C),N=(E-T)*8;for(w.getLengthInBits()+4<=N&&w.put(0,4);w.getLengthInBits()%8!==0;)w.putBit(0);const y=(N-w.getLengthInBits())/8;for(let A=0;A<y;A++)w.put(A%2?17:236,8);return R(w,p,C)}function R(p,C,v){const w=r.getSymbolTotalCodewords(C),E=l.getTotalCodewordsCount(C,v),T=w-E,N=l.getBlocksCount(C,v),y=w%N,A=N-y,O=Math.floor(w/N),z=Math.floor(T/N),J=z+1,F=O-z,le=new c(F);let Z=0;const X=new Array(N),se=new Array(N);let Q=0;const de=new Uint8Array(p.buffer);for(let K=0;K<N;K++){const re=K<A?z:J;X[K]=de.slice(Z,Z+re),se[K]=le.encode(X[K]),Z+=re,Q=Math.max(Q,re)}const G=new Uint8Array(w);let ne=0,_,U;for(_=0;_<Q;_++)for(U=0;U<N;U++)_<X[U].length&&(G[ne++]=X[U][_]);for(_=0;_<F;_++)for(U=0;U<N;U++)G[ne++]=se[U][_];return G}function D(p,C,v,w){let E;if(Array.isArray(p))E=b.fromArray(p);else if(typeof p=="string"){let O=C;if(!O){const z=b.rawSplit(p);O=f.getBestVersionForData(z,v)}E=b.fromString(p,O||40)}else throw new Error("Invalid data");const T=f.getBestVersionForData(E,v);if(!T)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=T;else if(C<T)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+T+`.
`);const N=I(C,v,E),y=r.getSymbolSize(C),A=new t(y);return h(A,C),x(A),M(A,C),j(A,v,0),C>=7&&k(A,C),P(A,N),isNaN(w)&&(w=a.getBestMask(A,j.bind(null,A,v))),a.applyMask(w,A),j(A,v,w),{modules:A,version:C,errorCorrectionLevel:v,maskPattern:w,segments:E}}return he.create=function(C,v){if(typeof C>"u"||C==="")throw new Error("No input text");let w=i.M,E,T;return typeof v<"u"&&(w=i.from(v.errorCorrectionLevel,i.M),E=f.from(v.version),T=a.from(v.maskPattern),v.toSJISFunc&&r.setToSJISFunction(v.toSJISFunc)),D(C,E,w,T)},he}var Be={},Pe={},lt;function wt(){return lt||(lt=1,(function(r){function i(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let t=o.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+o);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(n){return[n,n]}))),t.length===6&&t.push("F","F");const e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+t.slice(0,6).join("")}}r.getOptions=function(t){t||(t={}),t.color||(t.color={});const e=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,a=t.scale||4;return{width:n,scale:n?4:a,margin:e,color:{dark:i(t.color.dark||"#000000ff"),light:i(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},r.getScale=function(t,e){return e.width&&e.width>=t+e.margin*2?e.width/(t+e.margin*2):e.scale},r.getImageWidth=function(t,e){const n=r.getScale(t,e);return Math.floor((t+e.margin*2)*n)},r.qrToImageData=function(t,e,n){const a=e.modules.size,l=e.modules.data,c=r.getScale(a,n),f=Math.floor((a+n.margin*2)*c),g=n.margin*c,S=[n.color.light,n.color.dark];for(let b=0;b<f;b++)for(let h=0;h<f;h++){let x=(b*f+h)*4,M=n.color.light;if(b>=g&&h>=g&&b<f-g&&h<f-g){const k=Math.floor((b-g)/c),j=Math.floor((h-g)/c);M=S[l[k*a+j]?1:0]}t[x++]=M.r,t[x++]=M.g,t[x++]=M.b,t[x]=M.a}}})(Pe)),Pe}var dt;function Vt(){return dt||(dt=1,(function(r){const i=wt();function o(e,n,a){e.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=a,n.width=a,n.style.height=a+"px",n.style.width=a+"px"}function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(n,a,l){let c=l,f=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(f=t()),c=i.getOptions(c);const g=i.getImageWidth(n.modules.size,c),S=f.getContext("2d"),b=S.createImageData(g,g);return i.qrToImageData(b.data,n,c),o(S,f,g),S.putImageData(b,0,0),f},r.renderToDataURL=function(n,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const f=r.render(n,a,c),g=c.type||"image/png",S=c.rendererOpts||{};return f.toDataURL(g,S.quality)}})(Be)),Be}var ke={},ut;function Gt(){if(ut)return ke;ut=1;const r=wt();function i(e,n){const a=e.a/255,l=n+'="'+e.hex+'"';return a<1?l+" "+n+'-opacity="'+a.toFixed(2).slice(1)+'"':l}function o(e,n,a){let l=e+n;return typeof a<"u"&&(l+=" "+a),l}function t(e,n,a){let l="",c=0,f=!1,g=0;for(let S=0;S<e.length;S++){const b=Math.floor(S%n),h=Math.floor(S/n);!b&&!f&&(f=!0),e[S]?(g++,S>0&&b>0&&e[S-1]||(l+=f?o("M",b+a,.5+h+a):o("m",c,0),c=0,f=!1),b+1<n&&e[S+1]||(l+=o("h",g),g=0)):c++}return l}return ke.render=function(n,a,l){const c=r.getOptions(a),f=n.modules.size,g=n.modules.data,S=f+c.margin*2,b=c.color.light.a?"<path "+i(c.color.light,"fill")+' d="M0 0h'+S+"v"+S+'H0z"/>':"",h="<path "+i(c.color.dark,"stroke")+' d="'+t(g,f,c.margin)+'"/>',x='viewBox="0 0 '+S+" "+S+'"',k='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+x+' shape-rendering="crispEdges">'+b+h+`</svg>
`;return typeof l=="function"&&l(null,k),k},ke}var ft;function Kt(){if(ft)return ee;ft=1;const r=St(),i=Ht(),o=Vt(),t=Gt();function e(n,a,l,c,f){const g=[].slice.call(arguments,1),S=g.length,b=typeof g[S-1]=="function";if(!b&&!r())throw new Error("Callback required as last argument");if(b){if(S<2)throw new Error("Too few arguments provided");S===2?(f=l,l=a,a=c=void 0):S===3&&(a.getContext&&typeof f>"u"?(f=c,c=void 0):(f=c,c=l,l=a,a=void 0))}else{if(S<1)throw new Error("Too few arguments provided");return S===1?(l=a,a=c=void 0):S===2&&!a.getContext&&(c=l,l=a,a=void 0),new Promise(function(h,x){try{const M=i.create(l,c);h(n(M,a,c))}catch(M){x(M)}})}try{const h=i.create(l,c);f(null,n(h,a,c))}catch(h){f(h)}}return ee.create=i.create,ee.toCanvas=e.bind(null,o.render),ee.toDataURL=e.bind(null,o.renderToDataURL),ee.toString=e.bind(null,function(n,a,l){return t.render(n,l)}),ee}var Yt=Kt();const ht=Et(Yt),zt=[{time:"11:00 AM",label:"11:00 AM",enabled:!0},{time:"4:00 PM",label:"4:00 PM",enabled:!0},{time:"10:00 PM",label:"9:00 PM",enabled:!0}],te={"STL Pares":{icon:"🎯",description:"Pick 2 numbers from 01–40 (must be different)",inputType:"pares",pattern:/^\d{1,2}\.\d{1,2}$/,placeholder:"e.g., 10.23",maxLength:5,helpText:"Two numbers 01–40, use dot between (auto dot after first two digits)."},"Last 2":{icon:"🎲",description:"2-digit number (00–99)",inputType:"last2",pattern:/^\d{2}$/,placeholder:"e.g., 45",maxLength:2,helpText:"Exactly 2 digits (00–99)."},"Last 3":{icon:"🎰",description:"3-digit number (000–999)",inputType:"last3",pattern:/^\d{3}$/,placeholder:"e.g., 123",maxLength:3,helpText:"Exactly 3 digits (000–999)."},Swer3:{icon:"🎪",description:"3-digit winning combination",inputType:"swer3",pattern:/^\d{3}$/,placeholder:"e.g., 456",maxLength:3,helpText:"Exactly 3 digits (000–999)."}},Wt=()=>{const[r,i]=B.useState(""),[o,t]=B.useState(""),[e,n]=B.useState(""),[a,l]=B.useState(""),[c,f]=B.useState([]),[g,S]=B.useState(!1),[b,h]=B.useState(!1),[x,M]=B.useState(!1),[k,j]=B.useState([]),[P,I]=B.useState(!1),[R,D]=B.useState({show:!1,message:"",type:"success"}),[p,C]=B.useState(""),[v,w]=B.useState(""),[E,T]=B.useState(null),N=B.useRef(null),y=B.useRef(null),A=B.useRef(null),O=B.useCallback(async d=>{try{const m=JSON.stringify({id:d.id,timestamp:d.timestamp,total:d.total,bets:d.bets,drawTime:o,verified:!0});return await ht.toDataURL(m,{width:90,margin:1,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"})}catch(m){return console.error("QR Code generation failed:",m),null}},[o]),z=B.useCallback(async d=>{try{const m=JSON.stringify({id:d.id,timestamp:d.timestamp,total:d.total,bets:d.bets,verified:!0});return await ht.toDataURL(m,{width:90,margin:1,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"})}catch(m){return console.error("QR Code generation failed:",m),null}},[]);B.useEffect(()=>{try{const d=localStorage.getItem("recentTickets");if(d){const m=JSON.parse(d).slice(0,5).map(u=>({...u,timestamp:u.timestamp?new Date(u.timestamp):new Date}));j(m)}}catch(d){console.warn("Failed to load recent tickets:",d)}return()=>{N.current&&clearTimeout(N.current),y.current&&clearTimeout(y.current),A.current&&clearTimeout(A.current),document.body.style.overflow="",document.body.style.touchAction="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width=""}},[]);const J=g||b||x;B.useEffect(()=>{let d=0;if(J)d=window.scrollY||window.pageYOffset||0,document.body.style.position="fixed",document.body.style.top=`-${d}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",document.body.style.overflow="hidden",document.body.style.touchAction="none";else{const m=document.body.style.top;if(document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",document.body.style.overflow="",document.body.style.touchAction="",m){const u=Math.abs(parseInt(m,10))||0;window.scrollTo(0,u)}}return()=>{if(J){const m=document.body.style.top;if(document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",document.body.style.overflow="",document.body.style.touchAction="",m){const u=Math.abs(parseInt(m,10))||0;window.scrollTo(0,u)}}}},[J]),B.useEffect(()=>{if(!J)return;const d=m=>{m.key==="Escape"&&(b?h(!1):x?M(!1):g&&S(!1))};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[J,g,b,x]);const F=B.useCallback((d,m="success")=>{N.current&&clearTimeout(N.current),D({show:!0,message:d,type:m}),N.current=setTimeout(()=>{D(u=>({...u,show:!1}))},3200)},[]),le=B.useMemo(()=>{const d=new Date,m=new Date(d.getTime()+30*6e4);return zt.map(u=>{const[L,H]=u.time.split(" "),[q,Ct]=L.split(":").map(Number),Tt=H==="PM"&&q!==12?q+12:H==="AM"&&q===12?0:q,Fe=new Date;Fe.setHours(Tt,Ct,0,0);const qe=Fe.getTime()>m.getTime();return{...u,isEnabled:qe,label:u.label+(qe?"":" (Closed)")}})},[]),Z=B.useCallback((d,m)=>{if(!d||!m)return!1;const u=te[m];if(!u)return!1;switch(u.inputType){case"pares":{const L=d.match(/^(\d{1,2})\.(\d{1,2})$/);if(!L)return!1;const H=parseInt(L[1],10),q=parseInt(L[2],10);return H!==q&&H>=1&&H<=40&&q>=1&&q<=40}case"last2":return/^\d{2}$/.test(d);case"last3":case"swer3":return/^\d{3}$/.test(d);default:return!1}},[]),X=B.useCallback(d=>{if(!r)return;const m=te[r];let u=d;switch(m.inputType){case"pares":{u=u.replace(/[^\d.]/g,"");const L=u.indexOf(".");L!==-1&&(u=u.slice(0,L+1)+u.slice(L+1).replace(/\./g,"")),!u.includes(".")&&u.length>2&&(u=u.slice(0,2)+"."+u.slice(2)),u=u.slice(0,5);break}case"last2":u=u.replace(/\D/g,"").slice(0,2);break;case"last3":case"swer3":u=u.replace(/\D/g,"").slice(0,3);break}n(u)},[r]),se=B.useCallback(d=>{const m=d.replace(/\D/g,"").slice(0,3),u=Math.max(0,Math.min(parseInt(m||"0",10),500));l(u?String(u):"")},[]),Q=B.useMemo(()=>{const d=parseInt(a||"0",10);return o&&Z(e,r)&&d>=1&&d<=500},[o,e,r,a,Z]),de=B.useCallback(d=>{i(d),t(""),n(""),l(""),S(!0)},[]),G=B.useCallback(()=>{S(!1),i(""),t(""),n(""),l("")},[]),ne=z,_=B.useCallback(async d=>{T(d),I(!0);const m=await ne(d);C(m||""),I(!1),M(!0),F("Loading ticket details...","info")},[ne,F]),U=B.useCallback(()=>{M(!1),T(null),C("")},[]),K=B.useCallback(()=>{if(!Q){F("Please complete all fields correctly","error");return}const d=parseInt(a,10);if(r==="STL Pares"){const u=e.match(/^(\d{1,2})\.(\d{1,2})$/);if(u&&parseInt(u[1],10)===parseInt(u[2],10)){F("STL Pares numbers must be different","error");return}}let m=e;if(r==="STL Pares"){const u=e.match(/^(\d{1,2})\.(\d{1,2})$/);u&&(m=u[1].padStart(2,"0")+"."+u[2].padStart(2,"0"))}f(u=>{const L=u.findIndex(q=>q.game===r&&q.combo===m&&q.drawTime===o);if(L>=0){const q=[...u];return q[L]={...q[L],amount:Math.min(500,q[L].amount+d)},F("Added to existing combo (capped at ₱500)."),q}const H={id:`${Date.now()}_${Math.random().toString(36).slice(2,7)}`,game:r,combo:m,amount:d,drawTime:o};return F("Combination added!"),[...u,H]}),n(""),l("")},[Q,r,e,a,o,F]),re=B.useCallback(d=>{f(m=>m.filter(u=>u.id!==d)),F("Combination removed")},[F]),yt=B.useCallback(()=>{c.length!==0&&window.confirm("Clear all combinations?")&&(f([]),F("All combinations cleared"))},[c.length,F]),oe=B.useMemo(()=>c.reduce((d,m)=>d+m.amount,0),[c]),bt=B.useMemo(()=>{const d={};return c.forEach(m=>{const u=`${m.game}_${m.drawTime}`;d[u]||(d[u]={game:m.game,drawTime:m.drawTime,bets:[]}),d[u].bets.push(m)}),Object.values(d)},[c]),Nt=B.useCallback(async()=>{if(c.length===0){F("Please add at least one combination","error");return}I(!0),y.current&&clearTimeout(y.current),y.current=setTimeout(async()=>{const d=`TKT${Date.now().toString().slice(-8)}`,m={id:d,timestamp:new Date().toISOString(),bets:[...c],total:oe},u=await O(m);w(d),C(u||"");const L=[m,...k].slice(0,5);j(L),localStorage.setItem("recentTickets",JSON.stringify(L)),I(!1),h(!0)},700)},[c,oe,k,O]),De=B.useCallback(()=>{h(!1),G(),f([]),t(""),C(""),w(""),F("Ticket sent to printer!","success")},[G,F]),ae=B.useCallback(()=>{const d=()=>{window.removeEventListener("afterprint",m),u&&u.removeEventListener&&u.removeEventListener("change",L),De()},m=()=>d(),u=window.matchMedia?window.matchMedia("print"):null,L=H=>{H.matches||d()};u&&u.addEventListener&&u.addEventListener("change",L),window.addEventListener("afterprint",m),requestAnimationFrame(()=>{window.print(),window.clearTimeout(ae._fallback),ae._fallback=window.setTimeout(()=>{d()},3e3)})},[De]);return s.jsxs("div",{className:"container",children:[s.jsxs("header",{className:"header",children:[s.jsxs("div",{className:"content",children:[s.jsx("h1",{children:"Create New Ticket"}),s.jsx("p",{children:"Select a game, add combos, and print"})]}),s.jsx(vt,{to:"/teller",className:"back-button",children:"← Back To Dashboard"})]}),s.jsxs("section",{className:"games-section",children:[s.jsx("h2",{className:"section-title",children:"Choose Your Game"}),s.jsx("div",{className:"games-grid",children:Object.entries(te).map(([d,m])=>s.jsxs("button",{className:"game-card",onClick:()=>de(d),children:[s.jsx("div",{className:"game-icon",children:m.icon}),s.jsx("div",{className:"game-title",children:d}),s.jsx("div",{className:"game-description",children:m.description})]},d))})]}),k.length>0&&s.jsxs("section",{className:"history-section",children:[s.jsx("h2",{className:"section-title",children:"Recent Tickets"}),s.jsx("div",{className:"history-grid",children:k.slice(0,3).map(d=>s.jsxs("div",{className:"history-card",onClick:()=>_(d),children:[s.jsx("div",{className:"history-id",children:d.id}),s.jsxs("div",{className:"history-details",children:[d.bets?.length||0," combinations • ₱",(d.total||0).toLocaleString()]}),s.jsx("div",{className:"history-date",children:new Date(d.timestamp).toLocaleDateString("en-PH")})]},d.id))})]}),g&&ue.createPortal(s.jsx("div",{className:"modal",onClick:d=>d.target===d.currentTarget&&G(),children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h2",{children:r}),s.jsx("button",{className:"close-btn",onClick:G,children:"×"})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Select Draw Time"}),s.jsxs("select",{value:o,onChange:d=>t(d.target.value),children:[s.jsx("option",{value:"",children:"Select draw time"}),le.map(d=>s.jsx("option",{value:d.time,disabled:!d.isEnabled,children:d.label},d.time))]}),s.jsx("div",{className:"helper",children:"30-minute cut-off before each draw."})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Enter Combination"}),s.jsx("input",{type:"text",placeholder:te[r]?.placeholder,value:e,onChange:d=>X(d.target.value),maxLength:te[r]?.maxLength}),s.jsx("div",{className:"helper",children:te[r]?.helpText})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Bet Amount (₱1 - ₱500)"}),s.jsx("input",{type:"text",placeholder:"Enter amount",value:a,onChange:d=>se(d.target.value)}),s.jsx("div",{className:"helper",children:"Digits only. Max ₱500."})]}),s.jsx("button",{className:"btn add-btn",onClick:K,disabled:!Q,children:"Add Combination"}),s.jsxs("div",{className:"bets-section",children:[s.jsx("h3",{children:"Your Combinations"}),s.jsx("div",{className:"bets-list",children:c.length===0?s.jsx("div",{className:"empty-state",children:"No combinations added yet"}):c.map(d=>s.jsxs("div",{className:"bet-item",children:[s.jsxs("div",{className:"bet-details",children:[s.jsxs("div",{className:"bet-combo",children:[d.game,": ",d.combo]}),s.jsxs("div",{className:"bet-amount",children:["₱",d.amount.toLocaleString()]}),s.jsxs("div",{className:"bet-draw-time",children:["Draw: ",d.drawTime]})]}),s.jsx("button",{className:"remove-btn",onClick:()=>re(d.id),children:"Remove"})]},d.id))}),s.jsxs("div",{className:"total-section",children:[s.jsxs("div",{className:"total-amount",children:["₱",oe.toLocaleString()]}),s.jsx("div",{className:"total-label",children:"Total Bet Amount"})]})]}),s.jsxs("div",{className:"action-buttons",children:[s.jsx("button",{className:"btn btn-secondary",onClick:yt,children:"Clear All"}),s.jsx("button",{className:"btn btn-primary",onClick:Nt,disabled:c.length===0||P,children:P?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner"})," Generating…"]}):"Print Ticket"})]})]})]})}),document.body),b&&ue.createPortal(s.jsx("div",{className:"print-modal",onClick:d=>d.target===d.currentTarget&&h(!1),children:s.jsxs("div",{className:"print-container",children:[s.jsxs("div",{className:"print-header",children:[s.jsx("div",{className:"print-title",children:"Print Ticket"}),s.jsx("div",{className:"print-subtitle",children:"Review your ticket before printing"})]}),s.jsx("div",{className:"print-body",children:s.jsxs("div",{className:"ticket",children:[s.jsxs("div",{className:"ticket-brand",children:[s.jsx("div",{className:"ticket-logo",children:"STL"}),s.jsx("div",{className:"ticket-logo",children:"COMPANY"}),s.jsx("div",{className:"ticket-logo",children:"PCSO"})]}),s.jsx("div",{className:"ticket-title",children:"STL GAMING SYSTEM"}),s.jsx("div",{className:"ticket-sub",children:"OFFICIAL BETTING TICKET • PCSO PHILIPPINES"}),s.jsx("div",{className:"ticket-details",children:s.jsxs("div",{className:"detail-row",children:[s.jsx("span",{children:"OPERATOR:"}),s.jsx("span",{children:"TELLER01"})]})}),s.jsxs("div",{className:"ticket-meta",children:[s.jsx("div",{children:s.jsxs("strong",{children:["REF: ",v]})}),s.jsx("div",{children:new Date().toLocaleString("en-PH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]}),s.jsx("div",{className:"ticket-bets",children:bt.map((d,m)=>s.jsxs("div",{className:"bet-group",children:[s.jsxs("div",{className:"group-header",children:[s.jsx("div",{className:"game-name",children:d.game.toUpperCase()}),s.jsxs("div",{className:"draw-time",children:["DRAW: ",d.drawTime]})]}),d.bets.map((u,L)=>s.jsxs("div",{className:"bet-line",children:[s.jsx("span",{className:"bet-combo",children:u.combo}),s.jsxs("span",{className:"bet-amt",children:["₱",u.amount.toLocaleString()]})]},L))]},m))}),s.jsxs("div",{className:"ticket-total",children:[s.jsx("span",{children:"TOTAL AMOUNT"}),s.jsxs("span",{children:["₱",oe.toLocaleString()]})]}),s.jsxs("div",{className:"qr",children:[s.jsx("div",{className:"qr-box",children:p?s.jsx("img",{src:p,alt:"Ticket QR Code",style:{width:"100%",height:"100%",imageRendering:"pixelated",display:"block"}}):s.jsx("div",{className:"qr-loading",children:"Generating QR..."})}),s.jsx("div",{className:"qr-text",children:"SCAN TO VERIFY"})]}),s.jsxs("div",{className:"ticket-foot",children:[s.jsx("div",{children:"KEEP THIS TICKET SAFE • PRESENT TO CLAIM WINNINGS"}),s.jsx("div",{children:"THIS TICKET IS VALID FOR 365 DAYS FROM DRAW DATE"}),s.jsx("div",{children:"FOR INQUIRIES: CALL PCSO HOTLINE 8-889-8889"}),s.jsx("div",{children:"RESPONSIBLE GAMING: PLAY WITHIN YOUR MEANS"})]})]})}),s.jsxs("div",{className:"print-actions",children:[s.jsx("button",{className:"print-btn-back",onClick:()=>{h(!1)},children:"← Back"}),s.jsx("button",{className:"print-btn-print",onClick:ae,children:"Print Ticket"})]})]})}),document.body),x&&E&&ue.createPortal(s.jsx("div",{className:"print-modal",onClick:d=>d.target===d.currentTarget&&U(),children:s.jsxs("div",{className:"print-container",children:[s.jsxs("div",{className:"print-header",children:[s.jsx("div",{className:"print-title",children:"Ticket Details"}),s.jsx("div",{className:"print-subtitle",children:"View your saved ticket information"})]}),s.jsx("div",{className:"print-body",children:s.jsxs("div",{className:"ticket",children:[s.jsxs("div",{className:"ticket-brand",children:[s.jsx("div",{className:"ticket-logo",children:"STL"}),s.jsx("div",{className:"ticket-logo",children:"COMPANY"}),s.jsx("div",{className:"ticket-logo",children:"PCSO"})]}),s.jsx("div",{className:"ticket-title",children:"STL GAMING SYSTEM"}),s.jsx("div",{className:"ticket-sub",children:"OFFICIAL BETTING TICKET • PCSO PHILIPPINES"}),s.jsx("div",{className:"ticket-details",children:s.jsxs("div",{className:"detail-row",children:[s.jsx("span",{children:"OPERATOR:"}),s.jsx("span",{children:"TELLER01"})]})}),s.jsxs("div",{className:"ticket-meta",children:[s.jsx("div",{children:s.jsxs("strong",{children:["REF: ",E.id]})}),s.jsx("div",{children:new Date(E.timestamp).toLocaleString("en-PH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]}),s.jsx("div",{className:"ticket-bets",children:E.bets&&Object.values(E.bets.reduce((d,m)=>{const u=`${m.game}_${m.drawTime}`;return d[u]||(d[u]={game:m.game,drawTime:m.drawTime,bets:[]}),d[u].bets.push(m),d},{})).map((d,m)=>s.jsxs("div",{className:"bet-group",children:[s.jsxs("div",{className:"group-header",children:[s.jsx("div",{className:"game-name",children:d.game.toUpperCase()}),s.jsxs("div",{className:"draw-time",children:["DRAW: ",d.drawTime]})]}),d.bets.map((u,L)=>s.jsxs("div",{className:"bet-line",children:[s.jsx("span",{className:"bet-combo",children:u.combo}),s.jsxs("span",{className:"bet-amt",children:["₱",u.amount.toLocaleString()]})]},L))]},m))}),s.jsxs("div",{className:"ticket-total",children:[s.jsx("span",{children:"TOTAL AMOUNT"}),s.jsxs("span",{children:["₱",E.total.toLocaleString()]})]}),s.jsxs("div",{className:"qr",children:[s.jsx("div",{className:"qr-box",children:p?s.jsx("img",{src:p,alt:"Ticket QR Code",style:{width:"100%",height:"100%",imageRendering:"pixelated",display:"block"}}):s.jsx("div",{className:"qr-loading",children:"Generating QR..."})}),s.jsx("div",{className:"qr-text",children:"SCAN TO VERIFY"})]}),s.jsxs("div",{className:"ticket-foot",children:[s.jsx("div",{children:"KEEP THIS TICKET SAFE • PRESENT TO CLAIM WINNINGS"}),s.jsx("div",{children:"THIS TICKET IS VALID FOR 365 DAYS FROM DRAW DATE"}),s.jsx("div",{children:"FOR INQUIRIES: CALL PCSO HOTLINE 8-889-8889"}),s.jsx("div",{children:"RESPONSIBLE GAMING: PLAY WITHIN YOUR MEANS"})]})]})}),s.jsxs("div",{className:"print-actions",children:[s.jsx("button",{className:"print-btn-back",onClick:U,children:"← Close"}),s.jsx("button",{className:"print-btn-print",onClick:ae,children:"Print Copy"})]})]})}),document.body),R.show&&s.jsx("div",{className:`toast ${R.type}`,children:R.message})]})};export{Wt as default};
