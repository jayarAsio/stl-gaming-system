import{a as n,j as e}from"./index-C_o-dSk4.js";const J=(o=new Date)=>{const M=o.getFullYear(),i=String(o.getMonth()+1).padStart(2,"0"),C=String(o.getDate()).padStart(2,"0");return`${M}-${i}-${C}`},K=()=>{const o=J(new Date),M=new Date,[i,C]=n.useState("summary"),[u,F]=n.useState(o),[p,U]=n.useState(o),[x,_]=n.useState(""),[L,B]=n.useState("all"),[g,P]=n.useState("all"),[b,q]=n.useState("all"),[w,E]=n.useState("all"),[A,G]=n.useState("all"),[y,V]=n.useState("all"),[k,W]=n.useState("all"),j=n.useMemo(()=>[{id:"T-0001",name:"Ana Cruz",role:"Teller",area:"Toril",status:"Active",loginCount:145,lastLogin:`${o} 08:15:23`,ticketsProcessed:1247},{id:"T-0002",name:"Mark Dela Peña",role:"Teller",area:"Buhangin",status:"Suspended",loginCount:89,lastLogin:`${o} 14:22:11`,ticketsProcessed:856},{id:"T-0003",name:"Carla Reyes",role:"Teller",area:"Lanang",status:"Active",loginCount:167,lastLogin:`${o} 09:02:45`,ticketsProcessed:1589},{id:"C-0101",name:"Joy Santos",role:"Collector",area:"Matina",status:"Active",loginCount:98,lastLogin:`${o} 07:45:12`,ticketsProcessed:0},{id:"T-0004",name:"Paolo Garcia",role:"Teller",area:"Sasa",status:"Active",loginCount:134,lastLogin:`${o} 16:30:08`,ticketsProcessed:1123},{id:"C-0102",name:"Leo Tan",role:"Collector",area:"Agdao",status:"Active",loginCount:76,lastLogin:`${o} 18:20:33`,ticketsProcessed:0},{id:"T-0005",name:"Lara Torres",role:"Teller",area:"Agdao",status:"Active",loginCount:142,lastLogin:`${o} 08:55:17`,ticketsProcessed:1334},{id:"T-0006",name:"Mike Ramos",role:"Teller",area:"Toril",status:"Active",loginCount:156,lastLogin:`${o} 09:12:05`,ticketsProcessed:1456},{id:"T-0007",name:"Nina Lopez",role:"Teller",area:"Buhangin",status:"Suspended",loginCount:67,lastLogin:`${o} 12:45:22`,ticketsProcessed:678},{id:"C-0103",name:"Rico Martinez",role:"Collector",area:"Lanang",status:"Active",loginCount:88,lastLogin:`${o} 19:15:40`,ticketsProcessed:0}],[o]);n.useMemo(()=>["Toril","Buhangin","Lanang","Matina","Sasa","Agdao"].map(a=>({date:o,area:a,totalTickets:Math.floor(Math.random()*400)+200,activeTickets:Math.floor(Math.random()*350)+150,voidedTickets:Math.floor(Math.random()*40)+10,totalSales:Math.floor(Math.random()*4e5)+15e4,voidRequests:Math.floor(Math.random()*12)+3})),[o]);const R=n.useMemo(()=>({"T-0001":"C-0101","T-0003":"C-0103","T-0004":"C-0101","T-0005":"C-0102","T-0006":"C-0101"}),[]),I=n.useMemo(()=>{const t=[];return j.filter(d=>d.role==="Teller"&&d.status==="Active").forEach(d=>{const c=Math.floor(Math.random()*150)+50,r=Math.floor(Math.random()*10)+1,l=c*(Math.floor(Math.random()*50)+20),s=R[d.id],m=s?j.find(h=>h.id===s):null;t.push({date:o,tellerId:d.id,tellerName:d.name,area:d.area,collector:m?m.name:"—",collectorId:s||null,ticketsIssued:c,ticketsVoided:r,ticketsActive:c-r,totalSales:l,loginTime:"08:"+String(Math.floor(Math.random()*60)).padStart(2,"0")+":00",logoutTime:"17:"+String(Math.floor(Math.random()*60)).padStart(2,"0")+":00"})}),t},[j,R,o]),D=n.useMemo(()=>{const t=[],a=["STL Pares","Last 2","Last 3","Swer3"],d=["11:00 AM","4:00 PM","9:00 PM"],c=l=>{const[s,m]=l.split(" ");let[h,f]=s.split(":").map(Number);m.toUpperCase()==="PM"&&h!==12&&(h+=12),m.toUpperCase()==="AM"&&h===12&&(h=0);const $=new Date;return $.setHours(h,f,0,0),$},r=l=>{if(l==="STL Pares"){const s=String(Math.floor(Math.random()*40)+1).padStart(2,"0"),m=String(Math.floor(Math.random()*40)+1).padStart(2,"0");return`${s}-${m}`}return l==="Last 2"?String(Math.floor(Math.random()*100)).padStart(2,"0"):String(Math.floor(Math.random()*1e3)).padStart(3,"0")};return a.forEach(l=>{d.forEach(s=>{const h=c(s)<M,f=Math.floor(Math.random()*4e3)+1e3,$=Math.floor(Math.random()*15e5)+5e5;t.push({date:o,game:l,drawTime:s,status:h?"Completed":"Scheduled",totalBets:f,totalAmount:$,winningNumbers:h?r(l):"—",winners:h?Math.floor(Math.random()*45)+5:0,payoutAmount:h?Math.floor(Math.random()*4e5)+5e4:0})})}),t},[o,M]),z=n.useMemo(()=>j.filter(t=>t.role==="Teller"&&t.status==="Active").sort((t,a)=>t.name.localeCompare(a.name)),[j]),O=n.useMemo(()=>j.filter(t=>t.role==="Collector"&&t.status==="Active").sort((t,a)=>t.name.localeCompare(a.name)),[j]),Q=n.useMemo(()=>[...new Set(D.map(t=>t.drawTime))].sort(),[D]),v=n.useMemo(()=>j.filter(t=>{const a=x.toLowerCase(),d=x?t.name.toLowerCase().includes(a)||t.id.toLowerCase().includes(a)||t.area.toLowerCase().includes(a):!0,c=L==="all"||t.status===L,r=g==="all"||t.area===g,l=b==="all"||t.role===b;return d&&c&&r&&l}),[j,x,L,g,b]),N=n.useMemo(()=>I.filter(t=>{const a=new Date(t.date),d=new Date(u),c=new Date(p),r=a>=d&&a<=c,l=g==="all"||t.area===g,s=w==="all"||t.tellerId===w,m=A==="all"||t.collectorId===A,h=x.toLowerCase(),f=x?t.tellerName.toLowerCase().includes(h)||t.tellerId.toLowerCase().includes(h)||t.area.toLowerCase().includes(h)||(t.collector||"").toLowerCase().includes(h):!0;return r&&l&&s&&m&&f}),[I,u,p,g,w,A,x]),T=n.useMemo(()=>D.filter(t=>{const a=new Date(t.date),d=new Date(u),c=new Date(p),r=a>=d&&a<=c,l=x.toLowerCase(),s=x?t.game.toLowerCase().includes(l)||t.winningNumbers.toLowerCase().includes(l):!0,m=y==="all"||t.game===y,h=k==="all"||t.drawTime===k;return r&&s&&m&&h}),[D,u,p,x,y,k]),S=n.useMemo(()=>{const t=N.reduce((r,l)=>r+l.ticketsIssued,0),a=N.reduce((r,l)=>r+l.totalSales,0),d=T.filter(r=>r.status==="Completed").length,c=T.reduce((r,l)=>r+l.payoutAmount,0);return{totalUsers:v.length,activeUsers:v.filter(r=>r.status==="Active").length,totalTickets:t,totalSales:a,totalDraws:d,totalPayout:c,profitMargin:a>0?((a-c)/a*100).toFixed(2):0}},[v,N,T]),H=n.useCallback(()=>{let t="",a="";if(i==="users"){const r=["User ID","User Name","Role","Area","Status","Login Count","Last Login","Tickets Processed"],l=v.map(s=>[s.id,s.name,s.role,s.area,s.status,s.loginCount,s.lastLogin,s.ticketsProcessed]);t=[r.join(","),...l.map(s=>s.join(","))].join(`
`),a=`user_management_report_${u}_to_${p}.csv`}else if(i==="operations"){const r=["Date","Teller ID","Teller Name","Area","Collector","Tickets Issued","Tickets Voided","Tickets Active","Total Sales","Login Time","Logout Time"],l=N.map(s=>[s.date,s.tellerId,s.tellerName,s.area,s.collector,s.ticketsIssued,s.ticketsVoided,s.ticketsActive,s.totalSales,s.loginTime,s.logoutTime]);t=[r.join(","),...l.map(s=>s.join(","))].join(`
`),a=`teller_operations_report_${u}_to_${p}.csv`}else if(i==="draws"){const r=["Date","Game","Draw Time","Status","Total Bets","Total Amount","Winning Numbers","Winners","Payout Amount"],l=T.map(s=>[s.date,s.game,s.drawTime,s.status,s.totalBets,s.totalAmount,s.winningNumbers,s.winners,s.payoutAmount]);t=[r.join(","),...l.map(s=>s.join(","))].join(`
`),a=`draw_management_report_${u}_to_${p}.csv`}const d=new Blob([t],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a");c.href=URL.createObjectURL(d),c.setAttribute("download",a),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)},[i,v,N,T,u,p]);return e.jsxs("div",{className:"rpt-container",children:[e.jsx("div",{className:"rpt-header",children:e.jsxs("div",{className:"rpt-header-content",children:[e.jsxs("div",{className:"rpt-header-text",children:[e.jsx("h1",{className:"rpt-title",children:"Reports & Analytics"}),e.jsx("p",{className:"rpt-subtitle",children:"Comprehensive reports across all system modules"})]}),e.jsx("div",{className:"rpt-header-actions",children:i!=="summary"&&e.jsxs("button",{className:"rpt-export-btn",onClick:H,children:[e.jsx("span",{children:"📥"})," Export to CSV"]})})]})}),e.jsx("div",{className:"rpt-tabs-card",children:e.jsxs("div",{className:"rpt-tabs",children:[e.jsxs("button",{className:`rpt-tab ${i==="summary"?"active":""}`,onClick:()=>C("summary"),children:[e.jsx("span",{children:"📊"})," Summary"]}),e.jsxs("button",{className:`rpt-tab ${i==="users"?"active":""}`,onClick:()=>C("users"),children:[e.jsx("span",{children:"👥"})," User Management"]}),e.jsxs("button",{className:`rpt-tab ${i==="operations"?"active":""}`,onClick:()=>C("operations"),children:[e.jsx("span",{children:"📋"})," Daily Operations"]}),e.jsxs("button",{className:`rpt-tab ${i==="draws"?"active":""}`,onClick:()=>C("draws"),children:[e.jsx("span",{children:"🎲"})," Draw Management"]})]})}),i!=="summary"&&e.jsx("div",{className:"rpt-filters-card",children:e.jsxs("div",{className:"rpt-filters",children:[e.jsxs("div",{className:"rpt-search-wrapper",children:[e.jsx("span",{className:"rpt-search-icon",children:"🔍"}),e.jsx("input",{type:"text",className:"rpt-search-input",placeholder:`Search ${i}...`,value:x,onChange:t=>_(t.target.value)})]}),e.jsxs("div",{className:"rpt-date-group",children:[e.jsx("label",{className:"rpt-date-label",children:"From"}),e.jsx("input",{type:"date",className:"rpt-date-input",value:u,onChange:t=>F(t.target.value)})]}),e.jsxs("div",{className:"rpt-date-group",children:[e.jsx("label",{className:"rpt-date-label",children:"To"}),e.jsx("input",{type:"date",className:"rpt-date-input",value:p,onChange:t=>U(t.target.value)})]}),i==="users"&&e.jsxs(e.Fragment,{children:[e.jsxs("select",{className:"rpt-filter-select",value:L,onChange:t=>B(t.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Suspended",children:"Suspended"})]}),e.jsxs("select",{className:"rpt-filter-select",value:g,onChange:t=>P(t.target.value),children:[e.jsx("option",{value:"all",children:"All Areas"}),e.jsx("option",{value:"Toril",children:"Toril"}),e.jsx("option",{value:"Buhangin",children:"Buhangin"}),e.jsx("option",{value:"Lanang",children:"Lanang"}),e.jsx("option",{value:"Matina",children:"Matina"}),e.jsx("option",{value:"Sasa",children:"Sasa"}),e.jsx("option",{value:"Agdao",children:"Agdao"})]}),e.jsxs("select",{className:"rpt-filter-select",value:b,onChange:t=>q(t.target.value),children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"Teller",children:"Tellers"}),e.jsx("option",{value:"Collector",children:"Collectors"})]})]}),i==="operations"&&e.jsxs(e.Fragment,{children:[e.jsxs("select",{className:"rpt-filter-select",value:g,onChange:t=>P(t.target.value),children:[e.jsx("option",{value:"all",children:"All Areas"}),e.jsx("option",{value:"Toril",children:"Toril"}),e.jsx("option",{value:"Buhangin",children:"Buhangin"}),e.jsx("option",{value:"Lanang",children:"Lanang"}),e.jsx("option",{value:"Matina",children:"Matina"}),e.jsx("option",{value:"Sasa",children:"Sasa"}),e.jsx("option",{value:"Agdao",children:"Agdao"})]}),e.jsxs("select",{className:"rpt-filter-select rpt-filter-teller",value:w,onChange:t=>E(t.target.value),children:[e.jsx("option",{value:"all",children:"All Tellers"}),z.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsxs("select",{className:"rpt-filter-select rpt-filter-collector",value:A,onChange:t=>G(t.target.value),children:[e.jsx("option",{value:"all",children:"All Collectors"}),O.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),i==="draws"&&e.jsxs(e.Fragment,{children:[e.jsxs("select",{className:"rpt-filter-select",value:y,onChange:t=>V(t.target.value),children:[e.jsx("option",{value:"all",children:"All Games"}),e.jsx("option",{value:"STL Pares",children:"STL Pares"}),e.jsx("option",{value:"Last 2",children:"Last 2"}),e.jsx("option",{value:"Last 3",children:"Last 3"}),e.jsx("option",{value:"Swer3",children:"Swer3"})]}),e.jsxs("select",{className:"rpt-filter-select",value:k,onChange:t=>W(t.target.value),children:[e.jsx("option",{value:"all",children:"All Draw Times"}),Q.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]})}),i==="summary"&&e.jsx("div",{className:"rpt-summary-section",children:e.jsxs("div",{className:"rpt-summary-grid",children:[e.jsxs("div",{className:"rpt-stat-card",children:[e.jsx("div",{className:"rpt-stat-icon rpt-icon-users",children:"👥"}),e.jsxs("div",{className:"rpt-stat-body",children:[e.jsx("div",{className:"rpt-stat-value",children:S.totalUsers}),e.jsx("div",{className:"rpt-stat-label",children:"Total Users"}),e.jsxs("div",{className:"rpt-stat-sub",children:[S.activeUsers," active"]})]})]}),e.jsxs("div",{className:"rpt-stat-card",children:[e.jsx("div",{className:"rpt-stat-icon rpt-icon-tickets",children:"🎫"}),e.jsxs("div",{className:"rpt-stat-body",children:[e.jsx("div",{className:"rpt-stat-value",children:S.totalTickets.toLocaleString()}),e.jsx("div",{className:"rpt-stat-label",children:"Total Tickets"}),e.jsxs("div",{className:"rpt-stat-sub",children:[u," to ",p]})]})]}),e.jsxs("div",{className:"rpt-stat-card",children:[e.jsx("div",{className:"rpt-stat-icon rpt-icon-sales",children:"💰"}),e.jsxs("div",{className:"rpt-stat-body",children:[e.jsxs("div",{className:"rpt-stat-value",children:["₱",(S.totalSales/1e6).toFixed(2),"M"]}),e.jsx("div",{className:"rpt-stat-label",children:"Total Sales"}),e.jsxs("div",{className:"rpt-stat-sub",children:[S.profitMargin,"% margin"]})]})]}),e.jsxs("div",{className:"rpt-stat-card",children:[e.jsx("div",{className:"rpt-stat-icon rpt-icon-draws",children:"🎲"}),e.jsxs("div",{className:"rpt-stat-body",children:[e.jsx("div",{className:"rpt-stat-value",children:S.totalDraws}),e.jsx("div",{className:"rpt-stat-label",children:"Completed Draws"}),e.jsxs("div",{className:"rpt-stat-sub",children:["₱",(S.totalPayout/1e6).toFixed(2),"M payout"]})]})]})]})}),i==="users"&&e.jsxs("div",{className:"rpt-card",children:[e.jsxs("div",{className:"rpt-card-header",children:[e.jsx("h3",{className:"rpt-card-title",children:"User Management Report"}),e.jsxs("div",{className:"rpt-results-count",children:["Showing ",e.jsx("strong",{children:v.length})," users"]})]}),e.jsx("div",{className:"rpt-table-wrapper",children:e.jsxs("table",{className:"rpt-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Area"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Login Count"}),e.jsx("th",{children:"Last Login"}),e.jsx("th",{children:"Tickets Processed"})]})}),e.jsx("tbody",{children:v.length>0?v.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"rpt-td-id",children:t.id}),e.jsx("td",{className:"rpt-td-name",children:t.name}),e.jsx("td",{children:t.role}),e.jsx("td",{children:t.area}),e.jsx("td",{children:e.jsx("span",{className:`rpt-pill ${t.status==="Active"?"rpt-pill-success":"rpt-pill-danger"}`,children:t.status})}),e.jsx("td",{className:"rpt-td-number",children:t.loginCount}),e.jsx("td",{className:"rpt-td-time",children:t.lastLogin}),e.jsx("td",{className:"rpt-td-number",children:t.ticketsProcessed.toLocaleString()})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"rpt-no-results",children:"No users found matching your criteria"})})})]})})]}),i==="operations"&&e.jsxs("div",{className:"rpt-card",children:[e.jsxs("div",{className:"rpt-card-header",children:[e.jsx("h3",{className:"rpt-card-title",children:"Teller Operations Report"}),e.jsxs("div",{className:"rpt-results-count",children:["Showing ",e.jsx("strong",{children:N.length})," records"]})]}),e.jsx("div",{className:"rpt-table-wrapper",children:e.jsxs("table",{className:"rpt-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Teller ID"}),e.jsx("th",{children:"Teller Name"}),e.jsx("th",{children:"Area"}),e.jsx("th",{children:"Collector"}),e.jsx("th",{children:"Tickets Issued"}),e.jsx("th",{children:"Voided"}),e.jsx("th",{children:"Active"}),e.jsx("th",{children:"Total Sales"}),e.jsx("th",{children:"Login"}),e.jsx("th",{children:"Logout"})]})}),e.jsx("tbody",{children:N.length>0?N.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"rpt-td-date",children:t.date}),e.jsx("td",{className:"rpt-td-id",children:t.tellerId}),e.jsx("td",{className:"rpt-td-name",children:t.tellerName}),e.jsx("td",{children:t.area}),e.jsx("td",{className:"rpt-td-name",children:t.collector}),e.jsx("td",{className:"rpt-td-number",children:t.ticketsIssued.toLocaleString()}),e.jsx("td",{className:"rpt-td-number",children:t.ticketsVoided.toLocaleString()}),e.jsx("td",{className:"rpt-td-number",children:t.ticketsActive.toLocaleString()}),e.jsxs("td",{className:"rpt-td-currency",children:["₱",t.totalSales.toLocaleString()]}),e.jsx("td",{className:"rpt-td-time",children:t.loginTime}),e.jsx("td",{className:"rpt-td-time",children:t.logoutTime})]},a)):e.jsx("tr",{children:e.jsx("td",{colSpan:"11",className:"rpt-no-results",children:"No teller operations data found for selected filters"})})})]})})]}),i==="draws"&&e.jsxs("div",{className:"rpt-card",children:[e.jsxs("div",{className:"rpt-card-header",children:[e.jsx("h3",{className:"rpt-card-title",children:"Draw Management Report"}),e.jsxs("div",{className:"rpt-results-count",children:["Showing ",e.jsx("strong",{children:T.length})," draws"]})]}),e.jsx("div",{className:"rpt-table-wrapper",children:e.jsxs("table",{className:"rpt-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Game"}),e.jsx("th",{children:"Draw Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Total Bets"}),e.jsx("th",{children:"Total Amount"}),e.jsx("th",{children:"Winning Numbers"}),e.jsx("th",{children:"Winners"}),e.jsx("th",{children:"Payout"})]})}),e.jsx("tbody",{children:T.length>0?T.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"rpt-td-date",children:t.date}),e.jsx("td",{className:"rpt-td-game",children:t.game}),e.jsx("td",{children:t.drawTime}),e.jsx("td",{children:e.jsx("span",{className:`rpt-pill ${t.status==="Completed"?"rpt-pill-success":"rpt-pill-warning"}`,children:t.status})}),e.jsx("td",{className:"rpt-td-number",children:t.totalBets.toLocaleString()}),e.jsxs("td",{className:"rpt-td-currency",children:["₱",t.totalAmount.toLocaleString()]}),e.jsx("td",{className:"rpt-td-winning",children:t.winningNumbers}),e.jsx("td",{className:"rpt-td-number",children:t.winners>0?t.winners:"—"}),e.jsx("td",{className:"rpt-td-currency",children:t.payoutAmount>0?`₱${t.payoutAmount.toLocaleString()}`:"—"})]},a)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"rpt-no-results",children:"No draw data found for selected filters"})})})]})})]})]})};export{K as default};
