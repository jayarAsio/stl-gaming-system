import{r as d,j as e,L as g}from"./index-Bp26F_Yb.js";const o=t=>`₱${Number(t||0).toLocaleString("en-PH",{maximumFractionDigits:0})}`,m=t=>Number(t||0).toLocaleString(),u=t=>t.toLocaleTimeString("en-PH",{hour:"2-digit",minute:"2-digit",hour12:!0}),x=t=>{if(t<=0)return"00:00:00";const s=Math.floor(t/(1e3*60*60)),i=Math.floor(t%(1e3*60*60)/(1e3*60)),a=Math.floor(t%(1e3*60)/1e3);return`${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},w=t=>t.toLocaleDateString("en-PH",{month:"short",day:"numeric",year:"numeric"}),j=t=>t.toLocaleTimeString("en-PH",{hour:"numeric",minute:"2-digit",hour12:!0}),v={initials:"JD",name:"Juan Dela Cruz",role:"Teller Agent #1234",status:"ACTIVE"},p={sales:12450,tickets:87,commission:1245,winners:3},N=()=>{const t=new Date,s=new Date(t.getFullYear(),t.getMonth(),t.getDate());return[{title:"Swertres",variant:"variant-a",draws:[{time:new Date(s.getTime()+840*60*1e3),result:t>=new Date(s.getTime()+840*60*1e3)?"1-2-3":null,status:t>=new Date(s.getTime()+840*60*1e3)?"completed":"upcoming"},{time:new Date(s.getTime()+1020*60*1e3),result:t>=new Date(s.getTime()+1020*60*1e3)?"4-5-6":null,status:t>=new Date(s.getTime()+1020*60*1e3)?"completed":"upcoming"},{time:new Date(s.getTime()+1260*60*1e3),result:t>=new Date(s.getTime()+1260*60*1e3)?"7-8-9":null,status:t>=new Date(s.getTime()+1260*60*1e3)?"completed":"upcoming"}]},{title:"Last 2",variant:"variant-b",draws:[{time:new Date(s.getTime()+900*60*1e3),result:t>=new Date(s.getTime()+900*60*1e3)?"12":null,status:t>=new Date(s.getTime()+900*60*1e3)?"completed":"upcoming"},{time:new Date(s.getTime()+1140*60*1e3),result:t>=new Date(s.getTime()+1140*60*1e3)?"34":null,status:t>=new Date(s.getTime()+1140*60*1e3)?"completed":"upcoming"}]},{title:"STL Pares",variant:"variant-c",draws:[{time:new Date(s.getTime()+10.5*60*60*1e3),result:t>=new Date(s.getTime()+10.5*60*60*1e3)?"01-15":null,status:t>=new Date(s.getTime()+10.5*60*60*1e3)?"completed":"upcoming"},{time:new Date(s.getTime()+960*60*1e3),result:t>=new Date(s.getTime()+960*60*1e3)?"03-21":null,status:t>=new Date(s.getTime()+960*60*1e3)?"completed":"upcoming"},{time:new Date(s.getTime()+1200*60*1e3),result:t>=new Date(s.getTime()+1200*60*1e3)?"07-19":null,status:t>=new Date(s.getTime()+1200*60*1e3)?"completed":"upcoming"}]}]};function b({user:t=v,stats:s=p,schedule:i=N()}){const[a,n]=d.useState(new Date);return d.useEffect(()=>{const c=setInterval(()=>{n(new Date)},1e3);return()=>clearInterval(c)},[]),d.useEffect(()=>(document.body.classList.add("teller-bg"),()=>document.body.classList.remove("teller-bg")),[]),e.jsxs("div",{className:"container teller-page",children:[e.jsxs("header",{className:"header teller-header",children:[e.jsx("h1",{children:"🎲 Teller Dashboard"}),e.jsxs("div",{className:"header-right",children:[e.jsxs("div",{className:"user-info","aria-label":"User status",children:[e.jsx("div",{className:"user-avatar","aria-hidden":"true",children:t.initials}),e.jsxs("div",{className:"user-details",children:[e.jsx("div",{className:"user-name",children:t.name}),e.jsx("div",{className:"user-role",children:t.role})]}),e.jsx("div",{className:"status-badge",children:t.status})]}),e.jsxs("div",{className:"datetime-pill",children:[w(a)," • ",j(a)]})]})]}),e.jsxs("section",{"aria-labelledby":"stats-title",children:[e.jsx("h2",{id:"stats-title",className:"sr-only",children:"Today's Stats"}),e.jsxs("div",{className:"stats-grid",children:[e.jsx(l,{icon:"📊",value:o(s.sales),label:"Today's Sales"}),e.jsx(l,{icon:"🎫",value:m(s.tickets),label:"Tickets Sold"}),e.jsx(l,{icon:"💰",value:o(s.commission),label:"Commission"}),e.jsx(l,{icon:"🏆",value:m(s.winners),label:"Winners Today"})]})]}),e.jsxs("main",{className:"bento-grid",children:[e.jsx(r,{to:"/teller/create-ticket",icon:"🎟️",title:"Create New Ticket",desc:"Start a new betting ticket for customers. Add multiple bets across different games.",cta:"Create Ticket"}),e.jsx(r,{to:"/teller/check-winners",icon:"🔍",title:"Check Winners",desc:"View winning tickets from your sales after draw results are posted.",cta:"View Winners"}),e.jsx(r,{to:"/teller/sales-report",icon:"📈",title:"Sales Report",desc:"View detailed sales and commission reports for any date range.",cta:"View Reports"}),e.jsx(r,{to:"/teller/void-request",icon:"❌",title:"Void Request",desc:"Request to void a ticket within the allowed time window.",cta:"Request Void"}),e.jsxs("section",{className:"bento-card large","aria-labelledby":"schedule-title",children:[e.jsx("div",{className:"card-icon","aria-hidden":"true",children:"📅"}),e.jsx("div",{className:"card-title",id:"schedule-title",children:"Today's Draw Schedule"}),e.jsx("div",{className:"card-description",children:"Upcoming draws and results"}),e.jsx("div",{className:"schedule-grid",children:i.map((c,h)=>e.jsx(T,{game:c,currentTime:a},h))})]})]})]})}function l({icon:t,value:s,label:i}){return e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon","aria-hidden":"true",children:t}),e.jsx("div",{className:"stat-value",children:s}),e.jsx("div",{className:"stat-label",children:i})]})}function r({to:t,icon:s,title:i,desc:a,cta:n}){return e.jsxs(g,{className:"bento-card",to:t,"aria-label":i,children:[e.jsx("div",{className:"card-icon","aria-hidden":"true",children:s}),e.jsx("div",{className:"card-title",children:i}),e.jsx("div",{className:"card-description",children:a}),e.jsxs("span",{className:"card-action",children:[n," →"]})]})}function T({game:t,currentTime:s}){const i=t.draws.find(a=>a.status==="upcoming"&&a.time>s);return e.jsxs("div",{className:`schedule-card ${t.variant}`,children:[e.jsx("div",{className:"schedule-title",children:t.title}),i&&e.jsxs("div",{className:"schedule-countdown",children:[e.jsx("div",{className:"countdown-label",children:"Next Draw"}),e.jsx("div",{className:"countdown-time",children:u(i.time)}),e.jsx("div",{className:"countdown-timer",children:x(i.time-s)})]}),e.jsx("div",{className:"schedule-draws",children:t.draws.map((a,n)=>e.jsxs("div",{className:`schedule-draw ${a.status}`,children:[e.jsx("div",{className:"draw-time",children:u(a.time)}),a.status==="completed"&&a.result&&e.jsxs("div",{className:"draw-result",children:[e.jsx("span",{className:"result-label",children:"Result:"}),e.jsx("span",{className:"result-numbers",children:a.result})]}),a.status==="upcoming"&&e.jsx("div",{className:"draw-status",children:a===i?"Next":"Upcoming"})]},n))})]})}export{b as default};
