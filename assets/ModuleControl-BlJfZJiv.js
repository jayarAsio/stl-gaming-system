import{a as k,r as t,j as e}from"./index-DiIR2jkv.js";const U=()=>{k();const[n,o]=t.useState([{id:"teller",name:"Teller Module",icon:"🎫",description:"Point of sale ticket creation and validation",enabled:!0,status:"active",stats:{activeUsers:142},features:[{name:"Create Ticket",enabled:!0},{name:"Check Winners",enabled:!0},{name:"Void Request",enabled:!0},{name:"Sales Report",enabled:!0}],permissions:{canSell:!0,canVoid:!0,canValidate:!0,maxTicketValue:5e3,dailyLimit:1e5},lastModified:"2024-10-24 08:30 AM",modifiedBy:"Super Admin"},{id:"collector",name:"Collector Module",icon:"💼",description:"Sales collection and payout management",enabled:!0,status:"active",stats:{activeUsers:28},features:[{name:"Sales Collection",enabled:!0},{name:"Payouts/Tapal",enabled:!0},{name:"Reports",enabled:!0}],permissions:{canCollect:!0,canPayout:!0,maxPayout:5e4,requiresApproval:!0},lastModified:"2024-10-24 07:15 AM",modifiedBy:"Super Admin"},{id:"game-admin",name:"Game Administrator",icon:"🎮",description:"Game configuration and user management",enabled:!0,status:"active",stats:{activeUsers:8},features:[{name:"Configuration",enabled:!0},{name:"User Management",enabled:!0},{name:"Daily Operations",enabled:!0},{name:"Draw Management",enabled:!0},{name:"Enforcement",enabled:!0},{name:"Reports",enabled:!0}],permissions:{canCreateUsers:!0,canConfigGames:!0,canPublishDraws:!0,canViewReports:!0},lastModified:"2024-10-23 05:45 PM",modifiedBy:"Super Admin"},{id:"ops-support",name:"Operation Support",icon:"⚙️",description:"Financial operations and ledger management",enabled:!0,status:"active",stats:{activeUsers:5},features:[{name:"Balances",enabled:!0},{name:"Daily Ledgers",enabled:!0},{name:"Reports",enabled:!0}],permissions:{canViewLedgers:!0,canEditBalances:!0,canGenerateReports:!0,requiresVerification:!0},lastModified:"2024-10-24 06:20 AM",modifiedBy:"Super Admin"}]),[l,j]=t.useState(null),[r,u]=t.useState(null),[f,p]=t.useState(!1),[i,h]=t.useState(null),[x,b]=t.useState(!1),v=s=>{const a=n.find(c=>c.id===s);h({type:"toggle",moduleId:s,currentState:a.enabled}),p(!0)},y=()=>{i.type==="toggle"&&o(n.map(s=>s.id===i.moduleId?{...s,enabled:!i.currentState,status:i.currentState?"disabled":"active",lastModified:new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}),modifiedBy:"Super Admin"}:s)),p(!1),h(null)},g=()=>{p(!1),h(null)},C=s=>{j(s),u({...s.permissions}),b(!1)},m=()=>{j(null),u(null),b(!1)},N=(s,a)=>{u({...r,[s]:a})},S=()=>{l&&r&&(o(n.map(s=>s.id===l.id?{...s,permissions:r,lastModified:new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}),modifiedBy:"Super Admin"}:s)),b(!0),setTimeout(()=>{m()},1500))},A=(s,a)=>{o(n.map(c=>{if(c.id===s){const d=[...c.features];return d[a]={...d[a],enabled:!d[a].enabled},{...c,features:d}}return c}))},w=s=>({teller:"blue",collector:"green","game-admin":"purple","ops-support":"cyan"})[s]||"blue",M=(s,a)=>({teller:{canSell:"Allow ticket sales",canVoid:"Allow void requests",canValidate:"Allow ticket validation",maxTicketValue:"Maximum ticket value (₱)",dailyLimit:"Daily sales limit (₱)"},collector:{canCollect:"Allow sales collection",canPayout:"Allow payout processing",maxPayout:"Maximum payout amount (₱)",requiresApproval:"Require approval for payouts"},"game-admin":{canCreateUsers:"Allow user creation",canConfigGames:"Allow game configuration",canPublishDraws:"Allow draw publishing",canViewReports:"Allow report viewing"},"ops-support":{canViewLedgers:"Allow ledger viewing",canEditBalances:"Allow balance editing",canGenerateReports:"Allow report generation",requiresVerification:"Require verification for changes"}})[a]?.[s]||"";return e.jsxs("div",{className:"mc-container",children:[e.jsxs("div",{className:"mc-header",children:[e.jsxs("div",{className:"mc-header-left",children:[e.jsx("h1",{className:"mc-title",children:"Module Control"}),e.jsx("p",{className:"mc-subtitle",children:"Enable, disable, and configure all system modules"})]}),e.jsx("div",{className:"mc-header-right",children:e.jsxs("div",{className:"mc-status-summary",children:[e.jsxs("div",{className:"mc-summary-item",children:[e.jsx("span",{className:"mc-summary-label",children:"Active Modules"}),e.jsxs("span",{className:"mc-summary-value",children:[n.filter(s=>s.enabled).length,"/",n.length]})]}),e.jsxs("div",{className:"mc-summary-item",children:[e.jsx("span",{className:"mc-summary-label",children:"Total Users"}),e.jsx("span",{className:"mc-summary-value",children:n.reduce((s,a)=>s+a.stats.activeUsers,0)})]})]})})]}),e.jsx("div",{className:"mc-modules-grid",children:n.map(s=>e.jsxs("div",{className:`mc-module-card mc-module-${w(s.id)} ${s.enabled?"":"mc-module-disabled"}`,children:[e.jsxs("div",{className:"mc-card-header",children:[e.jsxs("div",{className:"mc-card-header-left",children:[e.jsx("span",{className:"mc-card-icon",children:s.icon}),e.jsxs("div",{className:"mc-card-title-group",children:[e.jsx("h3",{className:"mc-card-title",children:s.name}),e.jsx("p",{className:"mc-card-description",children:s.description})]})]}),e.jsx("div",{className:"mc-card-header-right",children:e.jsxs("span",{className:`mc-status-badge mc-status-${s.status}`,children:[e.jsx("span",{className:"mc-status-dot"}),s.status]})})]}),e.jsx("div",{className:"mc-stats-grid",children:e.jsxs("div",{className:"mc-stat-item",children:[e.jsx("span",{className:"mc-stat-icon",children:"👥"}),e.jsxs("div",{className:"mc-stat-info",children:[e.jsx("span",{className:"mc-stat-value",children:s.stats.activeUsers}),e.jsx("span",{className:"mc-stat-label",children:"Active Users"})]})]})}),e.jsxs("div",{className:"mc-features-section",children:[e.jsx("h4",{className:"mc-section-title",children:"Features"}),e.jsx("div",{className:"mc-features-list",children:s.features.map((a,c)=>e.jsxs("div",{className:"mc-feature-item",children:[e.jsxs("label",{className:"mc-toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:a.enabled,onChange:()=>A(s.id,c),disabled:!s.enabled}),e.jsx("span",{className:"mc-toggle-slider"})]}),e.jsx("span",{className:`mc-feature-name ${!a.enabled||!s.enabled?"mc-feature-disabled":""}`,children:a.name})]},c))})]}),e.jsxs("div",{className:"mc-card-footer",children:[e.jsxs("div",{className:"mc-footer-info",children:[e.jsx("span",{className:"mc-footer-label",children:"Last Modified:"}),e.jsx("span",{className:"mc-footer-value",children:s.lastModified}),e.jsxs("span",{className:"mc-footer-by",children:["by ",s.modifiedBy]})]}),e.jsxs("div",{className:"mc-footer-actions",children:[e.jsxs("button",{className:"mc-btn mc-btn-secondary",onClick:()=>C(s),children:[e.jsx("span",{className:"mc-btn-icon",children:"⚙️"}),e.jsx("span",{className:"mc-btn-text",children:"Configure"})]}),e.jsxs("button",{className:`mc-btn ${s.enabled?"mc-btn-danger":"mc-btn-success"}`,onClick:()=>v(s.id),children:[e.jsx("span",{className:"mc-btn-icon",children:s.enabled?"⏸":"▶"}),e.jsx("span",{className:"mc-btn-text",children:s.enabled?"Disable":"Enable"})]})]})]})]},s.id))}),e.jsx("div",{className:"mc-emergency-section",children:e.jsxs("div",{className:"mc-emergency-card",children:[e.jsxs("div",{className:"mc-emergency-header",children:[e.jsx("span",{className:"mc-emergency-icon",children:"🚨"}),e.jsx("h3",{className:"mc-emergency-title",children:"Emergency Controls"})]}),e.jsx("p",{className:"mc-emergency-description",children:"Use these controls only in critical situations. All modules will be affected immediately."}),e.jsxs("div",{className:"mc-emergency-actions",children:[e.jsxs("button",{className:"mc-btn mc-btn-warning mc-btn-large",children:[e.jsx("span",{className:"mc-btn-icon",children:"⏸"}),e.jsx("span",{className:"mc-btn-text",children:"Disable All Modules"})]}),e.jsxs("button",{className:"mc-btn mc-btn-success mc-btn-large",children:[e.jsx("span",{className:"mc-btn-icon",children:"▶"}),e.jsx("span",{className:"mc-btn-text",children:"Enable All Modules"})]}),e.jsxs("button",{className:"mc-btn mc-btn-danger mc-btn-large",children:[e.jsx("span",{className:"mc-btn-icon",children:"🔄"}),e.jsx("span",{className:"mc-btn-text",children:"System Restart"})]})]})]})}),f&&e.jsx("div",{className:"mc-dialog-overlay",onClick:g,children:e.jsxs("div",{className:"mc-dialog",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"mc-dialog-header",children:[e.jsx("h3",{className:"mc-dialog-title",children:"Confirm Action"}),e.jsx("button",{className:"mc-dialog-close",onClick:g,children:"×"})]}),e.jsxs("div",{className:"mc-dialog-body",children:[e.jsxs("p",{className:"mc-dialog-message",children:["Are you sure you want to ",i?.currentState?"disable":"enable"," the"," ",e.jsx("strong",{children:n.find(s=>s.id===i?.moduleId)?.name})," module?"]}),e.jsx("p",{className:"mc-dialog-warning",children:i?.currentState?"⚠️ Users will immediately lose access to this module.":"✓ Users will regain access to this module immediately."})]}),e.jsxs("div",{className:"mc-dialog-footer",children:[e.jsx("button",{className:"mc-btn mc-btn-secondary",onClick:g,children:"Cancel"}),e.jsx("button",{className:`mc-btn ${i?.currentState?"mc-btn-danger":"mc-btn-success"}`,onClick:y,children:i?.currentState?"Disable Module":"Enable Module"})]})]})}),l&&r&&e.jsx("div",{className:"mc-panel-overlay",onClick:m,children:e.jsxs("div",{className:"mc-panel",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"mc-panel-header",children:[e.jsxs("h3",{className:"mc-panel-title",children:[e.jsx("span",{className:"mc-panel-icon",children:l.icon}),l.name," - Permissions"]}),e.jsx("button",{className:"mc-panel-close",onClick:m,children:"×"})]}),e.jsxs("div",{className:"mc-panel-body",children:[x&&e.jsxs("div",{className:"mc-save-success",children:[e.jsx("span",{className:"mc-success-icon",children:"✓"}),e.jsx("span",{className:"mc-success-text",children:"Permissions saved successfully!"})]}),e.jsxs("div",{className:"mc-panel-section",children:[e.jsxs("p",{className:"mc-panel-description",children:["Configure access permissions and limits for the ",l.name,"."]}),e.jsx("div",{className:"mc-permission-list",children:Object.entries(r).map(([s,a])=>e.jsxs("div",{className:"mc-permission-item",children:[e.jsxs("div",{className:"mc-permission-info",children:[e.jsx("span",{className:"mc-permission-label",children:s.replace(/([A-Z])/g," $1").trim()}),e.jsx("span",{className:"mc-permission-description",children:M(s,l.id)})]}),e.jsx("div",{className:"mc-permission-control",children:typeof a=="boolean"?e.jsxs("label",{className:"mc-toggle-switch mc-toggle-small",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:c=>N(s,c.target.checked)}),e.jsx("span",{className:"mc-toggle-slider"})]}):e.jsx("input",{type:"number",className:"mc-permission-input",value:a,onChange:c=>N(s,parseInt(c.target.value)||0),min:"0"})})]},s))})]})]}),e.jsxs("div",{className:"mc-panel-footer",children:[e.jsx("button",{className:"mc-btn mc-btn-secondary",onClick:m,children:"Cancel"}),e.jsx("button",{className:"mc-btn mc-btn-primary",onClick:S,disabled:x,children:x?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mc-btn-icon",children:"✓"}),e.jsx("span",{className:"mc-btn-text",children:"Saved!"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mc-btn-icon",children:"💾"}),e.jsx("span",{className:"mc-btn-text",children:"Save Permissions"})]})})]})]})})]})};export{U as default};
