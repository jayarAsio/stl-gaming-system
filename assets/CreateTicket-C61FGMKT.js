import{g as bt,r as B,j as t,L as Et}from"./index-BU7sdiXJ.js";var X={},de,De;function yt(){return De||(De=1,de=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),de}var ue={},Y={},Fe;function $(){if(Fe)return Y;Fe=1;let i;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Y.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},Y.getSymbolTotalCodewords=function(n){return s[n]},Y.getBCHDigit=function(a){let n=0;for(;a!==0;)n++,a>>>=1;return n},Y.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');i=n},Y.isKanjiModeEnabled=function(){return typeof i<"u"},Y.toSJIS=function(n){return i(n)},Y}var he={},qe;function Be(){return qe||(qe=1,(function(i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function s(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+a)}}i.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},i.from=function(n,e){if(i.isValid(n))return n;try{return s(n)}catch{return e}}})(he)),he}var fe,Ue;function jt(){if(Ue)return fe;Ue=1;function i(){this.buffer=[],this.length=0}return i.prototype={get:function(s){const a=Math.floor(s/8);return(this.buffer[a]>>>7-s%8&1)===1},put:function(s,a){for(let n=0;n<a;n++)this.putBit((s>>>a-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(s){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),s&&(this.buffer[a]|=128>>>this.length%8),this.length++}},fe=i,fe}var me,Oe;function xt(){if(Oe)return me;Oe=1;function i(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}return i.prototype.set=function(s,a,n,e){const r=s*this.size+a;this.data[r]=n,e&&(this.reservedBit[r]=!0)},i.prototype.get=function(s,a){return this.data[s*this.size+a]},i.prototype.xor=function(s,a,n){this.data[s*this.size+a]^=n},i.prototype.isReserved=function(s,a){return this.reservedBit[s*this.size+a]},me=i,me}var ge={},_e;function vt(){return _e||(_e=1,(function(i){const s=$().getSymbolSize;i.getRowColCoords=function(n){if(n===1)return[];const e=Math.floor(n/7)+2,r=s(n),o=r===145?26:Math.ceil((r-13)/(2*e-2))*2,l=[r-7];for(let c=1;c<e-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},i.getPositions=function(n){const e=[],r=i.getRowColCoords(n),o=r.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||e.push([r[l],r[c]]);return e}})(ge)),ge}var pe={},Ge;function St(){if(Ge)return pe;Ge=1;const i=$().getSymbolSize,s=7;return pe.getPositions=function(n){const e=i(n);return[[0,0],[e-s,0],[0,e-s]]},pe}var Ne={},He;function It(){return He||(He=1,(function(i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const s={N1:3,N2:3,N3:40,N4:10};i.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},i.from=function(e){return i.isValid(e)?parseInt(e,10):void 0},i.getPenaltyN1=function(e){const r=e.size;let o=0,l=0,c=0,u=null,g=null;for(let x=0;x<r;x++){l=c=0,u=g=null;for(let C=0;C<r;C++){let h=e.get(x,C);h===u?l++:(l>=5&&(o+=s.N1+(l-5)),u=h,l=1),h=e.get(C,x),h===g?c++:(c>=5&&(o+=s.N1+(c-5)),g=h,c=1)}l>=5&&(o+=s.N1+(l-5)),c>=5&&(o+=s.N1+(c-5))}return o},i.getPenaltyN2=function(e){const r=e.size;let o=0;for(let l=0;l<r-1;l++)for(let c=0;c<r-1;c++){const u=e.get(l,c)+e.get(l,c+1)+e.get(l+1,c)+e.get(l+1,c+1);(u===4||u===0)&&o++}return o*s.N2},i.getPenaltyN3=function(e){const r=e.size;let o=0,l=0,c=0;for(let u=0;u<r;u++){l=c=0;for(let g=0;g<r;g++)l=l<<1&2047|e.get(u,g),g>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|e.get(g,u),g>=10&&(c===1488||c===93)&&o++}return o*s.N3},i.getPenaltyN4=function(e){let r=0;const o=e.data.length;for(let c=0;c<o;c++)r+=e.data[c];return Math.abs(Math.ceil(r*100/o/5)-10)*s.N4};function a(n,e,r){switch(n){case i.Patterns.PATTERN000:return(e+r)%2===0;case i.Patterns.PATTERN001:return e%2===0;case i.Patterns.PATTERN010:return r%3===0;case i.Patterns.PATTERN011:return(e+r)%3===0;case i.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2===0;case i.Patterns.PATTERN101:return e*r%2+e*r%3===0;case i.Patterns.PATTERN110:return(e*r%2+e*r%3)%2===0;case i.Patterns.PATTERN111:return(e*r%3+(e+r)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}i.applyMask=function(e,r){const o=r.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)r.isReserved(c,l)||r.xor(c,l,a(e,c,l))},i.getBestMask=function(e,r){const o=Object.keys(i.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){r(u),i.applyMask(u,e);const g=i.getPenaltyN1(e)+i.getPenaltyN2(e)+i.getPenaltyN3(e)+i.getPenaltyN4(e);i.applyMask(u,e),g<c&&(c=g,l=u)}return l}})(Ne)),Ne}var oe={},Ve;function ut(){if(Ve)return oe;Ve=1;const i=Be(),s=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return oe.getBlocksCount=function(e,r){switch(r){case i.L:return s[(e-1)*4+0];case i.M:return s[(e-1)*4+1];case i.Q:return s[(e-1)*4+2];case i.H:return s[(e-1)*4+3];default:return}},oe.getTotalCodewordsCount=function(e,r){switch(r){case i.L:return a[(e-1)*4+0];case i.M:return a[(e-1)*4+1];case i.Q:return a[(e-1)*4+2];case i.H:return a[(e-1)*4+3];default:return}},oe}var we={},re={},Ke;function At(){if(Ke)return re;Ke=1;const i=new Uint8Array(512),s=new Uint8Array(256);return(function(){let n=1;for(let e=0;e<255;e++)i[e]=n,s[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)i[e]=i[e-255]})(),re.log=function(n){if(n<1)throw new Error("log("+n+")");return s[n]},re.exp=function(n){return i[n]},re.mul=function(n,e){return n===0||e===0?0:i[s[n]+s[e]]},re}var Ye;function Rt(){return Ye||(Ye=1,(function(i){const s=At();i.mul=function(n,e){const r=new Uint8Array(n.length+e.length-1);for(let o=0;o<n.length;o++)for(let l=0;l<e.length;l++)r[o+l]^=s.mul(n[o],e[l]);return r},i.mod=function(n,e){let r=new Uint8Array(n);for(;r.length-e.length>=0;){const o=r[0];for(let c=0;c<e.length;c++)r[c]^=s.mul(e[c],o);let l=0;for(;l<r.length&&r[l]===0;)l++;r=r.slice(l)}return r},i.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let r=0;r<n;r++)e=i.mul(e,new Uint8Array([1,s.exp(r)]));return e}})(we)),we}var Ce,ze;function Mt(){if(ze)return Ce;ze=1;const i=Rt();function s(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}return s.prototype.initialize=function(n){this.degree=n,this.genPoly=i.generateECPolynomial(this.degree)},s.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(n.length+this.degree);e.set(n);const r=i.mod(e,this.genPoly),o=this.degree-r.length;if(o>0){const l=new Uint8Array(this.degree);return l.set(r,o),l}return r},Ce=s,Ce}var Te={},be={},Ee={},Je;function ht(){return Je||(Je=1,Ee.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}),Ee}var G={},$e;function ft(){if($e)return G;$e=1;const i="[0-9]+",s="[A-Z $%*+\\-./:]+";let a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";a=a.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+a+`)(?:.|[\r
]))+`;G.KANJI=new RegExp(a,"g"),G.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),G.BYTE=new RegExp(n,"g"),G.NUMERIC=new RegExp(i,"g"),G.ALPHANUMERIC=new RegExp(s,"g");const e=new RegExp("^"+a+"$"),r=new RegExp("^"+i+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return G.testKanji=function(c){return e.test(c)},G.testNumeric=function(c){return r.test(c)},G.testAlphanumeric=function(c){return o.test(c)},G}var Qe;function Q(){return Qe||(Qe=1,(function(i){const s=ht(),a=ft();i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(r,o){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!s.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?r.ccBits[0]:o<27?r.ccBits[1]:r.ccBits[2]},i.getBestModeForData=function(r){return a.testNumeric(r)?i.NUMERIC:a.testAlphanumeric(r)?i.ALPHANUMERIC:a.testKanji(r)?i.KANJI:i.BYTE},i.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},i.isValid=function(r){return r&&r.bit&&r.ccBits};function n(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+e)}}i.from=function(r,o){if(i.isValid(r))return r;try{return n(r)}catch{return o}}})(be)),be}var We;function Pt(){return We||(We=1,(function(i){const s=$(),a=ut(),n=Be(),e=Q(),r=ht(),o=7973,l=s.getBCHDigit(o);function c(C,h,R){for(let M=1;M<=40;M++)if(h<=i.getCapacity(M,R,C))return M}function u(C,h){return e.getCharCountIndicator(C,h)+4}function g(C,h){let R=0;return C.forEach(function(M){const L=u(M.mode,h);R+=L+M.getBitsLength()}),R}function x(C,h){for(let R=1;R<=40;R++)if(g(C,R)<=i.getCapacity(R,h,e.MIXED))return R}i.from=function(h,R){return r.isValid(h)?parseInt(h,10):R},i.getCapacity=function(h,R,M){if(!r.isValid(h))throw new Error("Invalid QR Code version");typeof M>"u"&&(M=e.BYTE);const L=s.getSymbolTotalCodewords(h),I=a.getTotalCodewordsCount(h,R),P=(L-I)*8;if(M===e.MIXED)return P;const v=P-u(M,h);switch(M){case e.NUMERIC:return Math.floor(v/10*3);case e.ALPHANUMERIC:return Math.floor(v/11*2);case e.KANJI:return Math.floor(v/13);case e.BYTE:default:return Math.floor(v/8)}},i.getBestVersionForData=function(h,R){let M;const L=n.from(R,n.M);if(Array.isArray(h)){if(h.length>1)return x(h,L);if(h.length===0)return 1;M=h[0]}else M=h;return c(M.mode,M.getLength(),L)},i.getEncodedBits=function(h){if(!r.isValid(h)||h<7)throw new Error("Invalid QR Code version");let R=h<<12;for(;s.getBCHDigit(R)-l>=0;)R^=o<<s.getBCHDigit(R)-l;return h<<12|R}})(Te)),Te}var ye={},Ze;function Bt(){if(Ze)return ye;Ze=1;const i=$(),s=1335,a=21522,n=i.getBCHDigit(s);return ye.getEncodedBits=function(r,o){const l=r.bit<<3|o;let c=l<<10;for(;i.getBCHDigit(c)-n>=0;)c^=s<<i.getBCHDigit(c)-n;return(l<<10|c)^a},ye}var je={},xe,Xe;function Lt(){if(Xe)return xe;Xe=1;const i=Q();function s(a){this.mode=i.NUMERIC,this.data=a.toString()}return s.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(n){let e,r,o;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),o=parseInt(r,10),n.put(o,10);const l=this.data.length-e;l>0&&(r=this.data.substr(e),o=parseInt(r,10),n.put(o,l*3+1))},xe=s,xe}var ve,et;function kt(){if(et)return ve;et=1;const i=Q(),s=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(n){this.mode=i.ALPHANUMERIC,this.data=n}return a.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let o=s.indexOf(this.data[r])*45;o+=s.indexOf(this.data[r+1]),e.put(o,11)}this.data.length%2&&e.put(s.indexOf(this.data[r]),6)},ve=a,ve}var Se,tt;function Dt(){if(tt)return Se;tt=1;const i=Q();function s(a){this.mode=i.BYTE,typeof a=="string"?this.data=new TextEncoder().encode(a):this.data=new Uint8Array(a)}return s.getBitsLength=function(n){return n*8},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(a){for(let n=0,e=this.data.length;n<e;n++)a.put(this.data[n],8)},Se=s,Se}var Ie,nt;function Ft(){if(nt)return Ie;nt=1;const i=Q(),s=$();function a(n){this.mode=i.KANJI,this.data=n}return a.getBitsLength=function(e){return e*13},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let r=s.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),n.put(r,13)}},Ie=a,Ie}var Ae={exports:{}},rt;function qt(){return rt||(rt=1,(function(i){var s={single_source_shortest_paths:function(a,n,e){var r={},o={};o[n]=0;var l=s.PriorityQueue.make();l.push(n,0);for(var c,u,g,x,C,h,R,M,L;!l.empty();){c=l.pop(),u=c.value,x=c.cost,C=a[u]||{};for(g in C)C.hasOwnProperty(g)&&(h=C[g],R=x+h,M=o[g],L=typeof o[g]>"u",(L||M>R)&&(o[g]=R,l.push(g,R),r[g]=u))}if(typeof e<"u"&&typeof o[e]>"u"){var I=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(I)}return r},extract_shortest_path_from_predecessor_list:function(a,n){for(var e=[],r=n;r;)e.push(r),a[r],r=a[r];return e.reverse(),e},find_path:function(a,n,e){var r=s.single_source_shortest_paths(a,n,e);return s.extract_shortest_path_from_predecessor_list(r,e)},PriorityQueue:{make:function(a){var n=s.PriorityQueue,e={},r;a=a||{};for(r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e.queue=[],e.sorter=a.sorter||n.default_sorter,e},default_sorter:function(a,n){return a.cost-n.cost},push:function(a,n){var e={value:a,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};i.exports=s})(Ae)),Ae.exports}var it;function Ut(){return it||(it=1,(function(i){const s=Q(),a=Lt(),n=kt(),e=Dt(),r=Ft(),o=ft(),l=$(),c=qt();function u(I){return unescape(encodeURIComponent(I)).length}function g(I,P,v){const j=[];let k;for(;(k=I.exec(v))!==null;)j.push({data:k[0],index:k.index,mode:P,length:k[0].length});return j}function x(I){const P=g(o.NUMERIC,s.NUMERIC,I),v=g(o.ALPHANUMERIC,s.ALPHANUMERIC,I);let j,k;return l.isKanjiModeEnabled()?(j=g(o.BYTE,s.BYTE,I),k=g(o.KANJI,s.KANJI,I)):(j=g(o.BYTE_KANJI,s.BYTE,I),k=[]),P.concat(v,j,k).sort(function(T,y){return T.index-y.index}).map(function(T){return{data:T.data,mode:T.mode,length:T.length}})}function C(I,P){switch(P){case s.NUMERIC:return a.getBitsLength(I);case s.ALPHANUMERIC:return n.getBitsLength(I);case s.KANJI:return r.getBitsLength(I);case s.BYTE:return e.getBitsLength(I)}}function h(I){return I.reduce(function(P,v){const j=P.length-1>=0?P[P.length-1]:null;return j&&j.mode===v.mode?(P[P.length-1].data+=v.data,P):(P.push(v),P)},[])}function R(I){const P=[];for(let v=0;v<I.length;v++){const j=I[v];switch(j.mode){case s.NUMERIC:P.push([j,{data:j.data,mode:s.ALPHANUMERIC,length:j.length},{data:j.data,mode:s.BYTE,length:j.length}]);break;case s.ALPHANUMERIC:P.push([j,{data:j.data,mode:s.BYTE,length:j.length}]);break;case s.KANJI:P.push([j,{data:j.data,mode:s.BYTE,length:u(j.data)}]);break;case s.BYTE:P.push([{data:j.data,mode:s.BYTE,length:u(j.data)}])}}return P}function M(I,P){const v={},j={start:{}};let k=["start"];for(let f=0;f<I.length;f++){const T=I[f],y=[];for(let m=0;m<T.length;m++){const p=T[m],b=""+f+m;y.push(b),v[b]={node:p,lastCount:0},j[b]={};for(let w=0;w<k.length;w++){const N=k[w];v[N]&&v[N].node.mode===p.mode?(j[N][b]=C(v[N].lastCount+p.length,p.mode)-C(v[N].lastCount,p.mode),v[N].lastCount+=p.length):(v[N]&&(v[N].lastCount=p.length),j[N][b]=C(p.length,p.mode)+4+s.getCharCountIndicator(p.mode,P))}}k=y}for(let f=0;f<k.length;f++)j[k[f]].end=0;return{map:j,table:v}}function L(I,P){let v;const j=s.getBestModeForData(I);if(v=s.from(P,j),v!==s.BYTE&&v.bit<j.bit)throw new Error('"'+I+'" cannot be encoded with mode '+s.toString(v)+`.
 Suggested mode is: `+s.toString(j));switch(v===s.KANJI&&!l.isKanjiModeEnabled()&&(v=s.BYTE),v){case s.NUMERIC:return new a(I);case s.ALPHANUMERIC:return new n(I);case s.KANJI:return new r(I);case s.BYTE:return new e(I)}}i.fromArray=function(P){return P.reduce(function(v,j){return typeof j=="string"?v.push(L(j,null)):j.data&&v.push(L(j.data,j.mode)),v},[])},i.fromString=function(P,v){const j=x(P,l.isKanjiModeEnabled()),k=R(j),f=M(k,v),T=c.find_path(f.map,"start","end"),y=[];for(let m=1;m<T.length-1;m++)y.push(f.table[T[m]].node);return i.fromArray(h(y))},i.rawSplit=function(P){return i.fromArray(x(P,l.isKanjiModeEnabled()))}})(je)),je}var st;function Ot(){if(st)return ue;st=1;const i=$(),s=Be(),a=jt(),n=xt(),e=vt(),r=St(),o=It(),l=ut(),c=Mt(),u=Pt(),g=Bt(),x=Q(),C=Ut();function h(f,T){const y=f.size,m=r.getPositions(T);for(let p=0;p<m.length;p++){const b=m[p][0],w=m[p][1];for(let N=-1;N<=7;N++)if(!(b+N<=-1||y<=b+N))for(let S=-1;S<=7;S++)w+S<=-1||y<=w+S||(N>=0&&N<=6&&(S===0||S===6)||S>=0&&S<=6&&(N===0||N===6)||N>=2&&N<=4&&S>=2&&S<=4?f.set(b+N,w+S,!0,!0):f.set(b+N,w+S,!1,!0))}}function R(f){const T=f.size;for(let y=8;y<T-8;y++){const m=y%2===0;f.set(y,6,m,!0),f.set(6,y,m,!0)}}function M(f,T){const y=e.getPositions(T);for(let m=0;m<y.length;m++){const p=y[m][0],b=y[m][1];for(let w=-2;w<=2;w++)for(let N=-2;N<=2;N++)w===-2||w===2||N===-2||N===2||w===0&&N===0?f.set(p+w,b+N,!0,!0):f.set(p+w,b+N,!1,!0)}}function L(f,T){const y=f.size,m=u.getEncodedBits(T);let p,b,w;for(let N=0;N<18;N++)p=Math.floor(N/3),b=N%3+y-8-3,w=(m>>N&1)===1,f.set(p,b,w,!0),f.set(b,p,w,!0)}function I(f,T,y){const m=f.size,p=g.getEncodedBits(T,y);let b,w;for(b=0;b<15;b++)w=(p>>b&1)===1,b<6?f.set(b,8,w,!0):b<8?f.set(b+1,8,w,!0):f.set(m-15+b,8,w,!0),b<8?f.set(8,m-b-1,w,!0):b<9?f.set(8,15-b-1+1,w,!0):f.set(8,15-b-1,w,!0);f.set(m-8,8,1,!0)}function P(f,T){const y=f.size;let m=-1,p=y-1,b=7,w=0;for(let N=y-1;N>0;N-=2)for(N===6&&N--;;){for(let S=0;S<2;S++)if(!f.isReserved(p,N-S)){let U=!1;w<T.length&&(U=(T[w]>>>b&1)===1),f.set(p,N-S,U),b--,b===-1&&(w++,b=7)}if(p+=m,p<0||y<=p){p-=m,m=-m;break}}}function v(f,T,y){const m=new a;y.forEach(function(S){m.put(S.mode.bit,4),m.put(S.getLength(),x.getCharCountIndicator(S.mode,f)),S.write(m)});const p=i.getSymbolTotalCodewords(f),b=l.getTotalCodewordsCount(f,T),w=(p-b)*8;for(m.getLengthInBits()+4<=w&&m.put(0,4);m.getLengthInBits()%8!==0;)m.putBit(0);const N=(w-m.getLengthInBits())/8;for(let S=0;S<N;S++)m.put(S%2?17:236,8);return j(m,f,T)}function j(f,T,y){const m=i.getSymbolTotalCodewords(T),p=l.getTotalCodewordsCount(T,y),b=m-p,w=l.getBlocksCount(T,y),N=m%w,S=w-N,U=Math.floor(m/w),H=Math.floor(b/w),ie=H+1,D=U-H,ce=new c(D);let W=0;const Z=new Array(w),se=new Array(w);let z=0;const le=new Uint8Array(f.buffer);for(let V=0;V<w;V++){const ne=V<S?H:ie;Z[V]=le.slice(W,W+ne),se[V]=ce.encode(Z[V]),W+=ne,z=Math.max(z,ne)}const J=new Uint8Array(m);let te=0,O,_;for(O=0;O<z;O++)for(_=0;_<w;_++)O<Z[_].length&&(J[te++]=Z[_][O]);for(O=0;O<D;O++)for(_=0;_<w;_++)J[te++]=se[_][O];return J}function k(f,T,y,m){let p;if(Array.isArray(f))p=C.fromArray(f);else if(typeof f=="string"){let U=T;if(!U){const H=C.rawSplit(f);U=u.getBestVersionForData(H,y)}p=C.fromString(f,U||40)}else throw new Error("Invalid data");const b=u.getBestVersionForData(p,y);if(!b)throw new Error("The amount of data is too big to be stored in a QR Code");if(!T)T=b;else if(T<b)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+b+`.
`);const w=v(T,y,p),N=i.getSymbolSize(T),S=new n(N);return h(S,T),R(S),M(S,T),I(S,y,0),T>=7&&L(S,T),P(S,w),isNaN(m)&&(m=o.getBestMask(S,I.bind(null,S,y))),o.applyMask(m,S),I(S,y,m),{modules:S,version:T,errorCorrectionLevel:y,maskPattern:m,segments:p}}return ue.create=function(T,y){if(typeof T>"u"||T==="")throw new Error("No input text");let m=s.M,p,b;return typeof y<"u"&&(m=s.from(y.errorCorrectionLevel,s.M),p=u.from(y.version),b=o.from(y.maskPattern),y.toSJISFunc&&i.setToSJISFunction(y.toSJISFunc)),k(T,p,m,b)},ue}var Re={},Me={},at;function mt(){return at||(at=1,(function(i){function s(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let n=a.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+a);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(r){return[r,r]}))),n.length===6&&n.push("F","F");const e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}i.getOptions=function(n){n||(n={}),n.color||(n.color={});const e=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,r=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:r,scale:r?4:o,margin:e,color:{dark:s(n.color.dark||"#000000ff"),light:s(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},i.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale},i.getImageWidth=function(n,e){const r=i.getScale(n,e);return Math.floor((n+e.margin*2)*r)},i.qrToImageData=function(n,e,r){const o=e.modules.size,l=e.modules.data,c=i.getScale(o,r),u=Math.floor((o+r.margin*2)*c),g=r.margin*c,x=[r.color.light,r.color.dark];for(let C=0;C<u;C++)for(let h=0;h<u;h++){let R=(C*u+h)*4,M=r.color.light;if(C>=g&&h>=g&&C<u-g&&h<u-g){const L=Math.floor((C-g)/c),I=Math.floor((h-g)/c);M=x[l[L*o+I]?1:0]}n[R++]=M.r,n[R++]=M.g,n[R++]=M.b,n[R]=M.a}}})(Me)),Me}var ot;function _t(){return ot||(ot=1,(function(i){const s=mt();function a(e,r,o){e.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=o,r.width=o,r.style.height=o+"px",r.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}i.render=function(r,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=n()),c=s.getOptions(c);const g=s.getImageWidth(r.modules.size,c),x=u.getContext("2d"),C=x.createImageData(g,g);return s.qrToImageData(C.data,r,c),a(x,u,g),x.putImageData(C,0,0),u},i.renderToDataURL=function(r,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=i.render(r,o,c),g=c.type||"image/png",x=c.rendererOpts||{};return u.toDataURL(g,x.quality)}})(Re)),Re}var Pe={},ct;function Gt(){if(ct)return Pe;ct=1;const i=mt();function s(e,r){const o=e.a/255,l=r+'="'+e.hex+'"';return o<1?l+" "+r+'-opacity="'+o.toFixed(2).slice(1)+'"':l}function a(e,r,o){let l=e+r;return typeof o<"u"&&(l+=" "+o),l}function n(e,r,o){let l="",c=0,u=!1,g=0;for(let x=0;x<e.length;x++){const C=Math.floor(x%r),h=Math.floor(x/r);!C&&!u&&(u=!0),e[x]?(g++,x>0&&C>0&&e[x-1]||(l+=u?a("M",C+o,.5+h+o):a("m",c,0),c=0,u=!1),C+1<r&&e[x+1]||(l+=a("h",g),g=0)):c++}return l}return Pe.render=function(r,o,l){const c=i.getOptions(o),u=r.modules.size,g=r.modules.data,x=u+c.margin*2,C=c.color.light.a?"<path "+s(c.color.light,"fill")+' d="M0 0h'+x+"v"+x+'H0z"/>':"",h="<path "+s(c.color.dark,"stroke")+' d="'+n(g,u,c.margin)+'"/>',R='viewBox="0 0 '+x+" "+x+'"',L='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+R+' shape-rendering="crispEdges">'+C+h+`</svg>
`;return typeof l=="function"&&l(null,L),L},Pe}var lt;function Ht(){if(lt)return X;lt=1;const i=yt(),s=Ot(),a=_t(),n=Gt();function e(r,o,l,c,u){const g=[].slice.call(arguments,1),x=g.length,C=typeof g[x-1]=="function";if(!C&&!i())throw new Error("Callback required as last argument");if(C){if(x<2)throw new Error("Too few arguments provided");x===2?(u=l,l=o,o=c=void 0):x===3&&(o.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=l,l=o,o=void 0))}else{if(x<1)throw new Error("Too few arguments provided");return x===1?(l=o,o=c=void 0):x===2&&!o.getContext&&(c=l,l=o,o=void 0),new Promise(function(h,R){try{const M=s.create(l,c);h(r(M,o,c))}catch(M){R(M)}})}try{const h=s.create(l,c);u(null,r(h,o,c))}catch(h){u(h)}}return X.create=s.create,X.toCanvas=e.bind(null,a.render),X.toDataURL=e.bind(null,a.renderToDataURL),X.toString=e.bind(null,function(r,o,l){return n.render(r,l)}),X}var Vt=Ht();const dt=bt(Vt),Kt=[{time:"11:00 AM",label:"11:00 AM",enabled:!0},{time:"4:00 PM",label:"4:00 PM",enabled:!0},{time:"9:00 PM",label:"9:00 PM",enabled:!0}],ee={"STL Pares":{icon:"ðŸŽ¯",description:"Pick 2 numbers from 01â€“40 (must be different)",inputType:"pares",pattern:/^\d{1,2}\.\d{1,2}$/,placeholder:"e.g., 10.23",maxLength:5,helpText:"Two numbers 01â€“40, use dot between (auto dot after first two digits)."},"Last 2":{icon:"ðŸŽ²",description:"2-digit number (00â€“99)",inputType:"last2",pattern:/^\d{2}$/,placeholder:"e.g., 45",maxLength:2,helpText:"Exactly 2 digits (00â€“99)."},"Last 3":{icon:"ðŸŽ°",description:"3-digit number (000â€“999)",inputType:"last3",pattern:/^\d{3}$/,placeholder:"e.g., 123",maxLength:3,helpText:"Exactly 3 digits (000â€“999)."},Swer3:{icon:"ðŸŽª",description:"3-digit winning combination",inputType:"swer3",pattern:/^\d{3}$/,placeholder:"e.g., 456",maxLength:3,helpText:"Exactly 3 digits (000â€“999)."}},zt=()=>{const[i,s]=B.useState(""),[a,n]=B.useState(""),[e,r]=B.useState(""),[o,l]=B.useState(""),[c,u]=B.useState([]),[g,x]=B.useState(!1),[C,h]=B.useState(!1),[R,M]=B.useState(!1),[L,I]=B.useState([]),[P,v]=B.useState(!1),[j,k]=B.useState({show:!1,message:"",type:"success"}),[f,T]=B.useState(""),[y,m]=B.useState(""),[p,b]=B.useState(null),w=B.useRef(null),N=B.useRef(null),S=B.useRef(null),U=B.useCallback(async d=>{try{const A=JSON.stringify({id:d.id,timestamp:d.timestamp,total:d.total,bets:d.bets,drawTime:a,verified:!0});return await dt.toDataURL(A,{width:90,margin:1,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"})}catch(A){return console.error("QR Code generation failed:",A),null}},[a]),H=B.useCallback(async d=>{try{const A=JSON.stringify({id:d.id,timestamp:d.timestamp,total:d.total,bets:d.bets,verified:!0});return await dt.toDataURL(A,{width:90,margin:1,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"})}catch(A){return console.error("QR Code generation failed:",A),null}},[]);B.useEffect(()=>{try{const d=localStorage.getItem("recentTickets");if(d){const A=JSON.parse(d).slice(0,5).map(E=>({...E,timestamp:E.timestamp?new Date(E.timestamp):new Date}));I(A)}}catch(d){console.warn("Failed to load recent tickets:",d)}return()=>{w.current&&clearTimeout(w.current),N.current&&clearTimeout(N.current),S.current&&clearTimeout(S.current),document.body.style.overflow="",document.body.style.touchAction=""}},[]);const ie=g||C||R;B.useEffect(()=>{ie?(document.body.style.overflow="hidden",document.body.style.touchAction="none"):(document.body.style.overflow="",document.body.style.touchAction="")},[ie]);const D=B.useCallback((d,A="success")=>{w.current&&clearTimeout(w.current),k({show:!0,message:d,type:A}),w.current=setTimeout(()=>{k(E=>({...E,show:!1}))},3200)},[]),ce=B.useMemo(()=>{const d=new Date,A=new Date(d.getTime()+30*6e4);return Kt.map(E=>{const[F,K]=E.time.split(" "),[q,Ct]=F.split(":").map(Number),Tt=K==="PM"&&q!==12?q+12:K==="AM"&&q===12?0:q,Le=new Date;Le.setHours(Tt,Ct,0,0);const ke=Le.getTime()>A.getTime();return{...E,isEnabled:ke,label:E.label+(ke?"":" (Closed)")}})},[]),W=B.useCallback((d,A)=>{if(!d||!A)return!1;const E=ee[A];if(!E)return!1;switch(E.inputType){case"pares":{const F=d.match(/^(\d{1,2})\.(\d{1,2})$/);if(!F)return!1;const K=parseInt(F[1],10),q=parseInt(F[2],10);return K!==q&&K>=1&&K<=40&&q>=1&&q<=40}case"last2":return/^\d{2}$/.test(d);case"last3":case"swer3":return/^\d{3}$/.test(d);default:return!1}},[]),Z=B.useCallback(d=>{if(!i)return;const A=ee[i];let E=d;switch(A.inputType){case"pares":{E=E.replace(/[^\d.]/g,"");const F=E.indexOf(".");F!==-1&&(E=E.slice(0,F+1)+E.slice(F+1).replace(/\./g,"")),!E.includes(".")&&E.length>2&&(E=E.slice(0,2)+"."+E.slice(2)),E=E.slice(0,5);break}case"last2":E=E.replace(/\D/g,"").slice(0,2);break;case"last3":case"swer3":E=E.replace(/\D/g,"").slice(0,3);break}r(E)},[i]),se=B.useCallback(d=>{const A=d.replace(/\D/g,"").slice(0,3),E=Math.max(0,Math.min(parseInt(A||"0",10),500));l(E?String(E):"")},[]),z=B.useMemo(()=>{const d=parseInt(o||"0",10);return a&&W(e,i)&&d>=1&&d<=500},[a,e,i,o,W]),le=B.useCallback(d=>{s(d),n(""),r(""),l(""),x(!0)},[]),J=B.useCallback(()=>{x(!1),s(""),n(""),r(""),l("")},[]),te=B.useCallback(async d=>{b(d),v(!0);const A=await H(d);T(A||""),v(!1),M(!0),D("Loading ticket details...","info")},[H,D]),O=B.useCallback(()=>{M(!1),b(null),T("")},[]),_=B.useCallback(()=>{if(!z){D("Please complete all fields correctly","error");return}const d=parseInt(o,10);if(i==="STL Pares"){const E=e.match(/^(\d{1,2})\.(\d{1,2})$/);if(E&&parseInt(E[1],10)===parseInt(E[2],10)){D("STL Pares numbers must be different","error");return}}let A=e;if(i==="STL Pares"){const E=e.match(/^(\d{1,2})\.(\d{1,2})$/);E&&(A=E[1].padStart(2,"0")+"."+E[2].padStart(2,"0"))}u(E=>{const F=E.findIndex(q=>q.game===i&&q.combo===A&&q.drawTime===a);if(F>=0){const q=[...E];return q[F]={...q[F],amount:Math.min(500,q[F].amount+d)},D("Added to existing combo (capped at â‚±500)."),q}const K={id:`${Date.now()}_${Math.random().toString(36).slice(2,7)}`,game:i,combo:A,amount:d,drawTime:a};return D("Combination added!"),[...E,K]}),r(""),l("")},[z,i,e,o,a,D]),V=B.useCallback(d=>{u(A=>A.filter(E=>E.id!==d)),D("Combination removed")},[D]),ne=B.useCallback(()=>{c.length!==0&&window.confirm("Clear all combinations?")&&(u([]),D("All combinations cleared"))},[c.length,D]),ae=B.useMemo(()=>c.reduce((d,A)=>d+A.amount,0),[c]),gt=B.useCallback(async()=>{if(c.length===0){D("Please add at least one combination","error");return}v(!0),N.current&&clearTimeout(N.current),N.current=setTimeout(async()=>{const d=`TKT${Date.now().toString().slice(-8)}`,A={id:d,timestamp:new Date().toISOString(),bets:[...c],total:ae},E=await U(A);m(d),T(E||"");const F=[A,...L].slice(0,5);I(F),localStorage.setItem("recentTickets",JSON.stringify(F)),v(!1),h(!0)},700)},[c,ae,L,U]),pt=B.useCallback(()=>{try{window.print()}catch(d){console.warn("Print failed:",d)}S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{h(!1),J(),u([]),n(""),T(""),m(""),D("Ticket sent to printer!","success")},200)},[J,D]),Nt=({game:d,config:A})=>t.jsxs("button",{type:"button",className:"game-card",onClick:()=>le(d),"aria-label":`Play ${d}`,children:[t.jsx("div",{className:"game-icon","aria-hidden":"true",children:A.icon}),t.jsx("div",{className:"game-title",children:d}),t.jsx("div",{className:"game-description",children:A.description})]}),wt=({bet:d})=>t.jsxs("div",{className:"bet-item",children:[t.jsxs("div",{className:"bet-details",children:[t.jsxs("div",{className:"bet-combo",children:[d.game,": ",d.combo]}),t.jsxs("div",{className:"bet-amount",children:["â‚±",d.amount.toLocaleString()]}),t.jsxs("div",{className:"bet-draw-time",children:["Draw: ",d.drawTime]})]}),t.jsx("div",{className:"bet-actions",children:t.jsx("button",{className:"remove-btn",onClick:()=>V(d.id),"aria-label":`Remove ${d.game} ${d.combo}`,children:"Remove"})})]});return t.jsxs("div",{className:"container",children:[t.jsxs("header",{className:"header",children:[t.jsxs("div",{className:"header-content",children:[t.jsx("h1",{children:"Create New Ticket"}),t.jsx("p",{className:"header-subtitle",children:"Select a game, add combos, and print"})]}),t.jsxs(Et,{to:"/teller",className:"back-btn","aria-label":"Back to Dashboard",children:[t.jsx("span",{"aria-hidden":"true",children:"â†"})," Back To Dashboard"]})]}),t.jsxs("section",{className:"card game-section",children:[t.jsxs("h2",{className:"section-title",children:[t.jsx("span",{className:"section-icon",children:"ðŸŽ®"}),"Choose Your Game"]}),t.jsx("div",{className:"games-grid",children:Object.entries(ee).map(([d,A])=>t.jsx(Nt,{game:d,config:A},d))})]}),L.length>0&&t.jsxs("section",{className:"card history-section","aria-label":"Recent tickets",children:[t.jsxs("h2",{className:"section-title",children:[t.jsx("span",{className:"section-icon",children:"ðŸ“š"}),"Recent Tickets"]}),t.jsx("div",{className:"history-grid",children:L.slice(0,3).map(d=>t.jsxs("div",{className:"history-card",onClick:()=>te(d),role:"button",tabIndex:0,"aria-label":`View ticket ${d.id}`,onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),te(d))},children:[t.jsx("div",{className:"history-id",children:d.id}),t.jsxs("div",{className:"history-details",children:[d.bets?.length||0," combinations â€¢ â‚±",(d.total||0).toLocaleString()]}),t.jsx("div",{className:"history-date",children:new Date(d.timestamp).toLocaleDateString("en-PH")})]},d.id))})]}),g&&t.jsx("div",{className:"modal show",role:"dialog","aria-modal":"true","aria-label":`${i} modal`,children:t.jsxs("div",{className:"modal-content",children:[t.jsxs("div",{className:"modal-header",children:[t.jsx("h2",{className:"modal-title",children:i}),t.jsx("button",{className:"close-btn",onClick:J,"aria-label":"Close modal",children:"Ã—"})]}),t.jsx("div",{className:"modal-body",children:t.jsxs("div",{className:"form-section",children:[t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",htmlFor:"drawTimeSelect",children:"Select Draw Time"}),t.jsxs("select",{id:"drawTimeSelect",className:"form-input",value:a,onChange:d=>n(d.target.value),children:[t.jsx("option",{value:"",children:"Select draw time"}),ce.map(d=>t.jsx("option",{value:d.time,disabled:!d.isEnabled,children:d.label},d.time))]}),t.jsx("div",{className:"helper",children:"30-minute cut-off before each draw."})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",htmlFor:"comboInput",children:"Enter Combination"}),t.jsx("input",{id:"comboInput",inputMode:"numeric",autoComplete:"off",autoCorrect:"off",spellCheck:!1,type:"text",className:"form-input",placeholder:ee[i]?.placeholder,value:e,onChange:d=>Z(d.target.value),maxLength:ee[i]?.maxLength}),t.jsx("div",{className:"helper",children:ee[i]?.helpText})]}),t.jsxs("div",{className:"form-group",children:[t.jsx("label",{className:"form-label",htmlFor:"amountInput",children:"Bet Amount (â‚±1 - â‚±500)"}),t.jsx("input",{id:"amountInput",inputMode:"numeric",autoComplete:"off",autoCorrect:"off",spellCheck:!1,type:"text",className:"form-input",placeholder:"Enter amount",value:o,onChange:d=>se(d.target.value)}),t.jsx("div",{className:"helper",children:"Digits only. Max â‚±500."})]}),t.jsx("button",{className:"add-btn",onClick:_,disabled:!z,children:"Add Combination"}),t.jsxs("div",{className:"bets-section",children:[t.jsx("h3",{className:"bets-title",children:"Your Combinations"}),t.jsx("div",{className:"bets-list","aria-live":"polite",children:c.length===0?t.jsx("div",{className:"empty-state",children:"No combinations added yet"}):c.map(d=>t.jsx(wt,{bet:d},d.id))}),t.jsxs("div",{className:"total-section",children:[t.jsxs("div",{className:"total-amount",children:["â‚±",ae.toLocaleString()]}),t.jsx("div",{className:"total-label",children:"Total Bet Amount"})]})]}),t.jsxs("div",{className:"action-buttons",children:[t.jsx("button",{className:"btn btn-secondary",onClick:ne,children:"Clear All"}),t.jsx("button",{className:"btn btn-primary",onClick:gt,disabled:c.length===0||P,children:P?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"spinner"})," Generatingâ€¦"]}):"Print Ticket"})]})]})})]})}),C&&t.jsx("div",{className:"print-modal active",role:"dialog","aria-modal":"true","aria-label":"Print ticket",children:t.jsxs("div",{className:"print-container",children:[t.jsxs("div",{className:"print-header",children:[t.jsx("div",{className:"print-title",children:"Print Ticket"}),t.jsx("div",{className:"print-subtitle",children:"Review your ticket before printing"})]}),t.jsx("div",{className:"print-body",children:t.jsxs("div",{className:"ticket","aria-label":"Ticket preview",children:[t.jsxs("div",{className:"ticket-brand",children:[t.jsx("div",{className:"ticket-logo",children:"STL"}),t.jsx("div",{className:"ticket-logo",children:"COMPANY"}),t.jsx("div",{className:"ticket-logo",children:"PCSO"})]}),t.jsx("div",{className:"ticket-title",children:"STL GAMING SYSTEM"}),t.jsx("div",{className:"ticket-sub",children:"OFFICIAL BETTING TICKET â€¢ PCSO PHILIPPINES"}),t.jsxs("div",{className:"ticket-details",children:[t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{children:"TERMINAL ID:"}),t.jsx("span",{children:"STL001"})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{children:"OPERATOR:"}),t.jsx("span",{children:"TELLER01"})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{children:"SEQUENCE:"}),t.jsx("span",{children:String(Date.now()).slice(-6)})]})]}),t.jsxs("div",{className:"ticket-meta",children:[t.jsxs("div",{children:["REF: ",y]}),t.jsx("div",{children:new Date().toLocaleString("en-PH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]}),t.jsxs("div",{className:"ticket-draw-info",children:[a&&`DRAW TIME: ${a}`,t.jsxs("div",{className:"draw-date",children:["DRAW DATE: ",new Date().toLocaleDateString("en-PH")]})]}),t.jsxs("div",{className:"ticket-bets",children:[t.jsxs("div",{className:"bets-header",children:[t.jsx("span",{children:"GAME"}),t.jsx("span",{children:"COMBINATION"}),t.jsx("span",{children:"AMOUNT"})]}),c.map((d,A)=>t.jsxs("div",{className:"bet-line",children:[t.jsx("span",{className:"bet-game",children:d.game.toUpperCase()}),t.jsx("span",{className:"bet-combo",children:d.combo}),t.jsxs("span",{className:"bet-amt",children:["â‚±",d.amount.toLocaleString()]})]},d.id)),t.jsxs("div",{className:"bets-summary",children:[t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{children:"TOTAL COMBINATIONS:"}),t.jsx("span",{children:c.length})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{children:"TOTAL GAMES:"}),t.jsx("span",{children:new Set(c.map(d=>d.game)).size})]})]})]}),t.jsxs("div",{className:"ticket-total",children:[t.jsx("span",{children:"TOTAL AMOUNT"}),t.jsxs("span",{children:["â‚±",ae.toLocaleString()]})]}),t.jsxs("div",{className:"ticket-info",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{children:"DRAWING SCHEDULE:"}),t.jsx("span",{children:"11:00 AM, 4:00 PM, 9:00 PM"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{children:"CLAIM PERIOD:"}),t.jsx("span",{children:"365 DAYS FROM DRAW DATE"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{children:"STATUS:"}),t.jsx("span",{children:"ACTIVE"})]})]}),t.jsxs("div",{className:"qr",children:[t.jsx("div",{className:"qr-box","aria-hidden":"true",children:f?t.jsx("img",{src:f,alt:"Ticket QR Code",style:{width:"100%",height:"100%",imageRendering:"pixelated",display:"block"}}):t.jsx("div",{className:"qr-loading",children:t.jsx("div",{className:"qr-placeholder",children:"Generating QR..."})})}),t.jsx("div",{className:"qr-text",children:"SCAN TO VERIFY"})]}),t.jsxs("div",{className:"ticket-foot",children:[t.jsx("div",{children:"KEEP THIS TICKET SAFE â€¢ PRESENT TO CLAIM WINNINGS"}),t.jsx("div",{children:"THIS TICKET IS VALID FOR 365 DAYS FROM DRAW DATE"}),t.jsx("div",{children:"FOR INQUIRIES: CALL PCSO HOTLINE 8-889-8889"}),t.jsx("div",{children:"RESPONSIBLE GAMING: PLAY WITHIN YOUR MEANS"})]})]})}),t.jsxs("div",{className:"print-actions",children:[t.jsx("button",{className:"print-btn print-btn-back",onClick:()=>h(!1),children:"â† Back"}),t.jsx("button",{className:"print-btn print-btn-print",onClick:pt,children:"Print Ticket"})]})]})}),R&&p&&t.jsx("div",{className:"print-modal active",role:"dialog","aria-modal":"true","aria-label":"View ticket details",children:t.jsxs("div",{className:"print-container",children:[t.jsxs("div",{className:"print-header",children:[t.jsx("div",{className:"print-title",children:"Ticket Details"}),t.jsx("div",{className:"print-subtitle",children:"View your saved ticket information"})]}),t.jsx("div",{className:"print-body",children:t.jsxs("div",{className:"ticket","aria-label":"Ticket details",children:[t.jsxs("div",{className:"ticket-brand",children:[t.jsx("div",{className:"ticket-logo",children:"STL"}),t.jsx("div",{className:"ticket-logo",children:"COMPANY"}),t.jsx("div",{className:"ticket-logo",children:"PCSO"})]}),t.jsx("div",{className:"ticket-title",children:"STL GAMING SYSTEM"}),t.jsx("div",{className:"ticket-sub",children:"OFFICIAL BETTING TICKET â€¢ PCSO PHILIPPINES"}),t.jsxs("div",{className:"ticket-details",children:[t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{children:"TERMINAL ID:"}),t.jsx("span",{children:"STL001"})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{children:"OPERATOR:"}),t.jsx("span",{children:"TELLER01"})]}),t.jsxs("div",{className:"detail-row",children:[t.jsx("span",{children:"SEQUENCE:"}),t.jsx("span",{children:p.id.slice(-6)})]})]}),t.jsxs("div",{className:"ticket-meta",children:[t.jsxs("div",{children:["REF: ",p.id]}),t.jsx("div",{children:new Date(p.timestamp).toLocaleString("en-PH",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]}),t.jsxs("div",{className:"ticket-draw-info",children:[p.bets?.[0]?.drawTime&&`DRAW TIME: ${p.bets[0].drawTime}`,t.jsxs("div",{className:"draw-date",children:["DRAW DATE: ",new Date(p.timestamp).toLocaleDateString("en-PH")]})]}),t.jsxs("div",{className:"ticket-bets",children:[t.jsxs("div",{className:"bets-header",children:[t.jsx("span",{children:"GAME"}),t.jsx("span",{children:"COMBINATION"}),t.jsx("span",{children:"AMOUNT"})]}),p.bets?.map((d,A)=>t.jsxs("div",{className:"bet-line",children:[t.jsx("span",{className:"bet-game",children:d.game.toUpperCase()}),t.jsx("span",{className:"bet-combo",children:d.combo}),t.jsxs("span",{className:"bet-amt",children:["â‚±",d.amount.toLocaleString()]})]},d.id||A)),t.jsxs("div",{className:"bets-summary",children:[t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{children:"TOTAL COMBINATIONS:"}),t.jsx("span",{children:p.bets?.length||0})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx("span",{children:"TOTAL GAMES:"}),t.jsx("span",{children:p.bets?new Set(p.bets.map(d=>d.game)).size:0})]})]})]}),t.jsxs("div",{className:"ticket-total",children:[t.jsx("span",{children:"TOTAL AMOUNT"}),t.jsxs("span",{children:["â‚±",p.total.toLocaleString()]})]}),t.jsxs("div",{className:"ticket-info",children:[t.jsxs("div",{className:"info-row",children:[t.jsx("span",{children:"DRAWING SCHEDULE:"}),t.jsx("span",{children:"11:00 AM, 4:00 PM, 9:00 PM"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{children:"CLAIM PERIOD:"}),t.jsx("span",{children:"365 DAYS FROM DRAW DATE"})]}),t.jsxs("div",{className:"info-row",children:[t.jsx("span",{children:"STATUS:"}),t.jsx("span",{children:"ACTIVE"})]})]}),t.jsxs("div",{className:"qr",children:[t.jsx("div",{className:"qr-box","aria-hidden":"true",children:f?t.jsx("img",{src:f,alt:"Ticket QR Code",style:{width:"100%",height:"100%",imageRendering:"pixelated",display:"block"}}):t.jsx("div",{className:"qr-loading",children:t.jsx("div",{className:"qr-placeholder",children:"Generating QR..."})})}),t.jsx("div",{className:"qr-text",children:"SCAN TO VERIFY"})]}),t.jsxs("div",{className:"ticket-foot",children:[t.jsx("div",{children:"KEEP THIS TICKET SAFE â€¢ PRESENT TO CLAIM WINNINGS"}),t.jsx("div",{children:"THIS TICKET IS VALID FOR 365 DAYS FROM DRAW DATE"}),t.jsx("div",{children:"FOR INQUIRIES: CALL PCSO HOTLINE 8-889-8889"}),t.jsx("div",{children:"RESPONSIBLE GAMING: PLAY WITHIN YOUR MEANS"})]})]})}),t.jsxs("div",{className:"print-actions",children:[t.jsx("button",{className:"print-btn print-btn-back",onClick:O,children:"â† Close"}),t.jsx("button",{className:"print-btn print-btn-print",onClick:()=>window.print(),children:"Print Copy"})]})]})}),j.show&&t.jsx("div",{className:`toast show ${j.type}`,children:j.message})]})};export{zt as default};
