import{r as l,j as e}from"./index-DwPlwQmy.js";import{r as ie}from"./index-kye1c0wU.js";const Me=()=>{const oe=()=>{const s=new Date;return new Date(s.getTime()-s.getTimezoneOffset()*6e4).toISOString().split("T")[0]},[j]=l.useState(oe()),[m,V]=l.useState("tickets"),[S,ne]=l.useState(""),[k,J]=l.useState(""),[g,de]=l.useState(j),[y,ce]=l.useState(""),[N,U]=l.useState(""),[T,re]=l.useState(j),[$,me]=l.useState(""),[_,he]=l.useState(""),[w,G]=l.useState("active"),[c,W]=l.useState({open:!1,ticket:null}),[r,B]=l.useState({open:!1,request:null,action:null}),[u,M]=l.useState([]),[A,D]=l.useState([]),[ue,ve]=l.useState(new Set),[pe,xe]=l.useState(!1);l.useEffect(()=>{const s=setTimeout(()=>{ne(k)},300);return()=>clearTimeout(s)},[k]),l.useEffect(()=>{const s=setTimeout(()=>{me(_)},300);return()=>clearTimeout(s)},[_]);const L=l.useCallback(()=>{const s=[{id:"AKL-00001",name:"TEODOSIO, ROSELIE"},{id:"AKL-00002",name:"PASTRANA, EMMA"},{id:"AKL-00003",name:"REGALADO, LAIRA JANE"},{id:"AKL-00004",name:"SOLIMBAD, ELIZABETH"},{id:"AKL-00005",name:"CRISOSTOMO, DIANA GAILE"},{id:"AKL-00006",name:"MARTINEZ, ANGELO"},{id:"AKL-00007",name:"SANTOS, MARIA"},{id:"AKL-00008",name:"DELA CRUZ, JOHN"}],t=["STL Pares","Last 2","Last 3","Swer3"],a=["11:00 AM","4:00 PM","9:00 PM"],i=["active","active","active","active","active","winning","voided"],o=[],n=new Date;for(let d=0;d<14;d++){const x=new Date(n);x.setDate(x.getDate()-d);const h=d===0?s.slice(0,5):s,v=d===0?45:d===1?38:30-d*1.5;for(let z=0;z<v;z++){const Te=Math.floor(Math.random()*10)+1,Y=[];let X=0;for(let te=0;te<Te;te++){const F=t[Math.floor(Math.random()*t.length)],ae=[10,20,50,100,200,500,1e3][Math.floor(Math.random()*7)];let K="";if(F==="STL Pares"){const le=String(Math.floor(Math.random()*40)+1).padStart(2,"0");let H=String(Math.floor(Math.random()*40)+1).padStart(2,"0");for(;le===H;)H=String(Math.floor(Math.random()*40)+1).padStart(2,"0");K=`${le}.${H}`}else F==="Last 2"?K=String(Math.floor(Math.random()*100)).padStart(2,"0"):K=String(Math.floor(Math.random()*1e3)).padStart(3,"0");Y.push({game:F,combo:K,amount:ae,drawTime:a[Math.floor(Math.random()*a.length)]}),X+=ae}const Ae=8+Math.floor(Math.random()*15),ke=Math.floor(Math.random()*60),ee=new Date(x);ee.setHours(Ae,ke,Math.floor(Math.random()*60));const se=i[Math.floor(Math.random()*i.length)],R=h[Math.floor(Math.random()*h.length)];o.push({id:`TKT${String(1e5+o.length).slice(-5)}`,tellerId:R.id,tellerName:R.name,teller:`${R.name} (${R.id})`,timestamp:ee.toISOString(),bets:Y,total:X,status:se,voidReason:se==="voided"?["Customer requested cancellation","Wrong combination entered","Duplicate entry by mistake","System error during processing"][Math.floor(Math.random()*4)]:null})}}return o.sort((d,x)=>new Date(x.timestamp)-new Date(d.timestamp))},[]),E=l.useCallback(()=>{const s=["TEODOSIO, ROSELIE (AKL-00001)","PASTRANA, EMMA (AKL-00002)","REGALADO, LAIRA JANE (AKL-00003)","SOLIMBAD, ELIZABETH (AKL-00004)","CRISOSTOMO, DIANA GAILE (AKL-00005)","MARTINEZ, ANGELO (AKL-00006)","SANTOS, MARIA (AKL-00007)","DELA CRUZ, JOHN (AKL-00008)"],t=["Customer requested cancellation","Wrong combination entered","Duplicate entry by mistake","Customer changed mind","Incorrect amount entered","System error during entry","Customer left before payment","Bet placed after draw time","Wrong draw time selected","Technical issue with printer"],a=[],i=new Date;return[{status:"pending",count:12},{status:"approved",count:18},{status:"rejected",count:8}].forEach(({status:n,count:d})=>{for(let x=0;x<d;x++){const h=n==="pending"?Math.floor(Math.random()*2):Math.floor(Math.random()*7)+1,v=new Date(i);v.setDate(v.getDate()-h),v.setHours(8+Math.floor(Math.random()*14),Math.floor(Math.random()*60)),a.push({id:`VR${String(1e3+a.length)}`,ticketId:`TKT${String(Math.floor(Math.random()*9e4)+1e4)}`,teller:s[Math.floor(Math.random()*s.length)],reason:t[Math.floor(Math.random()*t.length)],timestamp:v.toISOString(),status:n,reviewedBy:n!=="pending"?["Admin User","Supervisor","Manager"][Math.floor(Math.random()*3)]:null,reviewedAt:n!=="pending"?new Date(v.getTime()+Math.random()*72e5).toISOString():null})}}),a.sort((n,d)=>new Date(d.timestamp)-new Date(n.timestamp))},[]);l.useEffect(()=>{try{const s=localStorage.getItem("DO_TICKETS_V5"),t=localStorage.getItem("DO_VOID_REQUESTS_V5");if(s){const a=JSON.parse(s);M(a.length>0?a:L())}else{const a=L();M(a),localStorage.setItem("DO_TICKETS_V5",JSON.stringify(a))}if(t){const a=JSON.parse(t);D(a.length>0?a:E())}else{const a=E();D(a),localStorage.setItem("DO_VOID_REQUESTS_V5",JSON.stringify(a))}}catch(s){console.error("Error loading data:",s);const t=L(),a=E();M(t),D(a),localStorage.setItem("DO_TICKETS_V5",JSON.stringify(t)),localStorage.setItem("DO_VOID_REQUESTS_V5",JSON.stringify(a))}},[L,E]),l.useEffect(()=>{u.length>0&&localStorage.setItem("DO_TICKETS_V5",JSON.stringify(u))},[u]),l.useEffect(()=>{A.length>0&&localStorage.setItem("DO_VOID_REQUESTS_V5",JSON.stringify(A))},[A]),l.useEffect(()=>{const s=c.open||r.open;return document.body.classList.toggle("do-lock",s),document.body.classList.toggle("do-blur-bg",s),()=>{document.body.classList.remove("do-lock","do-blur-bg")}},[c.open,r.open]),l.useEffect(()=>{const s=()=>{xe(window.scrollY>300)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const Ne=l.useMemo(()=>[...new Set(u.map(s=>s.teller))].sort(),[u]),O=l.useMemo(()=>{let s=u;if(S){const t=S.toLowerCase();s=s.filter(a=>a.id.toLowerCase().includes(t)||a.teller.toLowerCase().includes(t))}return g&&(s=s.filter(t=>t.timestamp.startsWith(g))),y&&(s=s.filter(t=>t.teller===y)),N&&(s=s.filter(t=>t.status===N)),s},[u,S,g,y,N]),I=l.useMemo(()=>{let s=A;if(S){const t=S.toLowerCase();s=s.filter(a=>a.ticketId.toLowerCase().includes(t)||a.teller.toLowerCase().includes(t)||a.reason.toLowerCase().includes(t))}return N&&(s=s.filter(t=>t.status===N)),s},[A,S,N]),b=l.useMemo(()=>{const s=[{id:"AKL-00001",name:"TEODOSIO, ROSELIE"},{id:"AKL-00002",name:"PASTRANA, EMMA"},{id:"AKL-00003",name:"REGALADO, LAIRA JANE"},{id:"AKL-00004",name:"SOLIMBAD, ELIZABETH"},{id:"AKL-00005",name:"CRISOSTOMO, DIANA GAILE"},{id:"AKL-00006",name:"MARTINEZ, ANGELO"},{id:"AKL-00007",name:"SANTOS, MARIA"},{id:"AKL-00008",name:"DELA CRUZ, JOHN"}],t=T,a=u.filter(i=>i.timestamp.startsWith(t));return s.map((i,o)=>{const n=a.filter(h=>h.tellerId===i.id),d=Array(24).fill(0);n.forEach(h=>{const v=new Date(h.timestamp).getHours();d[v]++});const x=n.filter(h=>h.status!=="voided").reduce((h,v)=>h+v.total,0);return{number:o+1,agentNo:i.id,agentName:i.name,hourlyData:d,totalTickets:n.length,totalSales:x}})},[u,T]),f=l.useMemo(()=>{if(!$)return b;const s=$.toLowerCase();return b.filter(t=>t.agentName.toLowerCase().includes(s)||t.agentNo.toLowerCase().includes(s))},[b,$]),p=l.useMemo(()=>{if(m==="tickets"){const s=O;return{card1:{label:g!==j?"Selected Date Tickets":"Today's Tickets",value:s.length},card2:{label:g!==j?"Selected Date Sales":"Today's Sales",value:`₱${s.filter(t=>t.status!=="voided").reduce((t,a)=>t+a.total,0).toLocaleString()}`},card3:{label:"Active Tickets",value:s.filter(t=>t.status==="active").length},card4:{label:"Voided Tickets",value:s.filter(t=>t.status==="voided").length}}}else if(m==="activity"){const s=T,t=u.filter(o=>o.timestamp.startsWith(s)),a=b.filter(o=>o.totalTickets>0).length,i=b.length-a;return{card1:{label:"Total Tellers",value:b.length},card2:{label:"Active Tellers",value:a},card3:{label:"Absent Tellers",value:i},card4:{label:"Total Sales",value:`₱${t.filter(o=>o.status!=="voided").reduce((o,n)=>o+n.total,0).toLocaleString()}`}}}else{const s=I;return{card1:{label:"Total Requests",value:s.length},card2:{label:"Pending",value:s.filter(t=>t.status==="pending").length},card3:{label:"Approved",value:s.filter(t=>t.status==="approved").length},card4:{label:"Rejected",value:s.filter(t=>t.status==="rejected").length}}}},[m,O,I,g,T,j,u,b]),je=s=>{ve(t=>{const a=new Set(t);return a.has(s)?a.delete(s):a.add(s),a})},ge=s=>{W({open:!0,ticket:s})},q=()=>{W({open:!1,ticket:null})},Z=(s,t)=>{B({open:!0,request:s,action:t})},be=()=>{if(!r.request)return;const{request:s,action:t}=r;D(a=>a.map(i=>i.id===s.id?{...i,status:t,reviewedBy:"Admin User",reviewedAt:new Date().toISOString()}:i)),t==="approved"&&M(a=>a.map(i=>i.id===s.ticketId?{...i,status:"voided",voidReason:s.reason}:i)),B({open:!1,request:null,action:null})},P=()=>{B({open:!1,request:null,action:null})},Se=()=>{window.scrollTo({top:0,behavior:"smooth"})},C=s=>new Date(s).toLocaleString("en-PH",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),fe=s=>{const t={};return s.forEach(a=>{const i=`${a.game}_${a.drawTime}`;t[i]||(t[i]={game:a.game,drawTime:a.drawTime,bets:[]}),t[i].bets.push(a)}),Object.values(t)},Q=s=>s===0?"12 AM":s<12?`${String(s).padStart(2,"0")} AM`:s===12?"12 PM":`${String(s-12).padStart(2,"0")} PM`;return e.jsxs("div",{className:"do-container",children:[e.jsxs("div",{className:"do-card",children:[e.jsxs("div",{className:"do-tabbar",children:[e.jsx("button",{className:`do-tab ${m==="tickets"?"active":""}`,onClick:()=>V("tickets"),children:"📋 Ticket Entries"}),e.jsx("button",{className:`do-tab ${m==="activity"?"active":""}`,onClick:()=>V("activity"),children:"⚡ Teller Activity"}),e.jsxs("button",{className:`do-tab ${m==="voids"?"active":""}`,onClick:()=>V("voids"),children:["🚫 Void Requests ",p.card2.value>0&&m==="voids"&&e.jsx("span",{className:"do-badge",children:p.card2.value})]})]}),e.jsxs("div",{className:"do-stats-bar",children:[e.jsxs("div",{className:"do-stat-item",children:[e.jsx("div",{className:"do-stat-value",children:p.card1.value}),e.jsx("div",{className:"do-stat-label",children:p.card1.label})]}),e.jsxs("div",{className:"do-stat-item",children:[e.jsx("div",{className:"do-stat-value",children:p.card2.value}),e.jsx("div",{className:"do-stat-label",children:p.card2.label})]}),e.jsxs("div",{className:"do-stat-item",children:[e.jsx("div",{className:"do-stat-value",children:p.card3.value}),e.jsx("div",{className:"do-stat-label",children:p.card3.label})]}),e.jsxs("div",{className:"do-stat-item",children:[e.jsx("div",{className:"do-stat-value",children:p.card4.value}),e.jsx("div",{className:"do-stat-label",children:p.card4.label})]})]}),e.jsxs("div",{className:"do-filters",children:[m==="tickets"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"do-search",children:[e.jsx("span",{className:"do-search-icon",children:"🔍"}),e.jsx("input",{type:"text",className:"do-input",placeholder:"Search tickets or tellers...",value:k,onChange:s=>J(s.target.value)})]}),e.jsx("input",{type:"date",className:"do-date-picker",value:g,onChange:s=>de(s.target.value),max:j}),e.jsxs("select",{className:"do-select",value:y,onChange:s=>ce(s.target.value),children:[e.jsx("option",{value:"",children:"All Tellers"}),Ne.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{className:"do-select",value:N,onChange:s=>U(s.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"voided",children:"Voided"}),e.jsx("option",{value:"winning",children:"Winning"})]})]}),m==="activity"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"do-search",children:[e.jsx("span",{className:"do-search-icon",children:"🔍"}),e.jsx("input",{type:"text",className:"do-input",placeholder:"Search teller name or ID...",value:_,onChange:s=>he(s.target.value)})]}),e.jsx("input",{type:"date",className:"do-date-picker",value:T,onChange:s=>re(s.target.value),max:j})]}),m==="voids"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"do-search",children:[e.jsx("span",{className:"do-search-icon",children:"🔍"}),e.jsx("input",{type:"text",className:"do-input",placeholder:"Search void requests...",value:k,onChange:s=>J(s.target.value)})]}),e.jsxs("select",{className:"do-select",value:N,onChange:s=>U(s.target.value),children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),e.jsxs("div",{className:"do-content",children:[m==="tickets"&&e.jsx("div",{className:"do-list",children:O.length===0?e.jsx("div",{className:"do-empty",children:"No tickets found"}):O.map(s=>e.jsx("div",{className:"do-ticket-item",children:e.jsxs("div",{className:"do-ticket-header",children:[e.jsxs("div",{className:"do-ticket-main",children:[e.jsx("div",{className:"do-ticket-id",children:s.id}),e.jsx("div",{className:"do-ticket-teller",children:s.teller}),e.jsxs("div",{className:"do-ticket-meta",children:[s.bets.length," bet",s.bets.length!==1?"s":""," • ₱",s.total.toLocaleString()]})]}),e.jsxs("div",{className:"do-ticket-side",children:[e.jsx("span",{className:`do-status-pill ${s.status}`,children:s.status.toUpperCase()}),e.jsx("div",{className:"do-ticket-time",children:C(s.timestamp)}),e.jsx("button",{className:"do-expand-btn",onClick:()=>ge(s),children:"View Details"})]})]})},s.id))}),m==="activity"&&e.jsxs("div",{className:"do-list",children:[e.jsxs("div",{className:"do-subtab-bar",children:[e.jsxs("button",{className:`do-subtab ${w==="active"?"active":""}`,onClick:()=>G("active"),children:["✓ Active Tellers (",f.filter(s=>s.totalTickets>0).length,")"]}),e.jsxs("button",{className:`do-subtab ${w==="absent"?"active":""}`,onClick:()=>G("absent"),children:["⊘ Absent Tellers (",f.filter(s=>s.totalTickets===0).length,")"]})]}),w==="active"&&e.jsx("div",{className:"do-activity-section",children:f.filter(s=>s.totalTickets>0).length===0?e.jsx("div",{className:"do-empty",children:"No active tellers found"}):e.jsx("div",{className:"do-teller-list-container",children:f.filter(s=>s.totalTickets>0).map(s=>{const t=ue.has(s.agentNo);return e.jsxs("div",{className:"do-teller-list-item",children:[e.jsxs("div",{className:"do-teller-row",children:[e.jsxs("div",{className:"do-teller-main-info",children:[e.jsx("div",{className:"do-teller-avatar-small",children:s.agentName.charAt(0)}),e.jsxs("div",{className:"do-teller-details",children:[e.jsx("div",{className:"do-teller-name-row",children:s.agentName}),e.jsx("div",{className:"do-teller-id-row",children:s.agentNo})]})]}),e.jsxs("div",{className:"do-teller-stats-row",children:[e.jsxs("div",{className:"do-stat-mini",children:[e.jsx("span",{className:"do-stat-mini-icon",children:"🎫"}),e.jsx("span",{className:"do-stat-mini-value",children:s.totalTickets}),e.jsx("span",{className:"do-stat-mini-label",children:"tickets"})]}),e.jsxs("div",{className:"do-stat-mini",children:[e.jsx("span",{className:"do-stat-mini-icon",children:"💰"}),e.jsxs("span",{className:"do-stat-mini-value",children:["₱",s.totalSales.toLocaleString()]}),e.jsx("span",{className:"do-stat-mini-label",children:"sales"})]})]}),e.jsx("button",{className:"do-view-breakdown-btn",onClick:()=>je(s.agentNo),children:t?"▲ Hide Details":"▼ View Breakdown"})]}),t&&e.jsxs("div",{className:"do-teller-breakdown",children:[e.jsxs("div",{className:"do-breakdown-header",children:[e.jsx("h4",{children:"Hourly Activity Breakdown"}),e.jsx("span",{className:"do-breakdown-subtitle",children:"Tickets processed per hour"})]}),e.jsx("div",{className:"do-activity-chart-expanded",children:e.jsx("div",{className:"do-chart-bars-expanded",children:s.hourlyData.map((a,i)=>{if(a===0)return null;const o=Math.max(...s.hourlyData),n=o>0?a/o*100:0;return e.jsxs("div",{className:"do-bar-item-expanded",children:[e.jsxs("div",{className:"do-bar-info",children:[e.jsx("span",{className:"do-bar-label",children:Q(i)}),e.jsxs("span",{className:"do-bar-count",children:[a," ticket",a!==1?"s":""]})]}),e.jsx("div",{className:"do-bar-visual",children:e.jsx("div",{className:"do-bar-fill",style:{width:`${n}%`},children:e.jsx("span",{className:"do-bar-percent",children:a})})})]},i)})})}),e.jsxs("div",{className:"do-breakdown-summary",children:[e.jsxs("div",{className:"do-summary-item",children:[e.jsx("span",{className:"do-summary-label",children:"Peak Hour:"}),e.jsx("span",{className:"do-summary-value",children:Q(s.hourlyData.indexOf(Math.max(...s.hourlyData)))})]}),e.jsxs("div",{className:"do-summary-item",children:[e.jsx("span",{className:"do-summary-label",children:"Total Tickets:"}),e.jsx("span",{className:"do-summary-value",children:s.totalTickets})]}),e.jsxs("div",{className:"do-summary-item",children:[e.jsx("span",{className:"do-summary-label",children:"Total Sales:"}),e.jsxs("span",{className:"do-summary-value",children:["₱",s.totalSales.toLocaleString()]})]}),e.jsxs("div",{className:"do-summary-item",children:[e.jsx("span",{className:"do-summary-label",children:"Avg per Ticket:"}),e.jsxs("span",{className:"do-summary-value",children:["₱",s.totalTickets>0?Math.round(s.totalSales/s.totalTickets).toLocaleString():"0"]})]})]})]})]},s.agentNo)})})}),w==="absent"&&e.jsx("div",{className:"do-activity-section",children:f.filter(s=>s.totalTickets===0).length===0?e.jsx("div",{className:"do-empty",children:"No absent tellers found"}):e.jsx("div",{className:"do-absent-list",children:f.filter(s=>s.totalTickets===0).map(s=>e.jsxs("div",{className:"do-absent-teller",children:[e.jsx("div",{className:"do-absent-avatar",children:s.agentName.charAt(0)}),e.jsxs("div",{className:"do-absent-details",children:[e.jsx("div",{className:"do-absent-name",children:s.agentName}),e.jsx("div",{className:"do-absent-id",children:s.agentNo})]}),e.jsxs("div",{className:"do-absent-badge",children:[e.jsx("span",{className:"do-absent-icon",children:"⊘"}),"No Activity"]})]},s.agentNo))})})]}),m==="voids"&&e.jsx("div",{className:"do-list",children:I.length===0?e.jsx("div",{className:"do-empty",children:"No void requests found"}):I.map(s=>e.jsxs("div",{className:"do-void-item",children:[e.jsxs("div",{className:"do-void-header",children:[e.jsxs("div",{className:"do-void-main",children:[e.jsxs("div",{className:"do-void-id",children:["Request #",s.id]}),e.jsxs("div",{className:"do-void-ticket",children:["Ticket: ",s.ticketId]}),e.jsx("div",{className:"do-void-teller",children:s.teller})]}),e.jsxs("div",{className:"do-void-side",children:[e.jsx("span",{className:`do-status-pill ${s.status}`,children:s.status.toUpperCase()}),e.jsx("div",{className:"do-void-time",children:C(s.timestamp)})]})]}),e.jsxs("div",{className:"do-void-reason",children:[e.jsx("strong",{children:"Reason:"})," ",s.reason]}),s.reviewedBy&&e.jsxs("div",{className:"do-void-review",children:["Reviewed by ",s.reviewedBy," on ",C(s.reviewedAt)]}),s.status==="pending"&&e.jsxs("div",{className:"do-void-actions",children:[e.jsx("button",{className:"do-btn-approve",onClick:()=>Z(s,"approved"),children:"✓ Approve"}),e.jsx("button",{className:"do-btn-reject",onClick:()=>Z(s,"rejected"),children:"✕ Reject"})]})]},s.id))})]})]}),pe&&e.jsx("button",{className:"do-back-to-top",onClick:Se,title:"Back to top",children:e.jsx("span",{className:"do-back-to-top-icon",children:"↑"})}),c.open&&c.ticket&&ie.createPortal(e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"do-modal-overlay active",onClick:q}),e.jsx("div",{className:"do-modal-container active",children:e.jsxs("div",{className:"do-modal-content",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"do-modal-header",children:[e.jsx("h3",{children:"Ticket Details"}),e.jsx("button",{className:"do-modal-close",onClick:q,children:"×"})]}),e.jsxs("div",{className:"do-modal-body",children:[e.jsxs("div",{className:"do-detail-card",children:[e.jsxs("div",{className:"do-detail-row",children:[e.jsx("span",{className:"do-detail-label",children:"Ticket ID:"}),e.jsx("span",{className:"do-detail-value",children:c.ticket.id})]}),e.jsxs("div",{className:"do-detail-row",children:[e.jsx("span",{className:"do-detail-label",children:"Teller:"}),e.jsx("span",{className:"do-detail-value",children:c.ticket.teller})]}),e.jsxs("div",{className:"do-detail-row",children:[e.jsx("span",{className:"do-detail-label",children:"Timestamp:"}),e.jsx("span",{className:"do-detail-value",children:C(c.ticket.timestamp)})]}),e.jsxs("div",{className:"do-detail-row",children:[e.jsx("span",{className:"do-detail-label",children:"Status:"}),e.jsx("span",{className:`do-status-pill ${c.ticket.status}`,children:c.ticket.status.toUpperCase()})]}),e.jsxs("div",{className:"do-detail-row",children:[e.jsx("span",{className:"do-detail-label",children:"Total Bets:"}),e.jsx("span",{className:"do-detail-value",children:c.ticket.bets.length})]}),e.jsxs("div",{className:"do-detail-row",children:[e.jsx("span",{className:"do-detail-label",children:"Total Amount:"}),e.jsxs("span",{className:"do-detail-value",children:["₱",c.ticket.total.toLocaleString()]})]})]}),e.jsxs("div",{className:"do-bets-detail",children:[e.jsx("h4",{children:"Bet Details"}),fe(c.ticket.bets).map((s,t)=>e.jsxs("div",{className:"do-bet-group-detail",children:[e.jsxs("div",{className:"do-bet-group-header-detail",children:[e.jsx("strong",{children:s.game})," • Draw: ",s.drawTime]}),e.jsx("div",{className:"do-bet-list-detail",children:s.bets.map((a,i)=>{const o=c.ticket.status==="winning"&&i===0;return e.jsxs("div",{className:`do-bet-line-detail ${o?"winning":""}`,children:[e.jsx("span",{className:"do-bet-combo-detail",children:a.combo}),e.jsxs("span",{className:"do-bet-amount-detail",children:["₱",a.amount.toLocaleString()]}),o&&e.jsx("span",{className:"do-win-badge-detail",children:"WIN"})]},i)})})]},t))]}),c.ticket.voidReason&&e.jsxs("div",{className:"do-void-reason-detail",children:[e.jsx("strong",{children:"Void Reason:"})," ",c.ticket.voidReason]})]}),e.jsx("div",{className:"do-modal-footer",children:e.jsx("button",{className:"do-btn-secondary",onClick:q,children:"Close"})})]})})]}),document.body),r.open&&r.request&&ie.createPortal(e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"do-modal-overlay active",onClick:P}),e.jsx("div",{className:"do-modal-container active",children:e.jsxs("div",{className:"do-modal-content",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"do-modal-header",children:[e.jsxs("h3",{children:["Confirm ",r.action==="approved"?"Approval":"Rejection"]}),e.jsx("button",{className:"do-modal-close",onClick:P,children:"×"})]}),e.jsxs("div",{className:"do-modal-body",children:[e.jsxs("p",{children:["Are you sure you want to ",e.jsx("strong",{children:r.action==="approved"?"approve":"reject"})," this void request?"]}),e.jsxs("div",{className:"do-confirm-details",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Request ID:"})," ",r.request.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Ticket ID:"})," ",r.request.ticketId]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Teller:"})," ",r.request.teller]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Reason:"})," ",r.request.reason]})]})]}),e.jsxs("div",{className:"do-modal-footer",children:[e.jsx("button",{className:"do-btn-secondary",onClick:P,children:"Cancel"}),e.jsxs("button",{className:r.action==="approved"?"do-btn-approve":"do-btn-reject",onClick:be,children:["Confirm ",r.action==="approved"?"Approval":"Rejection"]})]})]})})]}),document.body)]})};export{Me as default};
