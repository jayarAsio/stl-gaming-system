import{r as n,j as e}from"./index-D9c0fj6T.js";const J=(o=new Date)=>{const f=o.getFullYear(),d=String(o.getMonth()+1).padStart(2,"0"),S=String(o.getDate()).padStart(2,"0");return`${f}-${d}-${S}`},K=()=>{const o=J(new Date),f=new Date,[d,S]=n.useState("summary"),[p,F]=n.useState(o),[x,U]=n.useState(o),[m,_]=n.useState(""),[L,B]=n.useState("all"),[g,P]=n.useState("all"),[M,E]=n.useState("all"),[b,G]=n.useState("all"),[A,V]=n.useState("all"),[w,W]=n.useState("all"),[y,q]=n.useState("all"),j=n.useMemo(()=>[{id:"T-0001",name:"Ana Cruz",role:"Teller",area:"Toril",status:"Active",loginCount:145,lastLogin:`${o} 08:15:23`,ticketsProcessed:1247},{id:"T-0002",name:"Mark Dela Peña",role:"Teller",area:"Buhangin",status:"Suspended",loginCount:89,lastLogin:`${o} 14:22:11`,ticketsProcessed:856},{id:"T-0003",name:"Carla Reyes",role:"Teller",area:"Lanang",status:"Active",loginCount:167,lastLogin:`${o} 09:02:45`,ticketsProcessed:1589},{id:"C-0101",name:"Joy Santos",role:"Collector",area:"Matina",status:"Active",loginCount:98,lastLogin:`${o} 07:45:12`,ticketsProcessed:0},{id:"T-0004",name:"Paolo Garcia",role:"Teller",area:"Sasa",status:"Active",loginCount:134,lastLogin:`${o} 16:30:08`,ticketsProcessed:1123},{id:"C-0102",name:"Leo Tan",role:"Collector",area:"Agdao",status:"Active",loginCount:76,lastLogin:`${o} 18:20:33`,ticketsProcessed:0},{id:"T-0005",name:"Lara Torres",role:"Teller",area:"Agdao",status:"Active",loginCount:142,lastLogin:`${o} 08:55:17`,ticketsProcessed:1334},{id:"T-0006",name:"Mike Ramos",role:"Teller",area:"Toril",status:"Active",loginCount:156,lastLogin:`${o} 09:12:05`,ticketsProcessed:1456},{id:"T-0007",name:"Nina Lopez",role:"Teller",area:"Buhangin",status:"Suspended",loginCount:67,lastLogin:`${o} 12:45:22`,ticketsProcessed:678},{id:"C-0103",name:"Rico Martinez",role:"Collector",area:"Lanang",status:"Active",loginCount:88,lastLogin:`${o} 19:15:40`,ticketsProcessed:0}],[o]);n.useMemo(()=>{const t=[];return["Toril","Buhangin","Lanang","Matina","Sasa","Agdao"].forEach(l=>{t.push({date:o,area:l,totalTickets:Math.floor(Math.random()*400)+200,activeTickets:Math.floor(Math.random()*350)+150,voidedTickets:Math.floor(Math.random()*40)+10,totalSales:Math.floor(Math.random()*4e5)+15e4,voidRequests:Math.floor(Math.random()*12)+3})}),t},[o]);const R=n.useMemo(()=>({"T-0001":"C-0101","T-0003":"C-0103","T-0004":"C-0101","T-0005":"C-0102","T-0006":"C-0101"}),[]),I=n.useMemo(()=>{const t=[];return j.filter(l=>l.role==="Teller"&&l.status==="Active").forEach(l=>{const i=Math.floor(Math.random()*150)+50,c=Math.floor(Math.random()*10)+1,r=i*(Math.floor(Math.random()*50)+20),h=R[l.id],s=h?j.find(u=>u.id===h):null;t.push({date:o,tellerId:l.id,tellerName:l.name,area:l.area,collector:s?s.name:"—",collectorId:h||null,ticketsIssued:i,ticketsVoided:c,ticketsActive:i-c,totalSales:r,loginTime:"08:"+Math.floor(Math.random()*60).toString().padStart(2,"0")+":00",logoutTime:"17:"+Math.floor(Math.random()*60).toString().padStart(2,"0")+":00"})}),t},[j,R,o]),D=n.useMemo(()=>{const t=[],a=["STL Pares","Last 2","Last 3","Swer3"],l=["11:00 AM","4:00 PM","9:00 PM"],i=r=>{const[h,s]=r.split(" ");let[u,$]=h.split(":").map(Number);s.toUpperCase()==="PM"&&u!==12&&(u+=12),s.toUpperCase()==="AM"&&u===12&&(u=0);const k=new Date;return k.setHours(u,$,0,0),k},c=r=>{if(r==="STL Pares"){const h=String(Math.floor(Math.random()*40)+1).padStart(2,"0"),s=String(Math.floor(Math.random()*40)+1).padStart(2,"0");return`${h}-${s}`}else return r==="Last 2"?String(Math.floor(Math.random()*100)).padStart(2,"0"):String(Math.floor(Math.random()*1e3)).padStart(3,"0")};return a.forEach(r=>{l.forEach(h=>{const u=i(h)<f,$=Math.floor(Math.random()*4e3)+1e3,k=Math.floor(Math.random()*15e5)+5e5;t.push({date:o,game:r,drawTime:h,status:u?"Completed":"Scheduled",totalBets:$,totalAmount:k,winningNumbers:u?c(r):"—",winners:u?Math.floor(Math.random()*45)+5:0,payoutAmount:u?Math.floor(Math.random()*4e5)+5e4:0})})}),t},[o,f]),z=n.useMemo(()=>j.filter(a=>a.role==="Teller"&&a.status==="Active").sort((a,l)=>a.name.localeCompare(l.name)),[j]),O=n.useMemo(()=>j.filter(a=>a.role==="Collector"&&a.status==="Active").sort((a,l)=>a.name.localeCompare(l.name)),[j]),Q=n.useMemo(()=>[...new Set(D.map(a=>a.drawTime))].sort(),[D]),v=n.useMemo(()=>j.filter(t=>{const a=m?t.name.toLowerCase().includes(m.toLowerCase())||t.id.toLowerCase().includes(m.toLowerCase())||t.area.toLowerCase().includes(m.toLowerCase()):!0,l=L==="all"||t.status===L,i=g==="all"||t.area===g,c=M==="all"||t.role===M;return a&&l&&i&&c}),[j,m,L,g,M]),N=n.useMemo(()=>I.filter(t=>{const a=new Date(t.date),l=new Date(p),i=new Date(x),c=a>=l&&a<=i,r=g==="all"||t.area===g,h=b==="all"||t.tellerId===b,s=y==="all"||t.collectorId===y,u=m?t.tellerName.toLowerCase().includes(m.toLowerCase())||t.tellerId.toLowerCase().includes(m.toLowerCase())||t.area.toLowerCase().includes(m.toLowerCase())||(t.collector||"").toLowerCase().includes(m.toLowerCase()):!0;return c&&r&&h&&s&&u}),[I,p,x,g,b,y,m]),T=n.useMemo(()=>D.filter(t=>{const a=new Date(t.date),l=new Date(p),i=new Date(x),c=a>=l&&a<=i,r=m?t.game.toLowerCase().includes(m.toLowerCase())||t.winningNumbers.toLowerCase().includes(m.toLowerCase()):!0,h=A==="all"||t.game===A,s=w==="all"||t.drawTime===w;return c&&r&&h&&s}),[D,p,x,m,A,w]),C=n.useMemo(()=>{const t=N.reduce((c,r)=>c+r.ticketsIssued,0),a=N.reduce((c,r)=>c+r.totalSales,0),l=T.filter(c=>c.status==="Completed").length,i=T.reduce((c,r)=>c+r.payoutAmount,0);return{totalUsers:v.length,activeUsers:v.filter(c=>c.status==="Active").length,totalTickets:t,totalSales:a,totalDraws:l,totalPayout:i,profitMargin:a>0?((a-i)/a*100).toFixed(2):0}},[v,N,T]),H=n.useCallback(()=>{let t="",a="";if(d==="users"){const r=["User ID","User Name","Role","Area","Status","Login Count","Last Login","Tickets Processed"],h=v.map(s=>[s.id,s.name,s.role,s.area,s.status,s.loginCount,s.lastLogin,s.ticketsProcessed]);t=[r.join(","),...h.map(s=>s.join(","))].join(`
`),a=`user_management_report_${p}_to_${x}.csv`}else if(d==="operations"){const r=["Date","Teller ID","Teller Name","Area","Collector","Tickets Issued","Tickets Voided","Tickets Active","Total Sales","Login Time","Logout Time"],h=N.map(s=>[s.date,s.tellerId,s.tellerName,s.area,s.collector,s.ticketsIssued,s.ticketsVoided,s.ticketsActive,s.totalSales,s.loginTime,s.logoutTime]);t=[r.join(","),...h.map(s=>s.join(","))].join(`
`),a=`teller_operations_report_${p}_to_${x}.csv`}else if(d==="draws"){const r=["Date","Game","Draw Time","Status","Total Bets","Total Amount","Winning Numbers","Winners","Payout Amount"],h=T.map(s=>[s.date,s.game,s.drawTime,s.status,s.totalBets,s.totalAmount,s.winningNumbers,s.winners,s.payoutAmount]);t=[r.join(","),...h.map(s=>s.join(","))].join(`
`),a=`draw_management_report_${p}_to_${x}.csv`}const l=new Blob([t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),c=URL.createObjectURL(l);i.setAttribute("href",c),i.setAttribute("download",a),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},[d,v,N,T,p,x]);return e.jsxs("div",{className:"rpt-container",children:[e.jsx("div",{className:"rpt-header",children:e.jsxs("div",{className:"rpt-header-content",children:[e.jsxs("div",{className:"rpt-header-text",children:[e.jsx("h1",{className:"rpt-title",children:"Reports & Analytics"}),e.jsx("p",{className:"rpt-subtitle",children:"Comprehensive reports across all system modules"})]}),e.jsx("div",{className:"rpt-header-actions",children:d!=="summary"&&e.jsxs("button",{className:"rpt-export-btn",onClick:H,children:[e.jsx("span",{children:"📥"})," Export to CSV"]})})]})}),e.jsx("div",{className:"rpt-tabs-card",children:e.jsxs("div",{className:"rpt-tabs",children:[e.jsxs("button",{className:`rpt-tab ${d==="summary"?"active":""}`,onClick:()=>S("summary"),children:[e.jsx("span",{children:"📊"})," Summary"]}),e.jsxs("button",{className:`rpt-tab ${d==="users"?"active":""}`,onClick:()=>S=S("users"),children:[e.jsx("span",{children:"👥"})," User Management"]}),e.jsxs("button",{className:`rpt-tab ${d==="operations"?"active":""}`,onClick:()=>S("operations"),children:[e.jsx("span",{children:"📋"})," Daily Operations"]}),e.jsxs("button",{className:`rpt-tab ${d==="draws"?"active":""}`,onClick:()=>S("draws"),children:[e.jsx("span",{children:"🎲"})," Draw Management"]})]})}),d!=="summary"&&e.jsx("div",{className:"rpt-filters-card",children:e.jsxs("div",{className:"rpt-filters",children:[e.jsxs("div",{className:"rpt-search-wrapper",children:[e.jsx("span",{className:"rpt-search-icon",children:"🔍"}),e.jsx("input",{type:"text",className:"rpt-search-input",placeholder:`Search ${d}...`,value:m,onChange:t=>_(t.target.value)})]}),e.jsxs("div",{className:"rpt-date-group",children:[e.jsx("label",{className:"rpt-date-label",children:"From"}),e.jsx("input",{type:"date",className:"rpt-date-input",value:p,onChange:t=>F(t.target.value)})]}),e.jsxs("div",{className:"rpt-date-group",children:[e.jsx("label",{className:"rpt-date-label",children:"To"}),e.jsx("input",{type:"date",className:"rpt-date-input",value:x,onChange:t=>U(t.target.value)})]}),d==="users"&&e.jsxs(e.Fragment,{children:[e.jsxs("select",{className:"rpt-filter-select",value:L,onChange:t=>B(t.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Suspended",children:"Suspended"})]}),e.jsxs("select",{className:"rpt-filter-select",value:g,onChange:t=>P(t.target.value),children:[e.jsx("option",{value:"all",children:"All Areas"}),e.jsx("option",{value:"Toril",children:"Toril"}),e.jsx("option",{value:"Buhangin",children:"Buhangin"}),e.jsx("option",{value:"Lanang",children:"Lanang"}),e.jsx("option",{value:"Matina",children:"Matina"}),e.jsx("option",{value:"Sasa",children:"Sasa"}),e.jsx("option",{value:"Agdao",children:"Agdao"})]}),e.jsxs("select",{className:"rpt-filter-select",value:M,onChange:t=>E(t.target.value),children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"Teller",children:"Tellers"}),e.jsx("option",{value:"Collector",children:"Collectors"})]})]}),d==="operations"&&e.jsxs(e.Fragment,{children:[e.jsxs("select",{className:"rpt-filter-select",value:g,onChange:t=>P(t.target.value),children:[e.jsx("option",{value:"all",children:"All Areas"}),e.jsx("option",{value:"Toril",children:"Toril"}),e.jsx("option",{value:"Buhangin",children:"Buhangin"}),e.jsx("option",{value:"Lanang",children:"Lanang"}),e.jsx("option",{value:"Matina",children:"Matina"}),e.jsx("option",{value:"Sasa",children:"Sasa"}),e.jsx("option",{value:"Agdao",children:"Agdao"})]}),e.jsxs("select",{className:"rpt-filter-select rpt-filter-teller",value:b,onChange:t=>G(t.target.value),children:[e.jsx("option",{value:"all",children:"All Tellers"}),z.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsxs("select",{className:"rpt-filter-select rpt-filter-collector",value:y,onChange:t=>q(t.target.value),children:[e.jsx("option",{value:"all",children:"All Collectors"}),O.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),d==="draws"&&e.jsxs(e.Fragment,{children:[e.jsxs("select",{className:"rpt-filter-select",value:A,onChange:t=>V(t.target.value),children:[e.jsx("option",{value:"all",children:"All Games"}),e.jsx("option",{value:"STL Pares",children:"STL Pares"}),e.jsx("option",{value:"Last 2",children:"Last 2"}),e.jsx("option",{value:"Last 3",children:"Last 3"}),e.jsx("option",{value:"Swer3",children:"Swer3"})]}),e.jsxs("select",{className:"rpt-filter-select",value:w,onChange:t=>W(t.target.value),children:[e.jsx("option",{value:"all",children:"All Draw Times"}),Q.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]})}),d==="summary"&&e.jsx("div",{className:"rpt-summary-section",children:e.jsxs("div",{className:"rpt-summary-grid",children:[e.jsxs("div",{className:"rpt-stat-card",children:[e.jsx("div",{className:"rpt-stat-icon rpt-icon-users",children:"👥"}),e.jsxs("div",{className:"rpt-stat-body",children:[e.jsx("div",{className:"rpt-stat-value",children:C.totalUsers}),e.jsx("div",{className:"rpt-stat-label",children:"Total Users"}),e.jsxs("div",{className:"rpt-stat-sub",children:[C.activeUsers," active"]})]})]}),e.jsxs("div",{className:"rpt-stat-card",children:[e.jsx("div",{className:"rpt-stat-icon rpt-icon-tickets",children:"🎫"}),e.jsxs("div",{className:"rpt-stat-body",children:[e.jsx("div",{className:"rpt-stat-value",children:C.totalTickets.toLocaleString()}),e.jsx("div",{className:"rpt-stat-label",children:"Total Tickets"}),e.jsxs("div",{className:"rpt-stat-sub",children:[p," to ",x]})]})]}),e.jsxs("div",{className:"rpt-stat-card",children:[e.jsx("div",{className:"rpt-stat-icon rpt-icon-sales",children:"💰"}),e.jsxs("div",{className:"rpt-stat-body",children:[e.jsxs("div",{className:"rpt-stat-value",children:["₱",(C.totalSales/1e6).toFixed(2),"M"]}),e.jsx("div",{className:"rpt-stat-label",children:"Total Sales"}),e.jsxs("div",{className:"rpt-stat-sub",children:[C.profitMargin,"% margin"]})]})]}),e.jsxs("div",{className:"rpt-stat-card",children:[e.jsx("div",{className:"rpt-stat-icon rpt-icon-draws",children:"🎲"}),e.jsxs("div",{className:"rpt-stat-body",children:[e.jsx("div",{className:"rpt-stat-value",children:C.totalDraws}),e.jsx("div",{className:"rpt-stat-label",children:"Completed Draws"}),e.jsxs("div",{className:"rpt-stat-sub",children:["₱",(C.totalPayout/1e6).toFixed(2),"M payout"]})]})]})]})}),d==="users"&&e.jsxs("div",{className:"rpt-card",children:[e.jsxs("div",{className:"rpt-card-header",children:[e.jsx("h3",{className:"rpt-card-title",children:"User Management Report"}),e.jsxs("div",{className:"rpt-results-count",children:["Showing ",e.jsx("strong",{children:v.length})," users"]})]}),e.jsx("div",{className:"rpt-table-wrapper",children:e.jsxs("table",{className:"rpt-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Area"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Login Count"}),e.jsx("th",{children:"Last Login"}),e.jsx("th",{children:"Tickets Processed"})]})}),e.jsx("tbody",{children:v.length>0?v.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"rpt-td-id",children:t.id}),e.jsx("td",{className:"rpt-td-name",children:t.name}),e.jsx("td",{children:t.role}),e.jsx("td",{children:t.area}),e.jsx("td",{children:e.jsx("span",{className:`rpt-pill ${t.status==="Active"?"rpt-pill-success":"rpt-pill-danger"}`,children:t.status})}),e.jsx("td",{className:"rpt-td-number",children:t.loginCount}),e.jsx("td",{className:"rpt-td-time",children:t.lastLogin}),e.jsx("td",{className:"rpt-td-number",children:t.ticketsProcessed.toLocaleString()})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"8",className:"rpt-no-results",children:"No users found matching your criteria"})})})]})})]}),d==="operations"&&e.jsxs("div",{className:"rpt-card",children:[e.jsxs("div",{className:"rpt-card-header",children:[e.jsx("h3",{className:"rpt-card-title",children:"Teller Operations Report"}),e.jsxs("div",{className:"rpt-results-count",children:["Showing ",e.jsx("strong",{children:N.length})," records"]})]}),e.jsx("div",{className:"rpt-table-wrapper",children:e.jsxs("table",{className:"rpt-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Teller ID"}),e.jsx("th",{children:"Teller Name"}),e.jsx("th",{children:"Area"}),e.jsx("th",{children:"Collector"}),e.jsx("th",{children:"Tickets Issued"}),e.jsx("th",{children:"Voided"}),e.jsx("th",{children:"Active"}),e.jsx("th",{children:"Total Sales"}),e.jsx("th",{children:"Login"}),e.jsx("th",{children:"Logout"})]})}),e.jsx("tbody",{children:N.length>0?N.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"rpt-td-date",children:t.date}),e.jsx("td",{className:"rpt-td-id",children:t.tellerId}),e.jsx("td",{className:"rpt-td-name",children:t.tellerName}),e.jsx("td",{children:t.area}),e.jsx("td",{className:"rpt-td-name",children:t.collector}),e.jsx("td",{className:"rpt-td-number",children:t.ticketsIssued.toLocaleString()}),e.jsx("td",{className:"rpt-td-number",children:t.ticketsVoided.toLocaleString()}),e.jsx("td",{className:"rpt-td-number",children:t.ticketsActive.toLocaleString()}),e.jsxs("td",{className:"rpt-td-currency",children:["₱",t.totalSales.toLocaleString()]}),e.jsx("td",{className:"rpt-td-time",children:t.loginTime}),e.jsx("td",{className:"rpt-td-time",children:t.logoutTime})]},a)):e.jsx("tr",{children:e.jsx("td",{colSpan:"11",className:"rpt-no-results",children:"No teller operations data found for selected filters"})})})]})})]}),d==="draws"&&e.jsxs("div",{className:"rpt-card",children:[e.jsxs("div",{className:"rpt-card-header",children:[e.jsx("h3",{className:"rpt-card-title",children:"Draw Management Report"}),e.jsxs("div",{className:"rpt-results-count",children:["Showing ",e.jsx("strong",{children:T.length})," draws"]})]}),e.jsx("div",{className:"rpt-table-wrapper",children:e.jsxs("table",{className:"rpt-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Game"}),e.jsx("th",{children:"Draw Time"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Total Bets"}),e.jsx("th",{children:"Total Amount"}),e.jsx("th",{children:"Winning Numbers"}),e.jsx("th",{children:"Winners"}),e.jsx("th",{children:"Payout"})]})}),e.jsx("tbody",{children:T.length>0?T.map((t,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"rpt-td-date",children:t.date}),e.jsx("td",{className:"rpt-td-game",children:t.game}),e.jsx("td",{children:t.drawTime}),e.jsx("td",{children:e.jsx("span",{className:`rpt-pill ${t.status==="Completed"?"rpt-pill-success":"rpt-pill-warning"}`,children:t.status})}),e.jsx("td",{className:"rpt-td-number",children:t.totalBets.toLocaleString()}),e.jsxs("td",{className:"rpt-td-currency",children:["₱",t.totalAmount.toLocaleString()]}),e.jsx("td",{className:"rpt-td-winning",children:t.winningNumbers}),e.jsx("td",{className:"rpt-td-number",children:t.winners>0?t.winners:"—"}),e.jsx("td",{className:"rpt-td-currency",children:t.payoutAmount>0?`₱${t.payoutAmount.toLocaleString()}`:"—"})]},a)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"rpt-no-results",children:"No draw data found for selected filters"})})})]})})]})]})};export{K as default};
